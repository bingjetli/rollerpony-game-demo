{"firstLayout":"","gdVersion":{"build":99,"major":4,"minor":0,"revision":0},"properties":{"adaptGameResolutionAtRuntime":true,"antialiasingMode":"none","antialisingEnabledOnMobile":false,"folderProject":false,"orientation":"landscape","packageName":"com.example.gamename","pixelsRounding":false,"projectUuid":"0738fb8a-256a-4457-bcc2-2a7931fdcf80","scaleMode":"nearest","sizeOnStartupMode":"","templateSlug":"","useExternalSourceFiles":false,"version":"1.0.0","name":"rollerpony-game-v2","description":"","author":"","windowWidth":1280,"windowHeight":768,"latestCompilationDirectory":"","maxFPS":60,"minFPS":20,"verticalSync":false,"platformSpecificAssets":{},"loadingScreen":{"backgroundColor":0,"backgroundFadeInDuration":0.2,"backgroundImageResourceName":"","gdevelopLogoStyle":"light","logoAndProgressFadeInDuration":0.2,"logoAndProgressLogoFadeInDelay":0.2,"minDuration":1.5,"progressBarColor":16777215,"progressBarHeight":20.0,"progressBarMaxWidth":200.0,"progressBarMinWidth":40.0,"progressBarWidthPercent":30.0,"showGDevelopSplash":true,"showProgressBar":true},"watermark":{"placement":"bottom-left","showWatermark":true},"authorIds":[],"authorUsernames":[],"categories":[],"playableDevices":[],"extensionProperties":[],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"alwaysLoaded":false,"file":"assets/RollerponyFloor_Final.png","kind":"image","metadata":"","name":"assets\\RollerponyFloor_Final.png","smoothed":true,"userAdded":true},{"alwaysLoaded":false,"file":"assets/player_sprite.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"player_sprite","smoothed":true,"userAdded":true},{"alwaysLoaded":false,"file":"assets/player_sprite2.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"player_sprite2","smoothed":true,"userAdded":true},{"file":"assets/Ninja.glb","kind":"model3D","metadata":"","name":"Ninja.glb","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/3D Colorful Monsters/Blob/f04621c7ae1fbafef332c3023d99b7d46a2aa7f8a414918bb4b33bc2c9748359_Ninja.glb","name":"Ninja.glb"}},{"file":"assets/Road Crossing.glb","kind":"model3D","metadata":"","name":"Road Crossing.glb","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/3D City Kit (Roads)/Ground/f779655df69ebcabbcc9ee5bc194376ae12f60851ba76108644db935665a2d19_Road Crossing.glb","name":"Road Crossing.glb"}},{"alwaysLoaded":false,"file":"assets/Player_idle down.png","kind":"image","metadata":"","name":"Player_idle down.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/5d569e586628c927048fde5a05857f93fd72a96ad5e974508a78660594eaf03f_Player_idle down.png","name":"Player_idle down.png"}},{"alwaysLoaded":false,"file":"assets/Player_idle left.png","kind":"image","metadata":"","name":"Player_idle left.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/b013a186d851fd578026051e1585fb3983e0cb2640812feb5d53429260f00512_Player_idle left.png","name":"Player_idle left.png"}},{"alwaysLoaded":false,"file":"assets/Player_idle right.png","kind":"image","metadata":"","name":"Player_idle right.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/dc591e58f1d877bb590c665abc11085f6ba6a9b3f23b58c9b9c41f05cb292ad6_Player_idle right.png","name":"Player_idle right.png"}},{"alwaysLoaded":false,"file":"assets/Player_idle up.png","kind":"image","metadata":"","name":"Player_idle up.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/fa9cec47e031e17388c11e0ea1edc38df64ff4c9905bea4ab649db78ca7e6fc0_Player_idle up.png","name":"Player_idle up.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined idle down_1.png","kind":"image","metadata":"","name":"Player_outlined idle down_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/beb7747891f3ae0d97f6c6ab1eadd404349cd3a97c6bb3d65a0e52c44b49f7bd_Player_outlined idle down_1.png","name":"Player_outlined idle down_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined idle left_1.png","kind":"image","metadata":"","name":"Player_outlined idle left_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/5520faf630ba83453ae5555dba4910efb8639cca82d37b67cd0e5d5d7c0da71f_Player_outlined idle left_1.png","name":"Player_outlined idle left_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined idle right_1.png","kind":"image","metadata":"","name":"Player_outlined idle right_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/a3549d6201ce87ddaf29e7f44cde15758e6a70419fe6e24c9076e3c9afab6d5d_Player_outlined idle right_1.png","name":"Player_outlined idle right_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined idle up_1.png","kind":"image","metadata":"","name":"Player_outlined idle up_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/3bec0473110c32f55e16b6436b7c46c04e6002829b75ab015330f1234562bfeb_Player_outlined idle up_1.png","name":"Player_outlined idle up_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined walk down_1_1.png","kind":"image","metadata":"","name":"Player_outlined walk down_1_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/e16ee164cabb3937a440589a3199afa37e66d771dae4e4ef041553d7e20f3dda_Player_outlined walk down_1_1.png","name":"Player_outlined walk down_1_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined walk down_2_1.png","kind":"image","metadata":"","name":"Player_outlined walk down_2_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/a0283be70d3704165e33413c04e12de5406bc91c15a1732d9228a41fe42ff7ed_Player_outlined walk down_2_1.png","name":"Player_outlined walk down_2_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined walk left_1_1.png","kind":"image","metadata":"","name":"Player_outlined walk left_1_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/96b5905cfaab254334126f6e720df2e3d7e8b3759d01e8b37f034fe902a7e5da_Player_outlined walk left_1_1.png","name":"Player_outlined walk left_1_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined walk left_2_1.png","kind":"image","metadata":"","name":"Player_outlined walk left_2_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/af35ee6dce6b7c3af846e0405f26c4829528fbca30f75a49a047e94a5faa39d7_Player_outlined walk left_2_1.png","name":"Player_outlined walk left_2_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined walk right_1_1.png","kind":"image","metadata":"","name":"Player_outlined walk right_1_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/839031b97a3a5a529c368ef919af01978e2f62c6a6074837386567dc551cc648_Player_outlined walk right_1_1.png","name":"Player_outlined walk right_1_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined walk right_2_1.png","kind":"image","metadata":"","name":"Player_outlined walk right_2_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/4da7846d12467b24a35732e21cccb2e782968ed7b7af3675704928b974e32423_Player_outlined walk right_2_1.png","name":"Player_outlined walk right_2_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined walk up_1_1.png","kind":"image","metadata":"","name":"Player_outlined walk up_1_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/93473aa5ce4bcbf6a0261cce0e161df5671d8ee99c8bc189c7fe833ab535b01a_Player_outlined walk up_1_1.png","name":"Player_outlined walk up_1_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_outlined walk up_2_1.png","kind":"image","metadata":"","name":"Player_outlined walk up_2_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/3f63b313cc1bd3e4fcfbc9dbf0c57325e275fe3dabb83514ebc2375752ce0cc5_Player_outlined walk up_2_1.png","name":"Player_outlined walk up_2_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_walk down_1.png","kind":"image","metadata":"","name":"Player_walk down_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/3f1471a4e053c472e54e7202af99bc9f48e9d5c71a19a2fa0db65cab94aedab8_Player_walk down_1.png","name":"Player_walk down_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_walk down_2.png","kind":"image","metadata":"","name":"Player_walk down_2.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/9d7090aad13161e47f2eb8d406e503d81364b7a58e04d4e327f70a047feffb77_Player_walk down_2.png","name":"Player_walk down_2.png"}},{"alwaysLoaded":false,"file":"assets/Player_walk left_1.png","kind":"image","metadata":"","name":"Player_walk left_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/0a7157ffc8374de202a107c1078d22b55a08e6b463664cffbdcd6418c2f20ab5_Player_walk left_1.png","name":"Player_walk left_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_walk left_2.png","kind":"image","metadata":"","name":"Player_walk left_2.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/aa3fc35b9eb9be368988782ff1d9cb1e31d27842fb8e8ac3e9f00b197029f497_Player_walk left_2.png","name":"Player_walk left_2.png"}},{"alwaysLoaded":false,"file":"assets/Player_walk right_1.png","kind":"image","metadata":"","name":"Player_walk right_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/3de8c9cad90ce16d4c89f920c965508e2ddc4f78e7cf9327b3dffb4370dd7c82_Player_walk right_1.png","name":"Player_walk right_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_walk right_2.png","kind":"image","metadata":"","name":"Player_walk right_2.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/9626cfcd827411a522f6cffc59f890359454048a543a8c8586f731cbab93cbcd_Player_walk right_2.png","name":"Player_walk right_2.png"}},{"alwaysLoaded":false,"file":"assets/Player_walk up_1.png","kind":"image","metadata":"","name":"Player_walk up_1.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/1155c174f9572562787bb413fe6937b3485739196e5483f04d98e50db25a86be_Player_walk up_1.png","name":"Player_walk up_1.png"}},{"alwaysLoaded":false,"file":"assets/Player_walk up_2.png","kind":"image","metadata":"","name":"Player_walk up_2.png","smoothed":true,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Sokoban/Player/1f356255001568a2f7c19a698ae6bd96e1c48f8d998ce6bbddff36ecd62ce11d_Player_walk up_2.png","name":"Player_walk up_2.png"}},{"file":"assets/Male Casual.glb","kind":"model3D","metadata":"","name":"Male Casual.glb","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/3D Animated Characters/Character/9e45e58c10682186015966e9739499ac835b807ab0cb20be0f648458ecf44a0d_Male Casual.glb","name":"Male Casual.glb"}},{"file":"assets/Female Dress.glb","kind":"model3D","metadata":"","name":"Female Dress.glb","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/3D Animated Characters/Character/4bad5d9fa0fb1b72754990d0f46d13e97d581b8b33cf40ed829ed857742738c8_Female Dress.glb","name":"Female Dress.glb"}},{"alwaysLoaded":false,"file":"assets/rollerpony_floor_marked.png","kind":"image","metadata":"","name":"assets\\rollerpony_floor_marked.png","smoothed":true,"userAdded":true},{"file":"assets/Blip 1.aac","kind":"audio","metadata":"","name":"406bd0e4abc5c10b56bf8521fcd118dabef30afc61bcf9ce5007eaf64727b1ea_Blip 1.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Arcade/Sound effects/Blip/406bd0e4abc5c10b56bf8521fcd118dabef30afc61bcf9ce5007eaf64727b1ea_Blip 1.aac","name":"gdevelop-asset-store"}},{"file":"assets/stage.glb","kind":"model3D","metadata":"","name":"assets\\stage.glb","userAdded":true},{"file":"assets/stage2.glb","kind":"model3D","metadata":"","name":"assets\\stage2.glb","userAdded":true},{"alwaysLoaded":false,"file":"assets/PixelTrail.png","kind":"image","metadata":"","name":"PixelTrail.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Particles/PixiJS/ef6aa63d5cdf5ce14f88668e4d55a67a0051bc54e48e592fd3abbfed7e104b79_PixelTrail.png","name":"PixelTrail.png"}},{"alwaysLoaded":false,"file":"assets/LightGlow.png","kind":"image","metadata":"","name":"LightGlow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/3D Particles/c17e2d500015e598624b763f4942b26e3aac96efca094cd20257a61e15b27fcb_LightGlow.png","name":"LightGlow.png"}},{"file":"assets/Hit 1.aac","kind":"audio","metadata":"","name":"35050b95a0e87ff94beb868c98c76367570bb5ce35dd1d792e3a84f57dd16b73_Hit 1.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Arcade/Sound effects/Hit/35050b95a0e87ff94beb868c98c76367570bb5ce35dd1d792e3a84f57dd16b73_Hit 1.aac","name":"gdevelop-asset-store"}},{"file":"assets/Funky Energy Loop.aac","kind":"audio","metadata":"","name":"de0fe8d42aebd1dc02c6eda7af3e60e4cad68a1cc68a47356d87106b1a2c7637_Funky Energy Loop.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Music/Underscoring/de0fe8d42aebd1dc02c6eda7af3e60e4cad68a1cc68a47356d87106b1a2c7637_Funky Energy Loop.aac","name":"gdevelop-asset-store"}},{"file":"assets/Groovin.aac","kind":"audio","metadata":"","name":"b5b3fa3458d97df25579ab5fa2026cc99126a947ed6c3591fb3fb25ee1b2dcbd_Groovin.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Music/Jazz/b5b3fa3458d97df25579ab5fa2026cc99126a947ed6c3591fb3fb25ee1b2dcbd_Groovin.aac","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"assets/tiled_Tiled Empty UI Heart.png","kind":"image","metadata":"","name":"tiled_Tiled Empty UI Heart.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Resource bars/pixel art/688519c5bb4abaf5805518633f2ff810928e29164497fb5c13dabf97044be843_tiled_Tiled Empty UI Heart.png","name":"tiled_Tiled Empty UI Heart.png"}},{"alwaysLoaded":false,"file":"assets/tiled_Tiled Filler UI Heart.png","kind":"image","metadata":"","name":"tiled_Tiled Filler UI Heart.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Resource bars/pixel art/5b5c6c85ec4e1f5b6688be565c9a06920a76ee191915738afd61da1481fd6493_tiled_Tiled Filler UI Heart.png","name":"tiled_Tiled Filler UI Heart.png"}},{"alwaysLoaded":false,"file":"assets/NewSprite.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"NewSprite","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/scanlines.jpg","kind":"image","metadata":"","name":"assets\\scanlines.jpg","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/PixelTrail.png","kind":"image","metadata":"","name":"assets\\PixelTrail.png","smoothed":false,"userAdded":true},{"file":"assets/Free SynthWave Music Pack/6. 80s, Disco, Life.wav","kind":"audio","metadata":"","name":"assets\\Free SynthWave Music Pack\\6. 80s, Disco, Life.wav","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true},{"file":"assets/sfx/skates.wav","kind":"audio","metadata":"","name":"assets\\sfx\\skates.wav","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/Grey Button With Shadow_Hovered.png","kind":"image","metadata":"","name":"Grey Button With Shadow_Hovered.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/eb4edad2c3c752116fd28898f6bf0ae8dd0ab73b5cca111dbbd1e541c92dc393_Grey Button With Shadow_Hovered.png","name":"Grey Button With Shadow_Hovered.png"}},{"alwaysLoaded":false,"file":"assets/Grey Button With Shadow_Idle.png","kind":"image","metadata":"","name":"Grey Button With Shadow_Idle.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/7a8f60c5db6936e591235ae6ef3eca1c856c61adcc8d2a059e4e408804ebc477_Grey Button With Shadow_Idle.png","name":"Grey Button With Shadow_Idle.png"}},{"alwaysLoaded":false,"file":"assets/Grey Button With Shadow_Pressed.png","kind":"image","metadata":"","name":"Grey Button With Shadow_Pressed.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/907400b52ad729d17d819ce65fcedcc7819a07bbf18d106029ef4e7fbfb14d42_Grey Button With Shadow_Pressed.png","name":"Grey Button With Shadow_Pressed.png"}},{"file":"assets/CantoraOne-Regular.ttf","kind":"font","metadata":"","name":"CantoraOne-Regular.ttf","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/05b0c1364a92b436b86ca819e66b63480d1bc2fb399f6c0cf8bffbf8199ccc2a_CantoraOne-Regular.ttf","name":"CantoraOne-Regular.ttf"}},{"alwaysLoaded":false,"file":"assets/tiled_Desert Background 2.png","kind":"image","metadata":"","name":"tiled_Desert Background 2.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Generic Backgrounds/bf4724f5bc368533cc629b61c161ab24120a7212e1dde3387f5f003ce4d8eb3c_tiled_Desert Background 2.png","name":"tiled_Desert Background 2.png"}},{"file":"assets/Denied_01.aac","kind":"audio","metadata":"","name":"7466e7d6f5c06c2dd74c1709b8f7680e50100c0c9d234bdbdfca076a111faf5a_Denied_01.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Interface/Interface Bleeps/7466e7d6f5c06c2dd74c1709b8f7680e50100c0c9d234bdbdfca076a111faf5a_Denied_01.aac","name":"gdevelop-asset-store"}},{"file":"assets/Coin.glb","kind":"model3D","metadata":"","name":"Coin.glb","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/3D Platformer Game Kit/Collectable/ea02ad5cfdf38faf4b89b91672ec926dba2110e5ee78f0dfd5aa3a1200063d1a_Coin.glb","name":"Coin.glb"}},{"file":"assets/1up 7.aac","kind":"audio","metadata":"","name":"5151aab7b2974cafe47880b1460939d5903ed828d1c62ccae62ee60a3235fb8e_1up 7.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Arcade/Sound effects/1up/5151aab7b2974cafe47880b1460939d5903ed828d1c62ccae62ee60a3235fb8e_1up 7.aac","name":"gdevelop-asset-store"}},{"file":"assets/1up 2.aac","kind":"audio","metadata":"","name":"a47d4b16b822ffe16230389efa8554d92d5703388a2be4610264341b74ec5bbb_1up 2.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Arcade/Sound effects/1up/a47d4b16b822ffe16230389efa8554d92d5703388a2be4610264341b74ec5bbb_1up 2.aac","name":"gdevelop-asset-store"}},{"file":"assets/Coins 8.aac","kind":"audio","metadata":"","name":"c52f1dacc263a2a6dc94e712a2a148f909b73372fa8e0622cb237fdc6a72fd6c_Coins 8.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Arcade/Sound effects/Coins/c52f1dacc263a2a6dc94e712a2a148f909b73372fa8e0622cb237fdc6a72fd6c_Coins 8.aac","name":"gdevelop-asset-store"}},{"file":"assets/Male Shirt2.glb","kind":"model3D","metadata":"","name":"Male Shirt.glb","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/3D Animated Characters/Character/e46cf16d5b47cde3bcd9c38ec2a2cec07c4190ec303d5eec6baaca39b970c25e_Male Shirt.glb","name":"Male Shirt.glb"}},{"alwaysLoaded":false,"file":"assets/CRT GIF.png","kind":"image","metadata":"","name":"assets\\CRT GIF.png","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/2.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"2","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/3.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"3","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/4.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"4","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/5.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"5","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/6.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"6","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/7.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"7","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/8.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"8","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/9.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"9","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/10.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"10","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/11.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"11","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/12.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"12","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/13.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"13","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/14.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"14","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/15.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"15","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/16.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"16","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/17.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"17","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/18.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"18","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/19.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"19","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/20.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"20","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/21.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"21","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/22.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"22","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/23.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"23","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/24.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"24","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/25.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"25","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/26.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"26","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/27.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"27","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/28.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"28","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/29.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"29","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/30.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"30","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/31.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"31","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/32.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"32","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/33.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"33","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/34.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"34","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/35.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"35","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/36.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"36","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/37.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"37","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/38.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"38","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/39.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"39","smoothed":false,"userAdded":true},{"alwaysLoaded":false,"file":"assets/MediumLanePathPoint1_Front.png","kind":"image","metadata":"{\"extension\":\".png\",\"pskl\":{}}","name":"MediumLanePathPoint1_Front","smoothed":false,"userAdded":true},{"file":"assets/Hit 2.aac","kind":"audio","metadata":"","name":"e41e3576a8dab4fca0f7a330c8c485402564e1434f0b56cc881fdc15fc3ac0d7_Hit 2.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Arcade/Sound effects/Hit/e41e3576a8dab4fca0f7a330c8c485402564e1434f0b56cc881fdc15fc3ac0d7_Hit 2.aac","name":"gdevelop-asset-store"}},{"file":"assets/Hit 9.aac","kind":"audio","metadata":"","name":"f7ac7de65c9248c5cf0697cbcd2e3bc2399881944f3f829286a9dcb34e75ba66_Hit 9.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Arcade/Sound effects/Hit/f7ac7de65c9248c5cf0697cbcd2e3bc2399881944f3f829286a9dcb34e75ba66_Hit 9.aac","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"assets/TV Screen Overlay.png","kind":"image","metadata":"","name":"assets\\TV Screen Overlay.png","smoothed":false,"userAdded":true},{"file":"assets/PTSans-Bold.ttf","kind":"font","metadata":"","name":"349e61a855adefea40c789fda27ec8fb8664af49c28d6495da8a56dba40c3704_PTSans-Bold.ttf","userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/GDevelop examples/Platformer/Font/349e61a855adefea40c789fda27ec8fb8664af49c28d6495da8a56dba40c3704_PTSans-Bold.ttf","name":"gdevelop-asset-store"}},{"file":"assets/Woosh 1.aac","kind":"audio","metadata":"","name":"93a66379648984e7c67781f3480db427c1773692a954aa10972e33aa0e1e257a_Woosh 1.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Western FPS 2D/Sound/93a66379648984e7c67781f3480db427c1773692a954aa10972e33aa0e1e257a_Woosh 1.aac","name":"gdevelop-asset-store"}},{"alwaysLoaded":false,"file":"assets/NewSprite2.png","kind":"image","metadata":"{\"extension\":\".png\"}","name":"NewSprite2","smoothed":false,"userAdded":true},{"file":"assets/Kenney Blocks.ttf","kind":"font","metadata":"","name":"b6fd0cb2a1206afe3882f0187839aac780734a091c5e6c57ee25c84acdc1a499_Kenney Blocks.ttf","userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Font Pack/b6fd0cb2a1206afe3882f0187839aac780734a091c5e6c57ee25c84acdc1a499_Kenney Blocks.ttf","name":"gdevelop-asset-store"}},{"file":"assets/Kenney Pixel Square.ttf","kind":"font","metadata":"","name":"1bee9bddf3765d016ea29c21d418cdb0e958d1cd9c0aaa8743f9e174cb486e71_Kenney Pixel Square.ttf","userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Kenney Font Pack/1bee9bddf3765d016ea29c21d418cdb0e958d1cd9c0aaa8743f9e174cb486e71_Kenney Pixel Square.ttf","name":"gdevelop-asset-store"}},{"file":"assets/MPLUS1p-Bold.ttf","kind":"font","metadata":"","name":"e52c222618e05022eb341c976a201920125d3d17c643c2527d9df54b5d8bcb28_MPLUS1p-Bold.ttf","userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Google Fonts/Japanese/e52c222618e05022eb341c976a201920125d3d17c643c2527d9df54b5d8bcb28_MPLUS1p-Bold.ttf","name":"gdevelop-asset-store"}},{"file":"assets/monogram.ttf","kind":"font","metadata":"","name":"assets\\monogram.ttf","userAdded":true},{"file":"assets/Fibberish v1.0/fibberish.ttf","kind":"font","metadata":"","name":"assets\\Fibberish v1.0\\fibberish.ttf","userAdded":true},{"file":"assets/Quaver v1.0/quaver.ttf","kind":"font","metadata":"","name":"assets\\Quaver v1.0\\quaver.ttf","userAdded":true},{"alwaysLoaded":false,"file":"assets/Crown Coin_No Shadow.png","kind":"image","metadata":"","name":"Crown Coin_No Shadow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/General Items/b15f7a6621cd76db63aedd5b53136da4a3b3a690e7a0d8b4cf907cc9e067de19_Crown Coin_No Shadow.png","name":"Crown Coin_No Shadow.png"}},{"alwaysLoaded":false,"file":"assets/Crown Coin_Shadow.png","kind":"image","metadata":"","name":"Crown Coin_Shadow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/32x32 Fantasy Icons Pack v2/Icons/General Items/e58724386c4e35a550e1009721adc894251ce8940be2b2c27d42de2a0bd12816_Crown Coin_Shadow.png","name":"Crown Coin_Shadow.png"}},{"alwaysLoaded":false,"file":"assets/Left-Arrow.png","kind":"image","metadata":"","name":"Left-Arrow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Lucid Icons Pack/Flat/c49fc26e46b89aa8a5d48a1823fc292cffc6b610713ff3a3fff796e151412a59_Left-Arrow.png","name":"Left-Arrow.png"}},{"alwaysLoaded":false,"file":"assets/Exit.png","kind":"image","metadata":"","name":"Exit.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Lucid Icons Pack/Flat/8d613cb01a23234d6b798d9306e21ec1fa3da0e1bb2126ce1b78d92df315f360_Exit.png","name":"Exit.png"}},{"alwaysLoaded":false,"file":"assets/Right-Arrow.png","kind":"image","metadata":"","name":"Right-Arrow.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Lucid Icons Pack/Shadow/3ac4ccfca394be1b0e90c245ed85246d69ad1324d0cc398d74b9a944f9e14605_Right-Arrow.png","name":"Right-Arrow.png"}},{"alwaysLoaded":false,"file":"assets/Exclamation-Mark.png","kind":"image","metadata":"","name":"Exclamation-Mark.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Lucid Icons Pack/Flat/f24bafc477aa637d9a4f2438d83948b544bf266d33ceb96e3fc6bee5e6ee1d8f_Exclamation-Mark.png","name":"Exclamation-Mark.png"}},{"alwaysLoaded":false,"file":"assets/Medieval Button Brown_Hovered.png","kind":"image","metadata":"","name":"Medieval Button Brown_Hovered.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/f050eea8c9631c6b163779937225dd43bb432edf6b66dbaf64413e005ce5fbed_Medieval Button Brown_Hovered.png","name":"Medieval Button Brown_Hovered.png"}},{"alwaysLoaded":false,"file":"assets/Medieval Button Brown_Idle.png","kind":"image","metadata":"","name":"Medieval Button Brown_Idle.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/236403e4a45a3c7435d21f15ebcf3ab54b83e7389964d6999b0f82a3a957056a_Medieval Button Brown_Idle.png","name":"Medieval Button Brown_Idle.png"}},{"alwaysLoaded":false,"file":"assets/Medieval Button Brown_Pressed.png","kind":"image","metadata":"","name":"Medieval Button Brown_Pressed.png","smoothed":false,"userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/d9240cf31b0e332a890cdbe7658eef81c587545df6673b86565c9141a23bc195_Medieval Button Brown_Pressed.png","name":"Medieval Button Brown_Pressed.png"}},{"file":"assets/CaveatBrush-Regular.ttf","kind":"font","metadata":"","name":"CaveatBrush-Regular.ttf","userAdded":false,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Menu buttons/3d58de3ba4305c72907c2b4367cf859232313400b5c22da139d35b13d2273d40_CaveatBrush-Regular.ttf","name":"CaveatBrush-Regular.ttf"}},{"file":"assets/Lose 1.aac","kind":"audio","metadata":"","name":"7833b0affdd8b8dc7a876aec6788ff38c2a071f7ef6a6006aab94973ca0b217e_Lose 1.aac","preloadAsMusic":false,"preloadAsSound":false,"preloadInCache":false,"userAdded":true,"origin":{"identifier":"https://asset-resources.gdevelop.io/public-resources/Arcade/Sound effects/Lose/7833b0affdd8b8dc7a876aec6788ff38c2a071f7ef6a6006aab94973ca0b217e_Lose 1.aac","name":"gdevelop-asset-store"}}],"resourceFolders":[]},"objects":[],"objectsFolderStructure":{"folderName":"__ROOT"},"objectsGroups":[],"variables":[{"folded":true,"name":"input_forward","type":"boolean","value":false},{"folded":true,"name":"input_backward","type":"boolean","value":false},{"folded":true,"name":"input_left","type":"boolean","value":false},{"folded":true,"name":"input_right","type":"boolean","value":false},{"folded":true,"name":"input_break","type":"boolean","value":false},{"folded":true,"name":"input_attack","type":"boolean","value":false},{"folded":true,"name":"input_block","type":"boolean","value":false},{"folded":true,"name":"input_adv_def","type":"boolean","value":false},{"name":"player_movespeed","type":"number","value":500.0},{"name":"player_turnspeed","type":"number","value":2.0},{"name":"player_state","type":"string","value":"idle"},{"folded":true,"name":"camera_state","type":"string","value":"outside"},{"folded":true,"name":"skate_sfx_frame_counter","type":"number","value":0.0},{"folded":true,"name":"is_transitioning_camera_state","type":"boolean","value":false},{"folded":true,"name":"PLAYER_STATE_IDLE","type":"string","value":"idle"},{"folded":true,"name":"PLAYER_STATE_SKATING","type":"string","value":"skating"},{"folded":true,"name":"PLAYER_STATE_SKATING_TURNING","type":"string","value":"skating_turning"},{"folded":true,"name":"PLAYER_STATE_SWITCHING_LANES","type":"string","value":"switching_lanes"},{"folded":true,"name":"PLAYER_STATE_MOVE_FORWARD","type":"string","value":"move_forward"},{"name":"PLAYER_STATE_MOVE_BACKWARD","type":"string","value":"move_backward"},{"name":"PLAYER_STATE_ENTER_SKATE","type":"string","value":"enter_skate"},{"folded":true,"name":"PLAYER_STATE_ENTER_BATTLE","type":"string","value":"enter_battle"},{"folded":true,"name":"PLAYER_STATE_EXIT_SKATE","type":"string","value":"exit_skate"},{"folded":true,"name":"PLAYER_STATE_EXIT_BATTLE_TOP","type":"string","value":"exit_battle_top"},{"folded":true,"name":"PLAYER_STATE_EXIT_BATTLE_BOTTOM","type":"string","value":"exit_battle_bottom"},{"folded":true,"name":"PLAYER_STATE_BEGIN_ATTACK","type":"string","value":"begin_attack"},{"folded":true,"name":"PLAYER_STATE_END_ATTACK","type":"string","value":"end_attack"},{"folded":true,"name":"PLAYER_STATE_BEGIN_DODGE_LEFT","type":"string","value":"begin_dodge_left"},{"folded":true,"name":"PLAYER_STATE_DODGING_LEFT","type":"string","value":"dodging_left"},{"folded":true,"name":"PLAYER_STATE_END_DODGE_LEFT","type":"string","value":"end_dodge_left"},{"folded":true,"name":"PLAYER_STATE_BEGIN_DODGE_RIGHT","type":"string","value":"begin_dodge_right"},{"folded":true,"name":"PLAYER_STATE_DODGING_RIGHT","type":"string","value":"dodging_right"},{"folded":true,"name":"PLAYER_STATE_END_DODGE_RIGHT","type":"string","value":"end_dodge_right"},{"folded":true,"name":"PLAYER_STATE_BLOCK","type":"string","value":"block"},{"folded":true,"name":"SLOW_LANE_BASE_SPEED","type":"number","value":500.0},{"folded":true,"name":"MEDIUM_LANE_BASE_SPEED","type":"number","value":750.0},{"folded":true,"name":"FAST_LANE_BASE_SPEED","type":"number","value":1000.0},{"folded":true,"name":"PLAYER_SKATE_ACCELERATION_AMOUNT","type":"number","value":20.0},{"folded":true,"name":"PLAYER_SKATE_DECELLERATION_AMOUNT","type":"number","value":10.0},{"name":"ANIMATION_STATE_SKATING","type":"string","value":"\"skating\""},{"folded":true,"name":"MAX_SKATERS","type":"number","value":20.0},{"name":"SKATE_SOUND_FRAME_TIMING","type":"number","value":45.0},{"folded":true,"name":"PLAYER_LANE_SWITCH_SPEED_MULTIPLIER","type":"number","value":0.5},{"folded":true,"name":"CAMERA_STATE_SKATE","type":"string","value":"\"skate\""},{"folded":true,"name":"CAMERA_STATE_OUTSIDE","type":"string","value":"\"outside\""},{"folded":true,"name":"CAMERA_STATE_BATTLE","type":"string","value":"\"battle\""},{"folded":true,"name":"current_currency","type":"number","value":0.0},{"folded":true,"name":"player_is_alive","type":"boolean","value":true},{"name":"PLAYER_STATE_DIE","type":"string","value":"\"die\""}],"layouts":[{"b":209,"disableInputWhenNotFocused":true,"mangledName":"Main_32Game","name":"Main Game","r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"RollerPony Game Demo","v":209,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":false,"zoomFactor":0.8993607583667386,"windowMask":false},"objectsGroups":[{"name":"SlowLanePathPoints","objects":[{"name":"SlowLanePathPoint1"},{"name":"SlowLanePathPoint2"},{"name":"SlowLanePathPoint3"},{"name":"SlowLanePathPoint4"},{"name":"SlowLanePathPoint5"},{"name":"SlowLanePathPoint6"},{"name":"SlowLanePathPoint7"},{"name":"SlowLanePathPoint8"}]},{"name":"MediumLanePathPoints","objects":[{"name":"MediumLanePathPoint1"},{"name":"MediumLanePathPoint2"},{"name":"MediumLanePathPoint3"},{"name":"MediumLanePathPoint4"},{"name":"MediumLanePathPoint5"},{"name":"MediumLanePathPoint6"},{"name":"MediumLanePathPoint7"},{"name":"MediumLanePathPoint8"}]},{"name":"FastLanePathPoints","objects":[{"name":"FastLanePathPoint1"},{"name":"FastLanePathPoint2"},{"name":"FastLanePathPoint3"},{"name":"FastLanePathPoint4"},{"name":"FastLanePathPoint5"},{"name":"FastLanePathPoint6"},{"name":"FastLanePathPoint7"},{"name":"FastLanePathPoint8"}]}],"variables":[{"folded":true,"name":"sl_turn_p1p2_string","type":"string","value":""},{"folded":true,"name":"sl_turn_p3p4_string","type":"string","value":""},{"folded":true,"name":"sl_turn_p5p6_string","type":"string","value":""},{"folded":true,"name":"sl_turn_p7p8_string","type":"string","value":""},{"folded":true,"name":"ml_turn_p1p2_string","type":"string","value":""},{"folded":true,"name":"ml_turn_p3p4_string","type":"string","value":""},{"folded":true,"name":"ml_turn_p5p6_string","type":"string","value":""},{"folded":true,"name":"ml_turn_p7p8_string","type":"string","value":""},{"folded":true,"name":"fl_turn_p1p2_string","type":"string","value":""},{"folded":true,"name":"fl_turn_p3p4_string","type":"string","value":""},{"folded":true,"name":"fl_turn_p5p6_string","type":"string","value":""},{"folded":true,"name":"fl_turn_p7p8_string","type":"string","value":""},{"folded":true,"name":"player_skate_is_turning","type":"boolean","value":false},{"folded":true,"name":"player_skate_is_switching_lanes","type":"boolean","value":false},{"folded":true,"name":"player_skate_target_x","type":"number","value":0.0},{"folded":true,"name":"player_skate_target_y","type":"number","value":0.0},{"folded":true,"name":"player_skate_target_point","type":"number","value":0.0},{"folded":true,"name":"player_skate_current_lane","type":"string","value":""},{"folded":true,"name":"player_skate_next_lane","type":"string","value":""},{"folded":true,"name":"player_skate_speed","type":"number","value":0.0},{"folded":true,"name":"SKATE_LANE_SLOW","type":"string","value":"\"slow\""},{"folded":true,"name":"SKATE_LANE_MEDIUM","type":"string","value":"\"medium\""},{"folded":true,"name":"SKATE_LANE_FAST","type":"string","value":"\"fast\""},{"folded":true,"name":"SKATE_LANE_NONE","type":"string","value":"\"none\""},{"folded":true,"name":"skater_last_instance_target_x","type":"number","value":0.0},{"folded":true,"name":"skater_last_instance_target_y","type":"number","value":0.0},{"folded":true,"name":"SKATE_MAX_SPEED","type":"number","value":1500.0}],"instances":[{"angle":0.0,"customSize":true,"depth":1.0,"height":2208.0,"layer":"","locked":true,"name":"stage_box","persistentUuid":"6fb273af-8ee5-421c-837f-0a02dbff74f5","sealed":true,"width":4500.0,"x":-2285.0,"y":-2789.0,"zOrder":1,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":-90.0,"customSize":false,"height":0.0,"layer":"","name":"Player","persistentUuid":"fb613747-539f-455d-b90b-815872c4c556","width":0.0,"x":-95.0,"y":89.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Camera","persistentUuid":"a75d639c-daab-49ce-b0f5-16962e6e2791","width":0.0,"x":-342.0,"y":36.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":10.0,"layer":"Triggers","name":"OuterRinkEnterExit","persistentUuid":"39848dad-0130-4e8c-ad39-9851641514b2","width":898.0,"x":-500.0,"y":-598.0,"zOrder":5,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":20.0,"layer":"Debug","name":"Debug","persistentUuid":"304cf4f9-f5c4-4d12-9411-e3dfe48dc183","width":44.0,"x":14.0,"y":177.0,"zOrder":6,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":5.0,"layer":"Triggers","name":"InnerRinkEnterExit","persistentUuid":"5f43e974-8ad2-4158-a251-de8190907e55","width":871.0,"x":-509.0,"y":-1255.0,"zOrder":7,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":10.0,"layer":"Triggers","name":"InnerRinkEnterExit","persistentUuid":"80013aa1-bd19-47c0-92ff-63a145eb49c9","width":950.0,"x":-541.0,"y":-2080.0,"zOrder":7,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SlowLanePathPoint1","persistentUuid":"997c1ef3-7ac0-4f40-a2b1-7c36dbce183b","width":0.0,"x":1322.0,"y":-1040.0,"zOrder":8,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SlowLanePathPoint2","persistentUuid":"a7ac2239-2e50-40fb-b198-d9542754baa1","width":0.0,"x":1553.0,"y":-1245.0,"zOrder":9,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SlowLanePathPoint3","persistentUuid":"4ad41cf2-7597-4e1a-b240-5a29b8d7f13c","width":0.0,"x":1553.0,"y":-2118.0,"zOrder":10,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SlowLanePathPoint4","persistentUuid":"59f644e1-9906-458d-ab45-e8b50e0ebd2c","width":0.0,"x":1301.0,"y":-2325.0,"zOrder":11,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SlowLanePathPoint5","persistentUuid":"e7bf4f50-d068-4428-9cf7-d05ae66b6c48","width":0.0,"x":-1415.0,"y":-2325.0,"zOrder":12,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SlowLanePathPoint6","persistentUuid":"02d4b3df-b499-40bb-b9dc-d5100317acd8","width":0.0,"x":-1660.0,"y":-2130.0,"zOrder":13,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SlowLanePathPoint7","persistentUuid":"e6fdaeff-f4a0-43f9-804c-b304a9822da8","width":0.0,"x":-1660.0,"y":-1240.0,"zOrder":14,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SlowLanePathPoint8","persistentUuid":"5a5889d7-cb92-4537-92b9-9763f6071198","width":0.0,"x":-1428.0,"y":-1040.0,"zOrder":15,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"MediumLanePathPoint1","persistentUuid":"01446ece-ea0c-4e1e-9100-66f46b17b6c8","width":0.0,"x":1322.0,"y":-873.0,"zOrder":17,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"FastLanePathPoint1","persistentUuid":"f45e524a-4ed4-4905-9584-2efe705f0e41","width":0.0,"x":1322.0,"y":-706.0,"zOrder":18,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"MediumLanePathPoint2","persistentUuid":"61f0cc50-9a2e-41d7-8cb5-b1daf43f5202","width":0.0,"x":1806.0,"y":-1245.0,"zOrder":19,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"FastLanePathPoint2","persistentUuid":"457c7084-a354-49e6-80a5-36294ee06ad3","width":0.0,"x":2059.0,"y":-1245.0,"zOrder":20,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"MediumLanePathPoint3","persistentUuid":"772fec2e-652f-43d0-9a8d-44d90e0d610f","width":0.0,"x":1806.0,"y":-2118.0,"zOrder":21,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"FastLanePathPoint3","persistentUuid":"8e0ef26c-ae10-42b9-8b1b-6bebe3fe2d5a","width":0.0,"x":2059.0,"y":-2118.0,"zOrder":22,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"MediumLanePathPoint4","persistentUuid":"81feedb2-4289-495c-890d-844711169240","width":0.0,"x":1301.0,"y":-2492.0,"zOrder":23,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"FastLanePathPoint4","persistentUuid":"ab859f90-2a48-4ded-9cbb-5a0c2ac27876","width":0.0,"x":1301.0,"y":-2659.0,"zOrder":24,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"MediumLanePathPoint5","persistentUuid":"cdb87472-0ce3-4c84-965a-b01ae423d440","width":0.0,"x":-1415.0,"y":-2492.0,"zOrder":25,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"FastLanePathPoint5","persistentUuid":"e5f40da3-38a9-4485-980e-616fbb545d81","width":0.0,"x":-1415.0,"y":-2659.0,"zOrder":26,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"MediumLanePathPoint6","persistentUuid":"37d1ac78-e43c-445a-a26c-f4722050a556","width":0.0,"x":-1893.0,"y":-2130.0,"zOrder":27,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"FastLanePathPoint6","persistentUuid":"a4d3ac1a-b862-4b24-8924-fbae98a4ef30","width":0.0,"x":-2126.0,"y":-2130.0,"zOrder":28,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"MediumLanePathPoint7","persistentUuid":"e090c129-c3a0-4fef-9b0d-955515a38a1b","width":0.0,"x":-1893.0,"y":-1240.0,"zOrder":29,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"FastLanePathPoint7","persistentUuid":"a4636c5f-5dcb-4470-ab59-ade2b398656c","width":0.0,"x":-2126.0,"y":-1240.0,"zOrder":30,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"MediumLanePathPoint8","persistentUuid":"31790371-be1d-48ea-a352-edf7dca7af5e","width":0.0,"x":-1428.0,"y":-873.0,"zOrder":31,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"FastLanePathPoint8","persistentUuid":"b8ea33a6-15cf-43ac-90d4-8792caafbd04","width":0.0,"x":-1428.0,"y":-706.0,"zOrder":32,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":10.0,"layer":"Triggers","name":"EnterSkateZoneTrigger","persistentUuid":"f2f7ff2d-4c4a-41a5-836c-033262f6bd59","width":900.0,"x":-471.0,"y":-554.0,"zOrder":33,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":15000.0,"height":4445.0,"layer":"","locked":true,"name":"Stage","persistentUuid":"53ecfd40-2e4e-44cf-a803-805c1df82418","sealed":true,"width":12822.0,"x":-499.0,"y":-1374.0,"z":-77.0,"zOrder":34,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":5000.0,"layer":"CameraBounds","name":"OutsideCameraBoundRight","persistentUuid":"25694e5a-6b26-444c-9e5b-21062cf4029e","width":100.0,"x":2473.0,"y":-3763.0,"zOrder":35,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":5000.0,"layer":"CameraBounds","name":"OutsideCameraBoundLeft","persistentUuid":"0d21f5b4-42df-4c43-9174-50db308ad088","width":100.0,"x":-2736.0,"y":-3855.0,"zOrder":36,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":100.0,"layer":"CameraBounds","name":"OutsideCameraBoundBottom","persistentUuid":"d0b8120c-e284-404c-bce9-261ff76c3faf","width":5000.0,"x":-2617.0,"y":635.0,"zOrder":37,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":100.0,"layer":"CameraBounds","name":"OutsideCameraBoundTop","persistentUuid":"00e5ac8e-77e0-4177-90a1-4da441cb1613","width":5000.0,"x":-2515.0,"y":-3325.0,"zOrder":38,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"EnterSkatingMarker","persistentUuid":"1770b05b-15f0-4fb0-b4da-8096c584ae9a","width":0.0,"x":445.0,"y":-706.0,"zOrder":41,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"EnterBattleBottomMarker","persistentUuid":"2e18f00a-32e5-4dfe-8599-dd1b25a338aa","width":0.0,"x":-76.0,"y":-1338.0,"zOrder":42,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"EnterBattleTopMarker","persistentUuid":"2086de3e-315e-4083-9ecc-45800195fdcb","width":0.0,"x":-67.0,"y":-1978.0,"zOrder":43,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":100.0,"layer":"Triggers","name":"EnterBattleBottomTrigger","persistentUuid":"7348121d-52c5-4a43-a379-ae5bc3e33865","width":794.0,"x":-493.0,"y":-1102.0,"zOrder":44,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":100.0,"layer":"Triggers","name":"EnterBattleTopTrigger","persistentUuid":"900efcb2-9c37-4056-8546-e8245fefbcc2","width":830.0,"x":-448.0,"y":-2339.0,"zOrder":45,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"SkaterSpawner","persistentUuid":"c26ac766-585e-499c-ba7b-cb8b81667d94","width":0.0,"x":-158.0,"y":156.0,"zOrder":48,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":48.0,"height":16.0,"layer":"UI","name":"PixelHeartBar","persistentUuid":"615fb90e-024c-4981-ae11-3500a96f2aa3","width":48.0,"x":10.0,"y":12.0,"zOrder":49,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":-90.0,"customSize":false,"height":50.0,"layer":"Collision","name":"PlayerHurtbox","persistentUuid":"5a6b075c-e7da-498f-a8c2-9e03513ed81b","width":25.0,"x":-109.0,"y":73.0,"zOrder":51,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"3e2b8a92-1411-4306-a44e-ed404e5c5d56","width":0.0,"x":1205.0,"y":-1040.0,"z":66.0,"zOrder":52,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"13893932-119b-454d-8865-d7c75fca68c2","width":0.0,"x":374.0,"y":-1040.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"37c416a4-ffce-4fa1-aa37-cb7ee86c4e09","width":0.0,"x":-527.0,"y":-1040.0,"z":66.0,"zOrder":57,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"9032e65e-aeae-4444-bf4c-1ec466b85de1","width":0.0,"x":-1344.0,"y":-1040.0,"z":66.0,"zOrder":58,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"a3917266-5c03-48ad-b88b-2707b2a1d4d3","width":0.0,"x":1211.0,"y":-2325.0,"z":66.0,"zOrder":52,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"922567fd-ed43-4395-875d-3dbf9b165d68","width":0.0,"x":380.0,"y":-2325.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"1a4837c7-aa15-4621-aeae-ed0dee0becbd","width":0.0,"x":-521.0,"y":-2325.0,"z":66.0,"zOrder":57,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"cf1443ed-554d-4d4e-aafb-06277c0d6067","width":0.0,"x":-1364.0,"y":-2325.0,"z":66.0,"zOrder":58,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"59bf0390-b466-4641-b58d-61e43bd4ddfa","width":0.0,"x":1555.0,"y":-2026.0,"z":66.0,"zOrder":59,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"fc9518b9-30ca-4bf8-b790-fbafd5b7bffc","width":0.0,"x":1555.0,"y":-1351.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"c566edf8-6881-458c-9603-eabb7c1d2e02","width":0.0,"x":-1666.0,"y":-2024.0,"z":66.0,"zOrder":59,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Boss","persistentUuid":"473692fa-a39b-4e4c-98d6-f54a0dff8fea","width":0.0,"x":-59.0,"y":-1650.0,"zOrder":61,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"2caa870b-c142-4672-86a7-763f81950b90","width":0.0,"x":358.0,"y":-874.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"a8687d12-c749-4e93-88c9-d9f8f8190baf","width":0.0,"x":808.0,"y":-882.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"87bd06e0-9689-4fe3-b431-93c7e10437c8","width":0.0,"x":1209.0,"y":-877.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"6dd90ffa-2a63-41f0-bee2-a598d6578a6f","width":0.0,"x":-1357.0,"y":-873.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"47f48c4d-6e0e-4570-b733-d8a5561d9e0e","width":0.0,"x":-956.0,"y":-873.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"3d5d2bdf-f8fe-4449-b7a6-bfe2ecc5c210","width":0.0,"x":-512.0,"y":-873.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"4c9c10a8-91b2-4809-9f2c-5a931dbac292","width":0.0,"x":-78.0,"y":-873.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"742a00dd-0e71-4b45-b9f1-945c6446d2a6","width":0.0,"x":356.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"c234b07f-9131-4ffe-9cb2-4a4cdeb5f525","width":0.0,"x":806.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"6a14e2a2-bbba-4757-b8dd-b04d74f4a4b4","width":0.0,"x":1207.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"a26516f4-d436-4539-bac5-086ded6d252e","width":0.0,"x":-1359.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"883bd40b-303d-4d22-b224-0495e4f5f83e","width":0.0,"x":-958.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"aef209ce-41be-4a6d-8890-d46e61a3dbff","width":0.0,"x":-514.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"3e332c13-b5ea-4024-9a42-e48396939c5c","width":0.0,"x":-80.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"36580d6a-798d-41b8-8157-0237fb448676","width":0.0,"x":-1179.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"d7995bba-d29d-4459-9681-22968a183a7a","width":0.0,"x":-761.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"bdf2d817-1c2f-41d2-b209-6850eafa846a","width":0.0,"x":-290.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"0350f16d-24f3-4fa3-a93c-a3f4c502c03b","width":0.0,"x":139.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"8cd4d25d-2d4d-46df-a937-67c5259271e9","width":0.0,"x":564.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"ad226e79-cd44-4a08-b8bf-9cf63e23be34","width":0.0,"x":1032.0,"y":-706.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"081f7329-e6cb-40c1-bce5-814ecc24ca0e","width":0.0,"x":1816.0,"y":-2021.0,"z":66.0,"zOrder":59,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"4297927e-7c88-4ada-bc64-fd9048bdb512","width":0.0,"x":1816.0,"y":-1346.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"f17cc175-f51a-47f7-9d0d-3f1434567aef","width":0.0,"x":1816.0,"y":-1674.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"c7ce4928-5769-4a38-907e-5ed3121e142e","width":0.0,"x":2059.0,"y":-2026.0,"z":66.0,"zOrder":59,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"8552d69a-8ba9-4710-b421-d61511b38783","width":0.0,"x":2059.0,"y":-1351.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"67818803-d6ef-474d-b9d0-ade0378aabaa","width":0.0,"x":2059.0,"y":-1679.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"621ca43c-2da7-45ca-98b1-fc80dd853bde","width":0.0,"x":2059.0,"y":-1854.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"6e3590ae-bd16-432f-8945-8342a1a90dfd","width":0.0,"x":2059.0,"y":-1511.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"134c858a-1ef1-490b-9425-994f38b35454","width":0.0,"x":-1887.0,"y":-2024.0,"z":66.0,"zOrder":59,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"df12b678-c19b-4b3f-a129-34a749cd6887","width":0.0,"x":-1887.0,"y":-1349.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"e4ecd329-b8d1-4bdc-8b64-51fde67d3b65","width":0.0,"x":-1887.0,"y":-1677.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"cc8ec396-f8a1-4497-9bd5-702cf9a39fdc","width":0.0,"x":-2118.0,"y":-2024.0,"z":66.0,"zOrder":59,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"31f7e748-2090-4923-adc0-b642fd690f80","width":0.0,"x":-2118.0,"y":-1349.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"4523d486-0ac3-48f2-84ff-ceef93edef09","width":0.0,"x":-2118.0,"y":-1677.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"6ae9b183-b045-4255-8b26-6cedf3bd1e29","width":0.0,"x":-2118.0,"y":-1852.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"0fec8d88-68c7-4011-83ca-8ec61212df2a","width":0.0,"x":-2118.0,"y":-1509.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"990f72c3-0c20-4832-b7e3-c27b7c0ff132","width":0.0,"x":-1666.0,"y":-1350.0,"z":66.0,"zOrder":60,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"e6042b3e-956e-4a27-92b1-efbcf54b984b","width":0.0,"x":351.0,"y":-2488.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"e449aaf0-e4ef-4a80-b32e-bb6aa9c75cea","width":0.0,"x":801.0,"y":-2496.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"2b0309ce-c453-41e2-8a3d-51f179e63042","width":0.0,"x":1202.0,"y":-2491.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"81a864a8-a749-456c-94a3-b0a52688b003","width":0.0,"x":-1364.0,"y":-2487.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"58b5f302-5a60-4b51-a417-69bb96728f43","width":0.0,"x":-963.0,"y":-2487.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"62e0446a-07e6-48ab-a3ad-5462d31fbfee","width":0.0,"x":-519.0,"y":-2487.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"92685c9a-1d87-4b31-80c4-900dec13ccba","width":0.0,"x":-85.0,"y":-2487.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"EnterSkatingMarker","persistentUuid":"fd03649a-6901-401d-8f1e-cf68790a2999","width":0.0,"x":435.0,"y":-2654.0,"zOrder":41,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"cfeeeec4-46f9-493f-8c0a-9420d4c29000","width":0.0,"x":346.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"0a181fda-b8e2-4082-8fb3-a04723117471","width":0.0,"x":796.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"60b1a01d-e7c7-4081-b460-9b988857ce1c","width":0.0,"x":1197.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"13a4d53e-9699-4947-85d5-a4a6ce8b7d6f","width":0.0,"x":-1369.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"06569a69-767c-4ec3-ad25-38eedc7f0f01","width":0.0,"x":-968.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"9afd6613-fea2-4b31-82b8-2c59bc134579","width":0.0,"x":-524.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"ed6a453b-f54f-411e-8121-1c35d25a6a8e","width":0.0,"x":-90.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"8471a7b6-6ed8-4798-bf8b-b1a0d8baab1b","width":0.0,"x":-1189.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"7fb25fe2-0c97-4771-9330-7a866d4d3b4b","width":0.0,"x":-771.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"3401f694-41bf-4bf8-975b-c3b5c2669b0d","width":0.0,"x":-300.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"758ee9bb-d61d-47f4-96f7-37d47849f365","width":0.0,"x":129.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"4c9b1ba7-9981-46e7-8ca9-7eac3494fcb2","width":0.0,"x":554.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","name":"Coin","persistentUuid":"4fa27888-8ccc-4bc4-9a5c-1fd7ba2f9324","width":0.0,"x":1022.0,"y":-2654.0,"z":66.0,"zOrder":56,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":768.0,"layer":"2dEffects","locked":true,"name":"Scanlines_v2","persistentUuid":"5084e01d-9809-4a81-8548-fc8b08d092c2","sealed":true,"width":1024.0,"x":0.0,"y":0.0,"zOrder":62,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"ExitBattleBottomTrigger","persistentUuid":"ef0b1945-e5ba-4c07-a34b-ffdd95d4c802","width":0.0,"x":-312.0,"y":-1415.0,"zOrder":63,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"ExitBattleTopTrigger","persistentUuid":"0b2bff79-d6a6-46f5-8644-01b5c82354a6","width":0.0,"x":-305.0,"y":-1975.0,"zOrder":64,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"ExitBattleTopMarker","persistentUuid":"902b3b92-fc31-44ab-821d-04745d3ce136","width":0.0,"x":-600.0,"y":-2325.0,"zOrder":65,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"ExitBattleBottomMarker","persistentUuid":"55c624a1-f096-4597-8861-5eb57d726a75","width":0.0,"x":472.0,"y":-1040.0,"zOrder":66,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"Triggers","name":"ExitSkatingMarker","persistentUuid":"44babed9-c30e-4ec1-8888-dc65edbb28cd","width":0.0,"x":-48.0,"y":-381.0,"zOrder":67,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":100.0,"height":100.0,"layer":"Triggers","name":"ExitSkateZoneTrigger","persistentUuid":"4e8c5ac6-e7a6-4643-8056-ab814469cc12","width":750.0,"x":-443.0,"y":-751.0,"zOrder":68,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"Currency","persistentUuid":"feae94de-2a88-4a38-b2d6-4adee45d866d","width":0.0,"x":126.0,"y":9.0,"zOrder":69,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"CrownCoin","persistentUuid":"ff18c1f0-e0f9-4786-a8fa-277d79253e79","width":0.0,"x":93.0,"y":5.0,"zOrder":70,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":1.0,"height":32.0,"layer":"UI","name":"SkateLeftArrow","persistentUuid":"e280f401-acb0-42e8-85d5-30948220506e","width":32.0,"x":40.0,"y":225.0,"zOrder":71,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":32.0,"layer":"UI","name":"SkateRightArrow","persistentUuid":"578ae5d9-2b2d-4e82-8613-115ced818c12","width":32.0,"x":540.0,"y":225.0,"zOrder":72,"numberProperties":[{"name":"animation","value":0.0}],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":32.0,"layer":"UI","name":"Exit","persistentUuid":"11670642-bcac-455b-b4c3-2d2087e3e147","width":32.0,"x":300.0,"y":400.0,"zOrder":73,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"ExitText","persistentUuid":"48efc0b7-6aeb-46be-abea-89bfefa84c29","width":0.0,"x":250.0,"y":375.0,"zOrder":74,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"ExitSkateText","persistentUuid":"03f5fdbe-bd89-4b78-9f90-5d26610a03d9","width":0.0,"x":500.0,"y":175.0,"zOrder":75,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"EnterArenaText","persistentUuid":"5f023051-e9ee-447f-837a-de72ed6b0a85","width":0.0,"x":30.0,"y":175.0,"zOrder":76,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"UI","name":"PlayAgainButton","persistentUuid":"cdd04d4c-48f1-4a62-8ca2-4f5d5e514cf3","width":0.0,"x":200.0,"y":200.0,"zOrder":77,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","name":"stage_box","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":4500.0,"height":2208.0,"depth":1.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"assets\\rollerpony_floor_marked.png","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"797c17f7ce7790d0c4c7a16ebb35c512aee72f93f953c089c15827d6f90686e2","name":"Player","type":"Scene3D::Model3DObject","variables":[{"folded":true,"name":"lane_switch_speed","type":"number","value":0.0},{"name":"can_switch_lanes","type":"boolean","value":false},{"folded":true,"name":"is_dodging","type":"boolean","value":false},{"folded":true,"name":"dodge_direction","type":"string","value":"none"}],"effects":[],"behaviors":[{"name":"Flash","type":"Flash::Flash","HalfPeriodTime":0.1,"IsFlashing":false,"FlashDuration":0.0},{"name":"SpeedPathMovement","type":"CurvedMovement::SpeedPathMovement","Rotation":true,"RotationOffset":0.0,"Speed":0.0,"PathOriginX":2.0247e-320,"PathOriginY":2.0247e-320,"PathName":"","TargetedSpeed":0.0,"Acceleration":0.0,"DrawingElementIndex":0.0,"X":2.0247e-320,"Y":2.0247e-320,"PathAngle":2.0247e-320,"PathScale":2.0247e-320,"RepetitionCount":2.0247e-320,"ShouldLoop":false,"DrawingPathOriginX":2.0247e-320,"DrawingPathOriginY":2.0247e-320,"DebugLineStrokeWidth":2.0247e-320,"PreviousSpeed":2.0247e-320,"CurrentLength":2.0247e-320,"IsLookingBack":false,"Viewpoint":"Top-Down"}],"content":{"centerLocation":"ModelOrigin","depth":156.0,"height":156.0,"keepAspectRatio":true,"materialType":"Basic","modelResourceName":"Male Casual.glb","originLocation":"ModelOrigin","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":156.0,"animations":[{"loop":true,"name":"Idle","source":"Man_Idle"},{"loop":true,"name":"Walk","source":"Man_Walk"},{"loop":true,"name":"Run","source":"Man_Run"},{"loop":false,"name":"Jump","source":"Man_Jump"},{"loop":false,"name":"Punch","source":"Man_Punch"},{"loop":false,"name":"Death","source":"Man_Death"},{"loop":false,"name":"RunningJump","source":"Man_RunningJump"},{"loop":false,"name":"Roll","source":"Man_Roll"},{"loop":false,"name":"Sitting","source":"Man_Sitting"},{"loop":false,"name":"Standing","source":"Man_Standing"},{"loop":false,"name":"SwordSlash","source":"Man_SwordSlash"},{"loop":false,"name":"Clapping","source":"Man_Clapping"}]}},{"assetStoreId":"","name":"Camera","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[{"name":"ThirdPersonCamera","type":"ThirdPersonCamera::ThirdPersonCamera","Object3D":"Object3D","RotationHalfwayDuration":0.125,"TranslationZHalfwayDuration":0.125,"Distance":500.0,"OffsetX":0.0,"OffsetY":0.0,"OffsetZ":0.0,"RotationAngleOffset":0.0,"ElevationAngleOffset":20.0,"FollowFreeAreaZMax":0.0,"FollowFreeAreaZMin":0.0,"RotationLogSpeed":2.0247e-320,"TranslationZLogSpeed":2.0247e-320,"IsCalledManually":false,"CameraZ":0.0}],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":false,"backFaceVisible":false,"leftFaceVisible":false,"rightFaceVisible":false,"topFaceVisible":false,"bottomFaceVisible":false,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"OuterRinkEnterExit","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","bold":false,"italic":false,"name":"Debug","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"left","characterSize":10.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"0;0;0","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"left","characterSize":10.0,"color":"255;255;255"}},{"assetStoreId":"","name":"InnerRinkEnterExit","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SlowLanePathPoint1","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SlowLanePathPoint2","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SlowLanePathPoint3","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SlowLanePathPoint4","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SlowLanePathPoint5","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SlowLanePathPoint6","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SlowLanePathPoint7","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SlowLanePathPoint8","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"193d8db3fb5287773dc81f1dbaf24b26f079d6e2d7945eff228a75c6d38dc913","name":"Skater","type":"Scene3D::Model3DObject","variables":[{"folded":true,"name":"is_active","type":"boolean","value":false},{"folded":true,"name":"skate_target_x","type":"number","value":0.0},{"folded":true,"name":"skate_target_y","type":"number","value":0.0},{"folded":true,"name":"skate_target_point","type":"number","value":0.0},{"folded":true,"name":"is_turning","type":"boolean","value":false},{"folded":true,"name":"animation_state","type":"string","value":""},{"folded":true,"name":"current_lane","type":"string","value":""},{"name":"children","type":"structure","children":[]},{"folded":true,"name":"next_lane","type":"string","value":""},{"folded":true,"name":"LANE_PICKER","type":"array","children":[{"type":"string","value":"\"slow\""},{"folded":true,"type":"string","value":"\"medium\""},{"folded":true,"type":"string","value":"\"fast\""}]},{"folded":true,"name":"is_switching_lanes","type":"boolean","value":false},{"folded":true,"name":"lane_switch_speed","type":"number","value":0.0},{"folded":true,"name":"skate_speed","type":"number","value":0.0},{"folded":true,"name":"lane_switch_cooldown","type":"number","value":0.0}],"effects":[],"behaviors":[{"name":"SpeedPathMovement","type":"CurvedMovement::SpeedPathMovement","Rotation":true,"RotationOffset":0.0,"Speed":0.0,"PathOriginX":2.0247e-320,"PathOriginY":2.0247e-320,"PathName":"","TargetedSpeed":0.0,"Acceleration":0.0,"DrawingElementIndex":0.0,"X":2.0247e-320,"Y":2.0247e-320,"PathAngle":2.0247e-320,"PathScale":2.0247e-320,"RepetitionCount":2.0247e-320,"ShouldLoop":false,"DrawingPathOriginX":2.0247e-320,"DrawingPathOriginY":2.0247e-320,"DebugLineStrokeWidth":2.0247e-320,"PreviousSpeed":2.0247e-320,"CurrentLength":2.0247e-320,"IsLookingBack":false,"Viewpoint":"Top-Down"},{"name":"Sticker","type":"Sticker::Sticker","OnlyFollowPosition":false,"IsDestroyedWithParent":true}],"content":{"centerLocation":"ModelOrigin","depth":151.0,"height":151.0,"keepAspectRatio":true,"materialType":"Basic","modelResourceName":"Female Dress.glb","originLocation":"ModelOrigin","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":151.0,"animations":[{"loop":true,"name":"Idle","source":"Female_Idle"},{"loop":true,"name":"Walk","source":"Female_Walk"},{"loop":true,"name":"Run","source":"Female_Run"},{"loop":false,"name":"Jump","source":"Female_Jump"},{"loop":false,"name":"Punch","source":"Female_Punch"},{"loop":false,"name":"Death","source":"Female_Death"},{"loop":false,"name":"RunningJump","source":"Female_RunningJump"},{"loop":false,"name":"Roll","source":"Female_Roll"},{"loop":false,"name":"Sitting","source":"Female_Sitting"},{"loop":false,"name":"Standing","source":"Female_Standing"},{"loop":false,"name":"SwordSlash","source":"Female_SwordSlash"},{"loop":false,"name":"Clapping","source":"Female_Clapping"}]}},{"assetStoreId":"","name":"MediumLanePathPoint1","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"MediumLanePathPoint2","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"MediumLanePathPoint3","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"MediumLanePathPoint4","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"MediumLanePathPoint5","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"MediumLanePathPoint6","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"MediumLanePathPoint7","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"MediumLanePathPoint8","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"FastLanePathPoint1","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"FastLanePathPoint2","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"FastLanePathPoint3","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"FastLanePathPoint4","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"FastLanePathPoint5","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"FastLanePathPoint6","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"FastLanePathPoint7","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"FastLanePathPoint8","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"EnterSkateZoneTrigger","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"Stage","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ModelOrigin","depth":488.4232951333889,"height":323.22909975238516,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"assets\\stage.glb","originLocation":"ModelOrigin","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":883.0656614902794,"animations":[]}},{"assetStoreId":"","name":"OutsideCameraBoundRight","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"OutsideCameraBoundLeft","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"OutsideCameraBoundBottom","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"OutsideCameraBoundTop","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"EnterSkatingMarker","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"EnterBattleBottomMarker","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"EnterBattleTopMarker","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"EnterBattleBottomTrigger","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":750.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"EnterBattleTopTrigger","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":750.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SkaterSpawner","type":"Scene3D::Cube3DObject","variables":[{"folded":true,"name":"current","type":"number","value":0.0},{"folded":true,"name":"spawn_positions_x","type":"array","children":[{"folded":true,"type":"number","value":0.0},{"folded":true,"type":"number","value":0.0},{"folded":true,"type":"number","value":0.0}]},{"folded":true,"name":"spawn_positions_y","type":"array","children":[{"folded":true,"type":"number","value":0.0},{"folded":true,"type":"number","value":0.0},{"folded":true,"type":"number","value":0.0}]},{"name":"spawn_positions_index","type":"number","value":0.0},{"folded":true,"name":"spawn_rate","type":"string","value":"0.05"},{"name":"LANES","type":"array","children":[{"folded":true,"type":"string","value":"\"slow\""},{"folded":true,"type":"string","value":"\"medium\""},{"folded":true,"type":"string","value":"\"fast\""}]}],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"db57d0bcdc074868304ca46431ac85fcef3f613be5fba73ae0adc26ee2c8629b","name":"PixelHeartBar","type":"TiledUnitsBar::TiledUnitsBar","variables":[],"effects":[],"behaviors":[],"content":{"UnitWidth":16.0,"HideBackground":true,"ShowBackground":true},"childrenContent":{"Background":{"bottomMargin":0.0,"height":16.0,"leftMargin":0.0,"rightMargin":0.0,"texture":"tiled_Tiled Empty UI Heart.png","tiled":true,"topMargin":0.0,"width":48.0},"Bar":{"height":16.0,"texture":"tiled_Tiled Empty UI Heart.png","width":48.0},"FillBar":{"height":16.0,"texture":"tiled_Tiled Filler UI Heart.png","width":16.0}}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"ScanlinesFilter","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[{"effectType":"CRT","name":"Effect3","doubleParameters":{"animationFrequency":60.0,"animationSpeed":1.0,"curvature":1.0,"lineContrast":0.5,"lineWidth":1.0,"noise":0.3,"noiseSize":1.0,"padding":0.0,"vignetting":0.3,"vignettingAlpha":1.0,"vignettingBlur":0.3},"stringParameters":{},"booleanParameters":{"verticalLine":false}},{"effectType":"Adjustment","name":"Effect","doubleParameters":{"alpha":0.1,"blue":0.6,"brightness":2.5,"contrast":1.0,"gamma":1.0,"green":1.0,"red":1.0,"saturation":2.0},"stringParameters":{},"booleanParameters":{}},{"effectType":"BlendingMode","name":"Effect2","doubleParameters":{"blendmode":2.0,"opacity":1.0},"stringParameters":{},"booleanParameters":{}}],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\scanlines.jpg","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":489.0,"y":0.0},{"x":489.0,"y":360.0},{"x":0.0,"y":360.0}]]}]}]}]},{"assetStoreId":"","name":"NewParticleEmitter","type":"ParticleEmitter3D::ParticleEmitter3D","variables":[],"effects":[],"behaviors":[],"content":{"AreParticlesRelative":true},"childrenContent":{"Particle":{"adaptCollisionMaskAutomatically":true,"updateIfNotVisible":false,"animations":[{"name":"Image","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\PixelTrail.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":100.0,"y":0.0},{"x":100.0,"y":100.0},{"x":0.0,"y":100.0}]]}]}]}]}}},{"assetStoreId":"","name":"PlayerHurtbox","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[{"name":"Sticker","type":"Sticker::Sticker","OnlyFollowPosition":false,"IsDestroyedWithParent":true}],"content":{"width":25.0,"height":50.0,"depth":150.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"SkaterHitbox","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[{"name":"Sticker","type":"Sticker::Sticker","OnlyFollowPosition":false,"IsDestroyedWithParent":true}],"content":{"width":25.0,"height":50.0,"depth":150.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"0e3ee52ba8369c68fe75e3b34a056876ba39b1d0dbb9de6e83e1f2ea0e6f94ac","name":"Coin","type":"Scene3D::Model3DObject","variables":[{"folded":true,"name":"is_active","type":"boolean","value":false}],"effects":[],"behaviors":[],"content":{"centerLocation":"ModelOrigin","depth":58.0,"height":58.0,"keepAspectRatio":true,"materialType":"StandardWithoutMetalness","modelResourceName":"Coin.glb","originLocation":"ModelOrigin","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":58.0,"animations":[]}},{"assetStoreId":"","name":"CoinSpawner","type":"Scene3D::Cube3DObject","variables":[{"folded":true,"name":"spawn_rate","type":"number","value":0.33},{"folded":true,"name":"spawn_next_x","type":"number","value":0.0},{"folded":true,"name":"spawn_next_y","type":"number","value":0.0}],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"a3f102e7726b95e83707a0df2a4fa71ba00c01eb1b9bbce352bda1a7702c236a","name":"Boss","type":"Scene3D::Model3DObject","variables":[],"effects":[],"behaviors":[],"content":{"centerLocation":"ModelOrigin","depth":156.0,"height":156.0,"keepAspectRatio":true,"materialType":"Basic","modelResourceName":"Male Shirt.glb","originLocation":"ModelOrigin","rotationX":90.0,"rotationY":0.0,"rotationZ":90.0,"width":156.0,"animations":[{"loop":true,"name":"Idle","source":"Man_Idle"},{"loop":true,"name":"Walk","source":"Man_Walk"},{"loop":true,"name":"Run","source":"Man_Run"},{"loop":false,"name":"Jump","source":"Man_Jump"},{"loop":false,"name":"Punch","source":"Man_Punch"},{"loop":false,"name":"Death","source":"Man_Death"},{"loop":false,"name":"RunningJump","source":"Man_RunningJump"},{"loop":false,"name":"Roll","source":"Man_Roll"},{"loop":false,"name":"Sitting","source":"Man_Sitting"},{"loop":false,"name":"Standing","source":"Man_Standing"},{"loop":false,"name":"SwordSlash","source":"Man_SwordSlash"},{"loop":false,"name":"Clapping","source":"Man_Clapping"}]}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"Scanlines_v2","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[{"effectType":"CRT","name":"Effect3","doubleParameters":{"animationFrequency":60.0,"animationSpeed":1.0,"curvature":1.0,"lineContrast":1.0,"lineWidth":1.0,"noise":0.3,"noiseSize":1.0,"padding":0.0,"vignetting":0.3,"vignettingAlpha":1.0,"vignettingBlur":0.3},"stringParameters":{},"booleanParameters":{"verticalLine":false}},{"effectType":"Adjustment","name":"Effect2","doubleParameters":{"alpha":0.33,"blue":0.6,"brightness":1.5,"contrast":1.5,"gamma":1.0,"green":1.0,"red":1.0,"saturation":2.5},"stringParameters":{},"booleanParameters":{}},{"effectType":"BlendingMode","name":"Effect","doubleParameters":{"blendmode":2.0,"opacity":1.0},"stringParameters":{},"booleanParameters":{}}],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"assets\\TV Screen Overlay.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":1024.0,"y":0.0},{"x":1024.0,"y":768.0},{"x":0.0,"y":768.0}]]}]}]}]},{"assetStoreId":"","name":"ExitBattleBottomTrigger","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":500.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"ExitBattleTopTrigger","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":500.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"ExitBattleTopMarker","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"ExitBattleBottomMarker","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"ExitSkateZoneTrigger","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":100.0,"height":100.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"assetStoreId":"","name":"ExitSkatingMarker","type":"Scene3D::Cube3DObject","variables":[],"effects":[],"behaviors":[],"content":{"width":10.0,"height":10.0,"depth":100.0,"enableTextureTransparency":false,"facesOrientation":"Y","frontFaceResourceName":"","backFaceResourceName":"","backFaceUpThroughWhichAxisRotation":"X","leftFaceResourceName":"","rightFaceResourceName":"","topFaceResourceName":"","bottomFaceResourceName":"","frontFaceVisible":true,"backFaceVisible":false,"leftFaceVisible":true,"rightFaceVisible":true,"topFaceVisible":true,"bottomFaceVisible":true,"frontFaceResourceRepeat":false,"backFaceResourceRepeat":false,"leftFaceResourceRepeat":false,"rightFaceResourceRepeat":false,"topFaceResourceRepeat":false,"bottomFaceResourceRepeat":false,"materialType":"Basic"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"VignetteCRT","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[{"effectType":"CRT","name":"Effect","doubleParameters":{"animationFrequency":60.0,"animationSpeed":1.0,"curvature":1.0,"lineContrast":1.0,"lineWidth":1.0,"noise":0.3,"noiseSize":1.0,"padding":0.0,"vignetting":0.3,"vignettingAlpha":1.0,"vignettingBlur":0.3},"stringParameters":{},"booleanParameters":{"verticalLine":true}},{"effectType":"Adjustment","name":"Effect3","doubleParameters":{"alpha":0.66,"blue":0.6,"brightness":1.5,"contrast":1.0,"gamma":1.0,"green":1.0,"red":1.0,"saturation":5.0},"stringParameters":{},"booleanParameters":{}},{"effectType":"BlendingMode","name":"Effect2","doubleParameters":{"blendmode":2.0,"opacity":1.0},"stringParameters":{},"booleanParameters":{}}],"behaviors":[],"animations":[{"name":"NewSprite","useMultipleDirections":false,"directions":[{"looping":false,"metadata":"{\"pskl\":{}}","timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":true,"image":"NewSprite2","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":1503.0,"y":0.0},{"x":1503.0,"y":1000.0},{"x":0.0,"y":1000.0}]]}]}]}]},{"assetStoreId":"","bold":false,"italic":false,"name":"Currency","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"0","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"left","characterSize":20.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"0;0;0","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"0","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"left","characterSize":20.0,"color":"255;255;255"}},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"115c962b57d0fb5f6b62493b58bd72d441562d6c95e0449b0d734173171e95ef","name":"CrownCoin","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"No Shadow","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Crown Coin_No Shadow.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":3.0,"y":5.0},{"x":28.0,"y":5.0},{"x":28.0,"y":26.0},{"x":3.0,"y":26.0}]]}]}]},{"name":"Shadow","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Crown Coin_Shadow.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":3.0,"y":5.0},{"x":28.0,"y":5.0},{"x":28.0,"y":26.0},{"x":3.0,"y":26.0}]]}]}]}]},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"13a9cef806e970f1b9426f37cf41e27eb70fffedac02cd4736c023201afb7011","name":"SkateLeftArrow","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Left-Arrow.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":14.0,"y":0.0},{"x":14.0,"y":14.0},{"x":0.0,"y":14.0}]]}]}]}]},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"5380dcfc1b26ca47e4f8e8c937d100b4ec6411d53987a73800bf3a32842e88ee","name":"Exit","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Exit.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":12.0,"y":0.0},{"x":12.0,"y":14.0},{"x":0.0,"y":14.0}]]}]}]}]},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"f54fecd6e221a9968e175ebdb5171185c3e13bdc56282776270df4f791575ab8","name":"SkateRightArrow","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Right-Arrow.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":14.0,"y":0.0},{"x":14.0,"y":14.0},{"x":0.0,"y":14.0}]]}]}]}]},{"adaptCollisionMaskAutomatically":true,"assetStoreId":"b11fa9b28f19d7cfb48c356e5f6a1d59fb00b33c3f4a62ff32225d1e4f25bde5","name":"ExclamationMark","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":true,"timeBetweenFrames":0.025,"sprites":[{"hasCustomCollisionMask":true,"image":"Exclamation-Mark.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[[{"x":0.0,"y":0.0},{"x":4.0,"y":0.0},{"x":4.0,"y":14.0},{"x":0.0,"y":14.0}]]}]}]}]},{"assetStoreId":"","bold":false,"italic":false,"name":"ExitText","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Leave battle","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"left","characterSize":20.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"0;0;0","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Leave battle","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"left","characterSize":20.0,"color":"255;255;255"}},{"assetStoreId":"","bold":false,"italic":false,"name":"ExitSkateText","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Back to \nLobby","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"right","characterSize":20.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"0;0;0","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Back to \nLobby","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"right","characterSize":20.0,"color":"255;255;255"}},{"assetStoreId":"","bold":false,"italic":false,"name":"EnterArenaText","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Enter\nBattle","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"left","characterSize":20.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":false,"isOutlineEnabled":true,"isShadowEnabled":false,"italic":false,"outlineColor":"0;0;0","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Enter\nBattle","font":"assets\\Quaver v1.0\\quaver.ttf","textAlignment":"left","characterSize":20.0,"color":"255;255;255"}},{"assetStoreId":"82b8caa7b55342f43b24f169b4374e9224e1a78c05a87f8689663e7c4a6bad69","name":"PlayAgainButton","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[],"content":{"LeftPadding":0.0,"RightPadding":0.0,"PressedLabelOffsetY":4.0,"BottomPadding":10.0,"TopPadding":0.0,"HoveredFadeOutDuration":0.2},"childrenContent":{"Hovered":{"bottomMargin":11.0,"height":64.0,"leftMargin":7.0,"rightMargin":7.0,"texture":"Medieval Button Brown_Hovered.png","tiled":true,"topMargin":7.0,"width":192.0},"Idle":{"bottomMargin":11.0,"height":64.0,"leftMargin":7.0,"rightMargin":7.0,"texture":"Medieval Button Brown_Idle.png","tiled":true,"topMargin":7.0,"width":192.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"Play Again","font":"CaveatBrush-Regular.ttf","textAlignment":"center","characterSize":40.0,"color":{"b":159,"g":190,"r":219},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Play Again","font":"CaveatBrush-Regular.ttf","textAlignment":"center","characterSize":40.0,"color":"219;190;159"}},"Pressed":{"bottomMargin":7.0,"height":64.0,"leftMargin":7.0,"rightMargin":7.0,"texture":"Medieval Button Brown_Pressed.png","tiled":true,"topMargin":11.0,"width":192.0}}}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"folderName":"Stage","children":[{"objectName":"Stage"},{"objectName":"stage_box"}]},{"folderName":"InteriorEnterExits","children":[{"folderName":"Triggers","children":[{"objectName":"EnterBattleTopTrigger"},{"objectName":"ExitBattleTopTrigger"},{"objectName":"ExitBattleBottomTrigger"},{"objectName":"EnterBattleBottomTrigger"},{"objectName":"EnterSkateZoneTrigger"},{"objectName":"ExitSkateZoneTrigger"}]},{"folderName":"Markers","children":[{"objectName":"EnterBattleTopMarker"},{"objectName":"ExitBattleTopMarker"},{"objectName":"ExitBattleBottomMarker"},{"objectName":"EnterBattleBottomMarker"},{"objectName":"EnterSkatingMarker"},{"objectName":"ExitSkatingMarker"}]}]},{"folderName":"Boss","children":[{"objectName":"Boss"}]},{"folderName":"Coins","children":[{"objectName":"Coin"},{"objectName":"CoinSpawner"}]},{"folderName":"CameraBounds","children":[{"objectName":"OutsideCameraBoundRight"},{"objectName":"OutsideCameraBoundLeft"},{"objectName":"OutsideCameraBoundBottom"},{"objectName":"OutsideCameraBoundTop"}]},{"folderName":"Skaters","children":[{"objectName":"Skater"},{"objectName":"SkaterSpawner"},{"objectName":"SkaterHitbox"}]},{"folderName":"LanePathPoints","children":[{"objectName":"SlowLanePathPoint1"},{"objectName":"MediumLanePathPoint1"},{"objectName":"MediumLanePathPoint2"},{"objectName":"MediumLanePathPoint3"},{"objectName":"MediumLanePathPoint4"},{"objectName":"MediumLanePathPoint5"},{"objectName":"MediumLanePathPoint6"},{"objectName":"MediumLanePathPoint7"},{"objectName":"MediumLanePathPoint8"},{"objectName":"FastLanePathPoint1"},{"objectName":"FastLanePathPoint2"},{"objectName":"FastLanePathPoint3"},{"objectName":"FastLanePathPoint4"},{"objectName":"FastLanePathPoint5"},{"objectName":"FastLanePathPoint6"},{"objectName":"FastLanePathPoint7"},{"objectName":"FastLanePathPoint8"},{"objectName":"SlowLanePathPoint2"},{"objectName":"SlowLanePathPoint3"},{"objectName":"SlowLanePathPoint4"},{"objectName":"SlowLanePathPoint5"},{"objectName":"SlowLanePathPoint6"},{"objectName":"SlowLanePathPoint7"},{"objectName":"SlowLanePathPoint8"}]},{"folderName":"CameraTriggers","children":[{"objectName":"InnerRinkEnterExit"},{"objectName":"OuterRinkEnterExit"}]},{"folderName":"Player","children":[{"objectName":"PlayerHurtbox"},{"objectName":"Player"}]},{"folderName":"UI","children":[{"objectName":"CrownCoin"},{"objectName":"SkateLeftArrow"},{"objectName":"PixelHeartBar"},{"objectName":"Debug"},{"objectName":"Currency"},{"objectName":"ScanlinesFilter"},{"objectName":"Scanlines_v2"},{"objectName":"VignetteCRT"},{"objectName":"SkateRightArrow"},{"objectName":"Exit"},{"objectName":"ExitText"},{"objectName":"ExitSkateText"},{"objectName":"EnterArenaText"},{"objectName":"PlayAgainButton"},{"objectName":"ExclamationMark"}]},{"objectName":"Camera"},{"objectName":"NewParticleEmitter"}]},"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"DepartScene"},"parameters":[""]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"InitializeScene","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"PlayMusicCanal"},"parameters":["","assets\\Free SynthWave Music Pack\\6. 80s, Disco, Life.wav","1","yes","33",""]},{"type":{"value":"PreloadSound"},"parameters":["","assets\\sfx\\skates.wav"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetGameResolutionSize"},"parameters":["","640","480"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"InitializeVariables","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_NONE"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_NONE"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_speed","=","player_movespeed"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetTimer"},"parameters":["","\"SpawnTimer\""]},{"type":{"value":"ResetTimer"},"parameters":["","\"CoinSpawnTimer\""]},{"type":{"value":"ResetTimer"},"parameters":["","\"SkaterDecisionTimer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::TiledUnitsBar::SetValue"},"parameters":["PixelHeartBar","=","3",""]},{"type":{"value":"Cache"},"parameters":["PlayAgainButton"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"InitializeCamera","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_OUTSIDE"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"InitializePlayer","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Sticker::Sticker::Stick"},"parameters":["PlayerHurtbox","Sticker","Player",""]},{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["player_is_alive","True"]},{"type":{"value":"MettreXY"},"parameters":["Player","=","0","=","0"]},{"type":{"value":"SetAngle"},"parameters":["Player","=","-90"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"InitializeCoins","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Coin","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Coin","is_active",""]}],"actions":[{"type":{"value":"Cache"},"parameters":["Coin"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"LoadPaths","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const [p1, p2, p3, p4, p5, p6, p7, p8] = objects;\r","\r","\r","const generateRelativeCurvePath = (start, end, swap_points=false, multiplier=0.9) => {\r","    const relative_end = {\r","        x: end.getX() - start.getX(),\r","        y: end.getY() - start.getY(),\r","    };\r","\r","    const bezier = {\r","        x: swap_points === true? 0 : (end.getX() - start.getX()) * multiplier,\r","        y: swap_points === true? (end.getX() - start.getX()) * multiplier : 0,\r","    };\r","\r","    return `C ${bezier.x},${bezier.y} ${bezier.x},${bezier.y} ${relative_end.x},${relative_end.y}`;\r","};\r","\r","\r","const sl_turn_p1p2_string = runtimeScene.getVariables().get(\"sl_turn_p1p2_string\");\r","sl_turn_p1p2_string.setString(generateRelativeCurvePath(p1, p2));\r","\r","const sl_turn_p3p4_string = runtimeScene.getVariables().get(\"sl_turn_p3p4_string\");\r","sl_turn_p3p4_string.setString(generateRelativeCurvePath(p3, p4, true, 0.6));\r","\r","const sl_turn_p5p6_string = runtimeScene.getVariables().get(\"sl_turn_p5p6_string\");\r","sl_turn_p5p6_string.setString(generateRelativeCurvePath(p5, p6));\r","\r","const sl_turn_p7p8_string = runtimeScene.getVariables().get(\"sl_turn_p7p8_string\");\r","sl_turn_p7p8_string.setString(generateRelativeCurvePath(p7, p8, true, 0.6));"],"parameterObjects":"SlowLanePathPoints","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const [p1, p2, p3, p4, p5, p6, p7, p8] = objects;\r","\r","\r","const generateRelativeCurvePath = (start, end, swap_points=false, multiplier=0.9) => {\r","    const relative_end = {\r","        x: end.getX() - start.getX(),\r","        y: end.getY() - start.getY(),\r","    };\r","\r","    const bezier = {\r","        x: swap_points === true? 0 : (end.getX() - start.getX()) * multiplier,\r","        y: swap_points === true? (end.getX() - start.getX()) * multiplier : 0,\r","    };\r","\r","    return `C ${bezier.x},${bezier.y} ${bezier.x},${bezier.y} ${relative_end.x},${relative_end.y}`;\r","};\r","\r","\r","const ml_turn_p1p2_string = runtimeScene.getVariables().get(\"ml_turn_p1p2_string\");\r","ml_turn_p1p2_string.setString(generateRelativeCurvePath(p1, p2));\r","\r","const ml_turn_p3p4_string = runtimeScene.getVariables().get(\"ml_turn_p3p4_string\");\r","ml_turn_p3p4_string.setString(generateRelativeCurvePath(p3, p4, true, 0.6));\r","\r","const ml_turn_p5p6_string = runtimeScene.getVariables().get(\"ml_turn_p5p6_string\");\r","ml_turn_p5p6_string.setString(generateRelativeCurvePath(p5, p6));\r","\r","const ml_turn_p7p8_string = runtimeScene.getVariables().get(\"ml_turn_p7p8_string\");\r","ml_turn_p7p8_string.setString(generateRelativeCurvePath(p7, p8, true, 0.6));"],"parameterObjects":"MediumLanePathPoints","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const [p1, p2, p3, p4, p5, p6, p7, p8] = objects;\r","\r","\r","const generateRelativeCurvePath = (start, end, swap_points=false, multiplier=0.9) => {\r","    const relative_end = {\r","        x: end.getX() - start.getX(),\r","        y: end.getY() - start.getY(),\r","    };\r","\r","    const bezier = {\r","        x: swap_points === true? 0 : (end.getX() - start.getX()) * multiplier,\r","        y: swap_points === true? (end.getX() - start.getX()) * multiplier : 0,\r","    };\r","\r","    return `C ${bezier.x},${bezier.y} ${bezier.x},${bezier.y} ${relative_end.x},${relative_end.y}`;\r","};\r","\r","\r","const fl_turn_p1p2_string = runtimeScene.getVariables().get(\"fl_turn_p1p2_string\");\r","fl_turn_p1p2_string.setString(generateRelativeCurvePath(p1, p2));\r","\r","const fl_turn_p3p4_string = runtimeScene.getVariables().get(\"fl_turn_p3p4_string\");\r","fl_turn_p3p4_string.setString(generateRelativeCurvePath(p3, p4, true, 0.6));\r","\r","const fl_turn_p5p6_string = runtimeScene.getVariables().get(\"fl_turn_p5p6_string\");\r","fl_turn_p5p6_string.setString(generateRelativeCurvePath(p5, p6));\r","\r","const fl_turn_p7p8_string = runtimeScene.getVariables().get(\"fl_turn_p7p8_string\");\r","fl_turn_p7p8_string.setString(generateRelativeCurvePath(p7, p8, true, 0.6));"],"parameterObjects":"FastLanePathPoints","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"slow_lane_turn_p1p2\"","sl_turn_p1p2_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"slow_lane_turn_p3p4\"","sl_turn_p3p4_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"slow_lane_turn_p5p6\"","sl_turn_p5p6_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"slow_lane_turn_p7p8\"","sl_turn_p7p8_string",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"medium_lane_turn_p1p2\"","ml_turn_p1p2_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"medium_lane_turn_p3p4\"","ml_turn_p3p4_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"medium_lane_turn_p5p6\"","ml_turn_p5p6_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"medium_lane_turn_p7p8\"","ml_turn_p7p8_string",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"fast_lane_turn_p1p2\"","fl_turn_p1p2_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"fast_lane_turn_p3p4\"","fl_turn_p3p4_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"fast_lane_turn_p5p6\"","fl_turn_p5p6_string",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"fast_lane_turn_p7p8\"","fl_turn_p7p8_string",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"enter_skate_lane\"","\"C 0,\" + ToString(EnterSkatingMarker.CenterY() - EnterSkateZoneTrigger.CenterY() - 0) + \" 0,\" + ToString(EnterSkatingMarker.CenterY() - EnterSkateZoneTrigger.CenterY() - 0) + \" \" + ToString(EnterSkatingMarker.CenterX() - EnterSkateZoneTrigger.CenterX()) + \",\" + ToString(EnterSkatingMarker.CenterY() - EnterSkateZoneTrigger.CenterY() - 0)",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"enter_battle_top\"","\"C 0,\" + ToString(EnterBattleTopMarker.CenterY() - EnterBattleTopTrigger.CenterY() - 0) + \" 0,\" + ToString(EnterBattleTopMarker.CenterY() - EnterBattleTopTrigger.CenterY() - 0) + \" \" + ToString(EnterBattleTopMarker.CenterX() - EnterBattleTopTrigger.CenterX()) + \",\" + ToString(EnterBattleTopMarker.CenterY() - EnterBattleTopTrigger.CenterY() - 0)",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"enter_battle_bottom\"","\"C 0,\" + ToString(EnterBattleTopTrigger.CenterY() - EnterBattleTopMarker.CenterY()) + \" 0,\" + ToString(EnterBattleTopTrigger.CenterY() - EnterBattleTopMarker.CenterY()) + \" \" + ToString(EnterBattleTopMarker.CenterX() - EnterBattleTopTrigger.CenterX()) + \",\" + ToString(EnterBattleTopTrigger.CenterY() - EnterBattleTopMarker.CenterY())",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"exit_battle_top\"","\"C 0,\" + ToString(ExitBattleTopMarker.CenterY() - ExitBattleTopTrigger.CenterY()) + \" 0,\" + ToString(ExitBattleTopMarker.CenterY() - ExitBattleTopTrigger.CenterY()) + \" \" + ToString(ExitBattleTopMarker.CenterX() - ExitBattleTopTrigger.CenterX()) + \",\" + ToString(ExitBattleTopMarker.CenterY() - ExitBattleTopTrigger.CenterY())",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"exit_battle_bottom\"","\"C 0,\" + ToString(ExitBattleBottomMarker.CenterY() - ExitBattleBottomTrigger.CenterY()) + \" 0,\" + ToString(ExitBattleBottomMarker.CenterY() - ExitBattleBottomTrigger.CenterY()) + \" \" + ToString(ExitBattleBottomMarker.CenterX() - ExitBattleBottomTrigger.CenterX()) + \",\" + ToString(ExitBattleBottomMarker.CenterY() - ExitBattleBottomTrigger.CenterY())",""]},{"type":{"value":"CurvedMovement::CreatePathFromSvg"},"parameters":["","\"exit_skate_lane\"","\"C 0,\" + ToString(ExitSkatingMarker.CenterY() - ExitSkateZoneTrigger.CenterY()) + \" 0,\" + ToString(ExitSkatingMarker.CenterY() - ExitSkateZoneTrigger.CenterY()) + \" \" + ToString(ExitSkatingMarker.CenterX() - ExitSkateZoneTrigger.CenterX()) + \",\" + ToString(ExitSkatingMarker.CenterY() - ExitSkateZoneTrigger.CenterY())",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"InitializeSpawner","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","spawn_positions_x[0]","=","FastLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","spawn_positions_x[1]","=","MediumLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","spawn_positions_x[2]","=","SlowLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","spawn_positions_y[0]","=","FastLanePathPoint1.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","spawn_positions_y[1]","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","spawn_positions_y[2]","=","SlowLanePathPoint1.Y()"]}]}],"parameters":[]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"OnEachNewFrame","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"disabled":true,"name":"Synchronize Dynamic Collision Boxes","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreAutour"},"parameters":["PlayerHurtbox","Player","0","0"]},{"type":{"value":"SetAngle"},"parameters":["PlayerHurtbox","=","Player.Angle()"]}]}],"parameters":[]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_SKATING"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_ENTER_SKATE"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_ENTER_BATTLE"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_BEGIN_ATTACK"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_BATTLE_TOP"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_BATTLE_BOTTOM"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_SKATE"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Player","is_dodging",""]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_DIE"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"ProcessInputs","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["player_is_alive","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","w"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_forward","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","s"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_backward","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","a"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_left","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","d"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_right","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","Space"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_adv_def","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","f"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_attack","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyPressed"},"parameters":["","LShift"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_block","True"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyReleased"},"parameters":["","LShift"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_block",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyReleased"},"parameters":["","Space"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_adv_def",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyReleased"},"parameters":["","d"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_right",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyReleased"},"parameters":["","a"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_left",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyReleased"},"parameters":["","s"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_backward",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyReleased"},"parameters":["","w"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_forward",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"KeyReleased"},"parameters":["","f"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["input_attack",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"ProcessPlayerControls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"HandleOutsideControls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_OUTSIDE"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_forward","True"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_SKATING"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_ENTER_SKATE"]}],"actions":[{"type":{"value":"AddForceAL"},"parameters":["Player","Player.Angle()","player_movespeed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_MOVE_FORWARD"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_backward","True"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_SKATING"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_ENTER_SKATE"]}],"actions":[{"type":{"value":"AddForceAL"},"parameters":["Player","Player.Angle()","player_movespeed * -1",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_MOVE_BACKWARD"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_left","True"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_SKATING"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_ENTER_SKATE"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Player","-","player_turnspeed"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_MOVE_FORWARD"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_right","True"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_SKATING"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_ENTER_SKATE"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Player","+","player_turnspeed"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_MOVE_FORWARD"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"HandleLaneSpeedControls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_forward","True"]},{"type":{"value":"VarScene"},"parameters":["player_skate_speed","<","SKATE_MAX_SPEED"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_speed","+","PLAYER_SKATE_ACCELERATION_AMOUNT"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_backward","True"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_speed","-","PLAYER_SKATE_DECELLERATION_AMOUNT"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"HandleLaneSwitchingControls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes",""]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_left","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_FAST"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_MEDIUM"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_SLOW"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_NONE"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_right","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_SLOW"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_MEDIUM"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_FAST"]},{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","ExitSkateZoneTrigger","","","yes"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_NONE"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_left","False"]},{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_right","False"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","False"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"HandleBossBattleControls","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_BATTLE"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Player","is_dodging",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_left","True"]}],"actions":[{"type":{"value":"RotateTowardPosition"},"parameters":["Player","Boss.X()","Boss.Y()","0",""]},{"type":{"value":"AddForceAL"},"parameters":["Player","Player.Angle() - 89","player_movespeed / 2",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_MOVE_FORWARD"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_adv_def","True"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_MOVE_FORWARD"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_BEGIN_DODGE_LEFT"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_right","True"]}],"actions":[{"type":{"value":"RotateTowardPosition"},"parameters":["Player","Boss.X()","Boss.Y()","0",""]},{"type":{"value":"AddForceAL"},"parameters":["Player","Player.Angle() + 89","player_movespeed / 2",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_MOVE_FORWARD"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_adv_def","True"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_MOVE_FORWARD"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_BEGIN_DODGE_RIGHT"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_backward","True"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","ExitBattleTopTrigger","","","yes"]},{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","ExitBattleBottomTrigger","","","yes"]}]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_SKATE"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_SLOW"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["input_block","True"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_BLOCK"]}]}]}],"parameters":[]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"ProcessPlayerAnimations","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","\"idle\""]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Idle\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","\"move_forward\""]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Walk\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","\"move_backward\""]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Walk\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","-1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Run\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","0.333"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_SKATE"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Run\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_SKATE"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Run\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_BATTLE"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Run\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_BATTLE_TOP"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Run\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_BATTLE_BOTTOM"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Run\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_BEGIN_DODGE_LEFT"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Roll\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_DODGING_LEFT"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Player","is_dodging","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","dodge_direction","=","\"left\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_BEGIN_DODGE_RIGHT"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Roll\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_DODGING_RIGHT"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Player","is_dodging","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Player","dodge_direction","=","\"right\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_DODGING_LEFT"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Player","is_dodging","True"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Roll\""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","Boss.X()","Boss.Y()","0",""]},{"type":{"value":"SetAngle"},"parameters":["Player","=","Player.Angle() - 90"]},{"type":{"value":"AddForceAL"},"parameters":["Player","Player.Angle()","200",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Camera","Player.X()","Player.Y()","0",""]},{"type":{"value":"SetAngle"},"parameters":["Camera","-","180"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::HasAnimationEnded"},"parameters":["Player","Animation"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Player","is_dodging","True"]}],"actions":[{"type":{"value":"RotateTowardPosition"},"parameters":["Player","Boss.X()","Boss.Y()","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Player","is_dodging","False"]},{"type":{"value":"PlaySound"},"parameters":["","7466e7d6f5c06c2dd74c1709b8f7680e50100c0c9d234bdbdfca076a111faf5a_Denied_01.aac","","",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_DODGING_RIGHT"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Player","is_dodging","True"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Roll\""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","Boss.X()","Boss.Y()","0",""]},{"type":{"value":"SetAngle"},"parameters":["Player","=","Player.Angle() + 90"]},{"type":{"value":"AddForceAL"},"parameters":["Player","Player.Angle()","200",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Camera","Player.X()","Player.Y()","0",""]},{"type":{"value":"SetAngle"},"parameters":["Camera","-","180"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::HasAnimationEnded"},"parameters":["Player","Animation"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Player","is_dodging","True"]}],"actions":[{"type":{"value":"RotateTowardPosition"},"parameters":["Player","Boss.X()","Boss.Y()","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Player","is_dodging","False"]},{"type":{"value":"PlaySound"},"parameters":["","7466e7d6f5c06c2dd74c1709b8f7680e50100c0c9d234bdbdfca076a111faf5a_Denied_01.aac","","",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_BLOCK"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Clapping\""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::HasAnimationEnded"},"parameters":["Player","Animation"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Clapping\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_DIE"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Player","Animation","=","\"Death\""]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Player","Animation","=","1"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::HasAnimationEnded"},"parameters":["Player","Animation"]}],"actions":[{"type":{"value":"Montre"},"parameters":["PlayAgainButton",""]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"disabled":true,"folded":true,"name":"ProcessCameraStateTransitions","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Turn off the transitioning state flag when the player finished passing through the EnterExits.\n"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state","True"]},{"type":{"inverted":true,"value":"CollisionNP"},"parameters":["PlayerHurtbox","OuterRinkEnterExit","","","yes"]},{"type":{"inverted":true,"value":"CollisionNP"},"parameters":["PlayerHurtbox","InnerRinkEnterExit","","","yes"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state",""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CollisionNP"},"parameters":["PlayerHurtbox","OuterRinkEnterExit","","","yes"]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state","False"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state",""]},{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","OuterRinkEnterExit","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","\"skate\""]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","\"outside\""]},{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state",""]},{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","OuterRinkEnterExit","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","\"outside\""]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","\"skate\""]},{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state",""]},{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","InnerRinkEnterExit","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","\"skate\""]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","\"battle\""]},{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state",""]},{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","InnerRinkEnterExit","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","\"battle\""]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","\"skate\""]},{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["is_transitioning_camera_state","True"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessCamera","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_OUTSIDE"]}],"actions":[{"type":{"value":"MettreAutour"},"parameters":["Camera","Player","0","0"]},{"type":{"value":"SetAngle"},"parameters":["Camera","=","Player.Angle()\n"]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetDistance"},"parameters":["Camera","ThirdPersonCamera","=","1000",""]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetElevationAngleOffset"},"parameters":["Camera","ThirdPersonCamera","=","30",""]},{"type":{"value":"ClampCamera"},"parameters":["","OutsideCameraBoundLeft.X()","OutsideCameraBoundTop.Y()","OutsideCameraBoundRight.X()","OutsideCameraBoundBottom.Y()","","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}],"actions":[{"type":{"value":"MettreAutour"},"parameters":["Camera","Player","0","0"]},{"type":{"value":"SetAngle"},"parameters":["Camera","=","Player.Angle()\n"]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetDistance"},"parameters":["Camera","ThirdPersonCamera","=","500",""]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetElevationAngleOffset"},"parameters":["Camera","ThirdPersonCamera","=","20",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_BATTLE"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Player","is_dodging",""]}],"actions":[{"type":{"value":"RotateTowardPosition"},"parameters":["Player","Boss.X()","Boss.Y()","0",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Boss","Player.X()","Player.Y()","0",""]},{"type":{"value":"MettreAutour"},"parameters":["Camera","Boss","0","0"]},{"type":{"value":"SetAngle"},"parameters":["Camera","=","Player.Angle()\n"]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetDistance"},"parameters":["Camera","ThirdPersonCamera","=","666",""]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetElevationAngleOffset"},"parameters":["Camera","ThirdPersonCamera","=","0",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessPlayerLaneMovement","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","EnterSkatingMarker","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_SKATE"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_SKATE"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint1.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint1.Y()"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","ExitSkatingMarker","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_SKATE"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","0"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_OUTSIDE"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","ExitBattleBottomMarker","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_BATTLE_BOTTOM"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint1.CenterX()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint1.CenterY()"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_speed","=","SLOW_LANE_BASE_SPEED"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","ExitBattleTopMarker","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_BATTLE_TOP"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint5.CenterX()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint5.CenterY()"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_speed","=","SLOW_LANE_BASE_SPEED"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Handle Lane -> Corner Transitions"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","SlowLanePathPoint7","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"slow_lane_turn_p7p8\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","MediumLanePathPoint7","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"medium_lane_turn_p7p8\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","FastLanePathPoint7","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"fast_lane_turn_p7p8\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","SlowLanePathPoint5","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"slow_lane_turn_p5p6\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","MediumLanePathPoint5","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"medium_lane_turn_p5p6\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","FastLanePathPoint5","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"fast_lane_turn_p5p6\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","SlowLanePathPoint3","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"slow_lane_turn_p3p4\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","MediumLanePathPoint3","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"medium_lane_turn_p3p4\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","FastLanePathPoint3","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"fast_lane_turn_p3p4\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","SlowLanePathPoint1","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"slow_lane_turn_p1p2\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","MediumLanePathPoint1","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"medium_lane_turn_p1p2\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","FastLanePathPoint1","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Player","SpeedPathMovement","\"fast_lane_turn_p1p2\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Handle Corner -> Lane Transitions"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","SlowLanePathPoint2","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint3.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint3.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","MediumLanePathPoint2","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint3.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint3.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","FastLanePathPoint2","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint3.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint3.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","SlowLanePathPoint4","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint5.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint5.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","MediumLanePathPoint4","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint5.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint5.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","FastLanePathPoint4","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint5.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint5.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","SlowLanePathPoint6","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint7.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint7.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","7"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","MediumLanePathPoint6","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint7.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint7.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","7"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","FastLanePathPoint6","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint7.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint7.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","7"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","SlowLanePathPoint8","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint1.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint1.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","MediumLanePathPoint8","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint1.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","FastLanePathPoint8","","","yes"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint1.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint1.Y()"]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_data.isTurning",""]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]}],"actions":[{"type":{"value":"AddForceVersPos"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_skate_speed",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessSkaterAI","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareTimer"},"parameters":["","\"SkaterDecisionTimer\"",">=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"AjoutHasard"},"parameters":["","Skater"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes",""]},{"type":{"value":"CompareObjectTimer"},"parameters":["Skater","\"LaneSwitchTimer\"",">=","5"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Skater","\"LaneSwitchTimer\""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","next_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","next_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["RandomFloatInRange(0.0, 1.0)",">","0.5"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","next_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["RandomFloatInRange(0.0, 1.0)","<","0.5"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","next_lane","=","SKATE_LANE_SLOW"]}]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessPlayerLaneSwitching","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Player","lane_switch_speed","=","player_skate_speed * PLAYER_LANE_SWITCH_SPEED_MULTIPLIER\n"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","EnterBattleBottomMarker","","","yes"]},{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","EnterBattleTopMarker","","","yes"]}]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_BATTLE_TOP"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_BATTLE_BOTTOM"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","EnterBattleBottomMarker","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_BATTLE"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_BATTLE"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","EnterBattleTopMarker","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_BATTLE"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_BATTLE"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["PlayerHurtbox","EnterSkateZoneTrigger","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_ENTER_SKATE"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_SKATE"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_SKATING"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_SKATE"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPathTo"},"parameters":["Player","SpeedPathMovement","\"enter_skate_lane\"","1","","EnterSkatingMarker.CenterX()","EnterSkatingMarker.CenterY()",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_speed","=","FAST_LANE_BASE_SPEED"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_skate_speed",""]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_FAST"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_FAST"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_FAST"]},{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player",">","MediumLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","0","Player.lane_switch_speed * -1",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint1.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player","<=","MediumLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreY"},"parameters":["Player","=","MediumLanePathPoint1.Y()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","7"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player","<","MediumLanePathPoint7.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","Player.lane_switch_speed","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint7.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint7.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player",">=","MediumLanePathPoint7.X()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreX"},"parameters":["Player","=","MediumLanePathPoint7.X()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player","<","MediumLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","0","Player.lane_switch_speed",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint5.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player",">=","MediumLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreY"},"parameters":["Player","=","MediumLanePathPoint5.Y()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player",">","MediumLanePathPoint3.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","Player.lane_switch_speed * -1","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint3.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player","<=","MediumLanePathPoint3.X()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreX"},"parameters":["Player","=","MediumLanePathPoint3.X()"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_SLOW"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player",">","SlowLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","0","Player.lane_switch_speed * -1",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint1.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player","<=","SlowLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreY"},"parameters":["Player","=","SlowLanePathPoint1.Y()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","7"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player","<","SlowLanePathPoint7.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","Player.lane_switch_speed","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint7.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint7.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player",">=","SlowLanePathPoint7.X()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreX"},"parameters":["Player","=","SlowLanePathPoint7.X()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player","<","SlowLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","0","Player.lane_switch_speed",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint5.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player",">=","SlowLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreY"},"parameters":["Player","=","SlowLanePathPoint5.Y()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player",">","SlowLanePathPoint3.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","Player.lane_switch_speed * -1","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","SlowLanePathPoint3.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","SlowLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player","<=","SlowLanePathPoint3.X()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreX"},"parameters":["Player","=","SlowLanePathPoint3.X()"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_SLOW"]},{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player","<","MediumLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","0","Player.lane_switch_speed",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint1.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player",">=","MediumLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreY"},"parameters":["Player","=","MediumLanePathPoint1.Y()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","7"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player",">","MediumLanePathPoint7.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","Player.lane_switch_speed * -1","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint7.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint7.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player","<=","MediumLanePathPoint7.X()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreX"},"parameters":["Player","=","MediumLanePathPoint7.X()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player",">","MediumLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","0","Player.lane_switch_speed * -1",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint5.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player","<=","MediumLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreY"},"parameters":["Player","=","MediumLanePathPoint5.Y()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player","<","MediumLanePathPoint3.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","Player.lane_switch_speed","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","MediumLanePathPoint3.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","MediumLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player",">=","MediumLanePathPoint3.X()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreX"},"parameters":["Player","=","MediumLanePathPoint3.X()"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_FAST"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player","<","FastLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","0","Player.lane_switch_speed",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint1.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player",">=","FastLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreY"},"parameters":["Player","=","FastLanePathPoint1.Y()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","7"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player",">","FastLanePathPoint7.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","Player.lane_switch_speed * -1","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint7.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint7.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player","<=","FastLanePathPoint7.X()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreX"},"parameters":["Player","=","FastLanePathPoint7.X()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player",">","FastLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","0","Player.lane_switch_speed * -1",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint5.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Player","<=","FastLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreY"},"parameters":["Player","=","FastLanePathPoint5.Y()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["player_skate_target_point","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player","<","FastLanePathPoint3.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Player","Player.lane_switch_speed","0",""]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_x","=","FastLanePathPoint3.X()"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_y","=","FastLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Player","player_skate_target_x","player_skate_target_y","player_turnspeed",""]},{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["player_skate_is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Player",">=","FastLanePathPoint3.X()"]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","player_skate_next_lane"]},{"type":{"value":"MettreX"},"parameters":["Player","=","FastLanePathPoint3.X()"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_SLOW"]},{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_NONE"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"CollisionNP"},"parameters":["EnterBattleTopTrigger","PlayerHurtbox","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_SKATE"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_BATTLE"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","0"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_NONE"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPathTo"},"parameters":["Player","SpeedPathMovement","\"enter_battle_top\"","1","","EnterBattleTopMarker.X()","EnterBattleTopMarker.Y()",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_movespeed",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_SLOW"]},{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_NONE"]},{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_turning",""]},{"type":{"value":"CollisionNP"},"parameters":["EnterBattleBottomTrigger","PlayerHurtbox","","","yes"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","!=","PLAYER_STATE_EXIT_SKATE"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_BATTLE"]},{"type":{"value":"ModVarScene"},"parameters":["player_skate_target_point","=","0"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_NONE"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPathTo"},"parameters":["Player","SpeedPathMovement","\"enter_battle_bottom\"","1","","EnterBattleBottomMarker.X()","EnterBattleBottomMarker.Y()",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_movespeed",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_NONE"]},{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_SLOW"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["ExitBattleTopTrigger","PlayerHurtbox","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPathTo"},"parameters":["Player","SpeedPathMovement","\"exit_battle_top\"","1","","ExitBattleTopMarker.X()","ExitBattleTopMarker.Y()",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_movespeed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_BATTLE_TOP"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["ExitBattleBottomTrigger","PlayerHurtbox","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPathTo"},"parameters":["Player","SpeedPathMovement","\"exit_battle_bottom\"","1","","ExitBattleBottomMarker.X()","ExitBattleBottomMarker.Y()",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_movespeed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_BATTLE_BOTTOM"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_FAST"]},{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_next_lane","=","SKATE_LANE_NONE"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["ExitSkateZoneTrigger","PlayerHurtbox","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPathTo"},"parameters":["Player","SpeedPathMovement","\"exit_skate_lane\"","1","","ExitSkatingMarker.X()","ExitSkatingMarker.Y()",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Player","SpeedPathMovement","=","player_movespeed",""]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_EXIT_SKATE"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessSkaterLaneSwitching","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Skater","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","!=","Skater.next_lane"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","lane_switch_speed","=","player_skate_speed * PLAYER_LANE_SWITCH_SPEED_MULTIPLIER"]}],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]},{"type":{"value":"VarObjetTxt"},"parameters":["Skater","next_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Skater","is_turning",""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater",">","MediumLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","0","Skater.lane_switch_speed * -1",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater","<=","MediumLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreY"},"parameters":["Skater","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","7"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater","<","MediumLanePathPoint7.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","Skater.lane_switch_speed","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint7.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint7.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater",">=","MediumLanePathPoint7.X()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreX"},"parameters":["Skater","=","MediumLanePathPoint7.X()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater","<","MediumLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","0","Skater.lane_switch_speed",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint5.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater",">=","MediumLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreY"},"parameters":["Skater","=","MediumLanePathPoint5.Y()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater",">","MediumLanePathPoint3.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","Skater.lane_switch_speed * -1","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint3.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater","<=","MediumLanePathPoint3.X()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreX"},"parameters":["Skater","=","MediumLanePathPoint3.X()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"VarObjetTxt"},"parameters":["Skater","next_lane","=","SKATE_LANE_SLOW"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Skater","is_turning",""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater",">","SlowLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","0","Skater.lane_switch_speed * -1",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","SlowLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","SlowLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater","<=","SlowLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreY"},"parameters":["Skater","=","SlowLanePathPoint1.Y()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","7"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater","<","SlowLanePathPoint7.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","Skater.lane_switch_speed","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","SlowLanePathPoint7.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","SlowLanePathPoint7.X()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater",">=","SlowLanePathPoint7.X()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreX"},"parameters":["Skater","=","SlowLanePathPoint7.X()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater","<","SlowLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","0","Skater.lane_switch_speed",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","SlowLanePathPoint5.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","SlowLanePathPoint5.X()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater",">=","SlowLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreY"},"parameters":["Skater","=","SlowLanePathPoint5.Y()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater",">","SlowLanePathPoint3.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","Skater.lane_switch_speed * -1","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","SlowLanePathPoint3.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","SlowLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater","<=","SlowLanePathPoint3.X()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreX"},"parameters":["Skater","=","SlowLanePathPoint3.X()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]},{"type":{"value":"VarObjetTxt"},"parameters":["Skater","next_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Skater","is_turning",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater","<","MediumLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","0","Skater.lane_switch_speed",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater",">=","MediumLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreY"},"parameters":["Skater","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","7"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater",">","MediumLanePathPoint7.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","Skater.lane_switch_speed * -1","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint7.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint7.X()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater","<=","MediumLanePathPoint7.X()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreX"},"parameters":["Skater","=","MediumLanePathPoint7.X()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater",">","MediumLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","0","Skater.lane_switch_speed * -1",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint5.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater","<=","MediumLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreY"},"parameters":["Skater","=","MediumLanePathPoint5.Y()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater","<","MediumLanePathPoint3.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","Skater.lane_switch_speed","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint3.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater",">=","MediumLanePathPoint3.X()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreX"},"parameters":["Skater","=","MediumLanePathPoint3.X()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]},{"type":{"value":"VarObjetTxt"},"parameters":["Skater","next_lane","=","SKATE_LANE_FAST"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Skater","is_turning",""]}],"actions":[],"events":[{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater","<","FastLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","0","Player.lane_switch_speed",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","FastLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","FastLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater",">=","FastLanePathPoint1.Y()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreY"},"parameters":["Skater","=","FastLanePathPoint1.Y()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","7"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater",">","FastLanePathPoint7.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","Player.lane_switch_speed * -1","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","FastLanePathPoint7.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","FastLanePathPoint7.X()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater","<=","FastLanePathPoint7.X()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreX"},"parameters":["Skater","=","FastLanePathPoint7.X()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","5"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater",">","FastLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","0","Player.lane_switch_speed * -1",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","FastLanePathPoint5.Y()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","FastLanePathPoint5.X()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosY"},"parameters":["Skater","<=","FastLanePathPoint5.Y()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreY"},"parameters":["Skater","=","FastLanePathPoint5.Y()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]},{"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","=","3"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater","<","FastLanePathPoint3.X()"]}],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Skater","Player.lane_switch_speed","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","FastLanePathPoint3.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","FastLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PosX"},"parameters":["Skater",">=","FastLanePathPoint3.X()"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","Skater.next_lane"]},{"type":{"value":"MettreX"},"parameters":["Skater","=","FastLanePathPoint3.X()"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_switching_lanes","False"]}]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessSkaterLaneMovement","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Skater","conditions":[],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"HandleCornerToLaneTransitions","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","SlowLanePathPoint1","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"slow_lane_turn_p1p2\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","SLOW_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","MediumLanePathPoint1","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"medium_lane_turn_p1p2\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","MEDIUM_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","FastLanePathPoint1","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"fast_lane_turn_p1p2\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","FAST_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","SlowLanePathPoint3","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"slow_lane_turn_p3p4\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","SLOW_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","MediumLanePathPoint3","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"medium_lane_turn_p3p4\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","MEDIUM_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","FastLanePathPoint3","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"fast_lane_turn_p3p4\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","FAST_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","SlowLanePathPoint5","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"slow_lane_turn_p5p6\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","SLOW_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","MediumLanePathPoint5","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"medium_lane_turn_p5p6\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","MEDIUM_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","FastLanePathPoint5","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"fast_lane_turn_p5p6\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","FAST_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","SlowLanePathPoint7","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"slow_lane_turn_p7p8\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","SLOW_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","MediumLanePathPoint7","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"medium_lane_turn_p7p8\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","MEDIUM_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","FastLanePathPoint7","","","yes"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPath"},"parameters":["Skater","SpeedPathMovement","\"fast_lane_turn_p7p8\"","1","",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetSpeed"},"parameters":["Skater","SpeedPathMovement","=","FAST_LANE_BASE_SPEED",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","True"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"HandleLaneToCornerTransitions","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","SlowLanePathPoint2","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","SlowLanePathPoint3.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","SlowLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","3"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","MediumLanePathPoint2","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint3.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","3"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","FastLanePathPoint2","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","FastLanePathPoint3.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","FastLanePathPoint3.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","3"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","SlowLanePathPoint4","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","SlowLanePathPoint5.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","SlowLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","5"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","MediumLanePathPoint4","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint5.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","5"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","FastLanePathPoint4","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","FastLanePathPoint5.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","FastLanePathPoint5.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","5"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","SlowLanePathPoint6","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","SlowLanePathPoint7.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","SlowLanePathPoint7.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","7"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","MediumLanePathPoint6","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint7.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint7.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","7"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","FastLanePathPoint6","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","FastLanePathPoint7.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","FastLanePathPoint7.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","7"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","SlowLanePathPoint8","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","SlowLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","SlowLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","1"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","MediumLanePathPoint8","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","MediumLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","MediumLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","1"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Skater","FastLanePathPoint8","","","yes"]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_x","=","FastLanePathPoint1.X()"]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_y","=","FastLanePathPoint1.Y()"]},{"type":{"value":"RotateTowardPosition"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","0",""]},{"type":{"value":"ModVarObjet"},"parameters":["Skater","skate_target_point","=","1"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Skater","is_turning","False"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Skater","is_turning",""]},{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","!=","0"]},{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_SLOW"]}],"actions":[{"type":{"value":"AddForceVersPos"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","SLOW_LANE_BASE_SPEED",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Skater","is_turning",""]},{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","!=","0"]},{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_MEDIUM"]}],"actions":[{"type":{"value":"AddForceVersPos"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","MEDIUM_LANE_BASE_SPEED",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Skater","is_turning",""]},{"type":{"value":"VarObjet"},"parameters":["Skater","skate_target_point","!=","0"]},{"type":{"value":"VarObjetTxt"},"parameters":["Skater","current_lane","=","SKATE_LANE_FAST"]}],"actions":[{"type":{"value":"AddForceVersPos"},"parameters":["Skater","Skater.skate_target_x","Skater.skate_target_y","FAST_LANE_BASE_SPEED",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"EnsureSkatingAnimations","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjetTxt"},"parameters":["Skater","animation_state","!=","ANIMATION_STATE_SKATING"]}],"actions":[{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetName"},"parameters":["Skater","Animation","=","\"Run\""]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","animation_state","=","ANIMATION_STATE_SKATING"]},{"type":{"value":"AnimatableCapability::AnimatableBehavior::SetSpeedScale"},"parameters":["Skater","Animation","=","0.333"]}]}],"parameters":[]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"ProcessSkaterHit","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["player_is_alive","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::ForEach","object":"SkaterHitbox","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["SkaterHitbox","PlayerHurtbox","","","yes"]}],"actions":[{"type":{"value":"Sticker::Sticker::DestroyStuckedObject"},"parameters":["SkaterHitbox","Sticker",""]},{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","current","-","1"]},{"type":{"value":"Flash::Flash::Flash"},"parameters":["Player","Flash","3",""]},{"type":{"value":"CameraShake::SetLayerTranslationAmplitude"},"parameters":["","50","50","",""]},{"type":{"value":"CameraShake::ShakeCamera"},"parameters":["","1","0","0.5",""]},{"type":{"value":"PlaySound"},"parameters":["","35050b95a0e87ff94beb868c98c76367570bb5ce35dd1d792e3a84f57dd16b73_Hit 1.aac","","",""]},{"type":{"value":"TiledUnitsBar::TiledUnitsBar::SetValue"},"parameters":["PixelHeartBar","-","1",""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_SLOW"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_speed","=","SLOW_LANE_BASE_SPEED"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_MEDIUM"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_speed","=","MEDIUM_LANE_BASE_SPEED"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_FAST"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["player_skate_speed","=","FAST_LANE_BASE_SPEED"]}]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"ProcessSkaterSpawning","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarObjet"},"parameters":["SkaterSpawner","current","<=","MAX_SKATERS"]},{"type":{"value":"VarObjet"},"parameters":["SkaterSpawner","spawn_rate",">=","RandomFloatInRange(0.0, 1.0)"]},{"type":{"value":"CompareTimer"},"parameters":["","\"SpawnTimer\"",">=","1"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","spawn_positions_index","=","RandomInRange(0, 2)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Skater","SkaterSpawner.spawn_positions_x[SkaterSpawner.spawn_positions_index]","SkaterSpawner.spawn_positions_y[SkaterSpawner.spawn_positions_index]",""]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","current_lane","=","SkaterSpawner.LANES[SkaterSpawner.spawn_positions_index]"]},{"type":{"value":"ModVarObjetTxt"},"parameters":["Skater","next_lane","=","Skater.current_lane"]},{"type":{"value":"Create"},"parameters":["","SkaterHitbox","SkaterSpawner.spawn_positions_x[SkaterSpawner.spawn_positions_index] ","SkaterSpawner.spawn_positions_y[SkaterSpawner.spawn_positions_index] - 25","\"Collision\""]},{"type":{"value":"Sticker::Sticker::Stick"},"parameters":["SkaterHitbox","Sticker","Skater",""]},{"type":{"value":"ResetObjectTimer"},"parameters":["Skater","\"LaneSwitchTimer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["SkaterSpawner","current","+","1"]},{"type":{"value":"ResetTimer"},"parameters":["","\"SpawnTimer\""]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"ProcessCoinHit","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Coin","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Coin","PlayerHurtbox","","","yes"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Coin","is_active","True"]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","c52f1dacc263a2a6dc94e712a2a148f909b73372fa8e0622cb237fdc6a72fd6c_Coins 8.aac","","100","1"]},{"type":{"value":"Cache"},"parameters":["Coin"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Coin","is_active",""]},{"type":{"value":"ModVarGlobal"},"parameters":["current_currency","+","1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"ProcessCoinSpawning","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareTimer"},"parameters":["","\"CoinSpawnTimer\"",">=","5"]}],"actions":[],"events":[{"disabled":true,"type":"BuiltinCommonInstructions::ForEach","object":"Coin","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Coin","is_active",""]}],"actions":[{"type":{"value":"Montre"},"parameters":["Coin",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Coin","is_active","True"]},{"type":{"value":"ResetTimer"},"parameters":["","\"CoinSpawnTimer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"AjoutHasard"},"parameters":["","Coin"]},{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Coin","is_active",""]}],"actions":[{"type":{"value":"Montre"},"parameters":["Coin",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Coin","is_active","True"]},{"type":{"value":"ResetTimer"},"parameters":["","\"CoinSpawnTimer\""]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessCoinAnimations","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Coin","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Coin","is_active","True"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Coin","+","10"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessAudio","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_SKATING"]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_ENTER_SKATE"]}]},{"type":{"value":"VarGlobal"},"parameters":["skate_sfx_frame_counter","<=","0"]}],"actions":[{"type":{"value":"PlaySound"},"parameters":["","assets\\sfx\\skates.wav","1","10",""]},{"type":{"value":"ModVarGlobal"},"parameters":["skate_sfx_frame_counter","=","SKATE_SOUND_FRAME_TIMING"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobal"},"parameters":["skate_sfx_frame_counter",">","0"]}],"actions":[{"type":{"value":"ModVarGlobal"},"parameters":["skate_sfx_frame_counter","-","1"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"folded":true,"name":"ProcessUI","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Currency","Text","=","current_currency"]},{"type":{"value":"Cache"},"parameters":["Exit"]},{"type":{"value":"Cache"},"parameters":["ExitText"]},{"type":{"value":"Cache"},"parameters":["EnterArenaText"]},{"type":{"value":"Cache"},"parameters":["ExitSkateText"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","!=","CAMERA_STATE_SKATE"]}],"actions":[{"type":{"value":"Cache"},"parameters":["SkateLeftArrow"]},{"type":{"value":"Cache"},"parameters":["SkateRightArrow"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_SKATE"]}],"actions":[{"type":{"value":"Montre"},"parameters":["SkateLeftArrow",""]},{"type":{"value":"Montre"},"parameters":["SkateRightArrow",""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_FAST"]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateRightArrow","Opacity","=","64"]},{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateLeftArrow","Opacity","=","255"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_MEDIUM"]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateRightArrow","Opacity","=","255"]},{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateLeftArrow","Opacity","=","255"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["player_skate_current_lane","=","SKATE_LANE_SLOW"]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateRightArrow","Opacity","=","255"]},{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateLeftArrow","Opacity","=","64"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"SceneVariableAsBoolean"},"parameters":["player_skate_is_turning","True"]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateLeftArrow","Opacity","=","64"]},{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateRightArrow","Opacity","=","64"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionNP"},"parameters":["Player","ExitSkateZoneTrigger","","",""]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateRightArrow","Opacity","=","255"]},{"type":{"value":"Montre"},"parameters":["ExitSkateText",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CollisionNP"},"parameters":["Player","EnterBattleTopTrigger","","",""]},{"type":{"value":"CollisionNP"},"parameters":["Player","EnterBattleBottomTrigger","","",""]}]}],"actions":[{"type":{"value":"OpacityCapability::OpacityBehavior::SetValue"},"parameters":["SkateLeftArrow","Opacity","=","255"]},{"type":{"value":"Montre"},"parameters":["EnterArenaText",""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_BATTLE"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CollisionNP"},"parameters":["Player","ExitBattleBottomTrigger","","",""]},{"type":{"value":"CollisionNP"},"parameters":["Player","ExitBattleTopTrigger","","",""]}]},{"type":{"value":"VarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_IDLE"]}],"actions":[{"type":{"value":"Montre"},"parameters":["Exit",""]},{"type":{"value":"Montre"},"parameters":["ExitText",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"ProcessGameState","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::TiledUnitsBar::IsEmpty"},"parameters":["PixelHeartBar",""]},{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["player_is_alive","True"]}],"actions":[{"type":{"value":"ModVarGlobalTxt"},"parameters":["player_state","=","PLAYER_STATE_DIE"]},{"type":{"value":"ModVarGlobalTxt"},"parameters":["camera_state","=","CAMERA_STATE_OUTSIDE"]},{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["player_is_alive",""]},{"type":{"value":"PlaySound"},"parameters":["","7833b0affdd8b8dc7a876aec6788ff38c2a071f7ef6a6006aab94973ca0b217e_Lose 1.aac","","",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsClicked"},"parameters":["PlayAgainButton",""]}],"actions":[{"type":{"value":"Scene"},"parameters":["","\"Main Game\"","yes"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"OnNextFrame : Actions Just Before The Next Frame Is Processed.","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Debug","Text","=","\"STATE: \" + player_state + \", CUR_LANE: \" + player_skate_current_lane + \", NEX_LANE: \" + player_skate_next_lane + \", \nTARG_POINT: \" + player_skate_target_point + \", SWITCHING_LANES?: \" + player_skate_is_switching_lanes + \", CAMERA_STATE: \" + camera_state + \", IS_DODGING?: \" + Player.is_dodging"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Debug","Text","=","\"C 0,\" + ToString(EnterSkatingMarker.CenterY() - EnterSkateZoneTrigger.CenterY() - 0) + \" 0,\" + ToString(EnterSkatingMarker.CenterY() - EnterSkateZoneTrigger.CenterY() - 0) + \" \" + ToString(EnterSkatingMarker.CenterX() - EnterSkateZoneTrigger.CenterX()) + \",\" + ToString(EnterSkatingMarker.CenterY() - EnterSkateZoneTrigger.CenterY() - 0)"]}]},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextContainerCapability::TextContainerBehavior::SetValue"},"parameters":["Debug","Text","=","player_state"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"parameters":[]}],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"Background","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":90.0,"intensity":0.5,"rotation":0.0},"stringParameters":{"groundColor":"127;127;127","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"UI","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}},{"effectType":"DropShadow","name":"Effect","doubleParameters":{"alpha":1.0,"blur":2.0,"distance":1.0,"padding":0.0,"quality":3.0,"rotation":0.0},"stringParameters":{"color":"255;255;255"},"booleanParameters":{"shadowOnly":false}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"Triggers","renderingType":"","visibility":false,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"CameraBounds","renderingType":"","visibility":false,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"2dEffects","renderingType":"","visibility":true,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"Collision","renderingType":"","visibility":false,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]},{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"Debug","renderingType":"","visibility":false,"cameras":[],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"Animation","type":"AnimatableCapability::AnimatableBehavior"},{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flash","type":"Flash::Flash"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Object3D","type":"Scene3D::Base3DBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"SpeedPathMovement","type":"CurvedMovement::SpeedPathMovement"},{"name":"Sticker","type":"Sticker::Sticker"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"},{"name":"ThirdPersonCamera","type":"ThirdPersonCamera::ThirdPersonCamera"}]},{"b":209,"disableInputWhenNotFocused":true,"mangledName":"GameOver","name":"GameOver","r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":209,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":false,"zoomFactor":0.546875,"windowMask":false},"objectsGroups":[],"variables":[],"instances":[{"angle":0.0,"customSize":true,"depth":48.0,"height":52.0,"layer":"","name":"GreyButtonWithShadow","persistentUuid":"e6ec3788-cbf9-4ff8-830d-0d64aa8fcf23","width":141.0,"x":87.0,"y":98.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":true,"depth":0.0,"height":240.0,"layer":"","name":"DesertBackground2","persistentUuid":"e032f329-44f0-425d-990b-591572a190d0","width":320.0,"x":0.0,"y":0.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"assetStoreId":"","bold":false,"italic":false,"name":"NewText","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Game Over","font":"","textAlignment":"center","characterSize":32.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Game Over","font":"","textAlignment":"center","characterSize":32.0,"color":"0;0;0"}},{"assetStoreId":"9cf9ca8be6e98fc23e76b6770d3f4d094dea09f30a49f38ef9a9d2e97c2460be","name":"GreyButtonWithShadow","type":"PanelSpriteButton::PanelSpriteButton","variables":[],"effects":[],"behaviors":[],"content":{"LeftPadding":16.0,"RightPadding":16.0,"PressedLabelOffsetY":3.0,"BottomPadding":32.0,"TopPadding":32.0,"HoveredFadeOutDuration":0.25},"childrenContent":{"Hovered":{"bottomMargin":16.0,"height":69.0,"leftMargin":16.0,"rightMargin":16.0,"texture":"Grey Button With Shadow_Hovered.png","tiled":true,"topMargin":16.0,"width":192.0},"Idle":{"bottomMargin":16.0,"height":69.0,"leftMargin":16.0,"rightMargin":16.0,"texture":"Grey Button With Shadow_Idle.png","tiled":true,"topMargin":16.0,"width":192.0},"Label":{"bold":false,"italic":false,"smoothed":true,"underlined":false,"string":"PLAY AGAIN","font":"CantoraOne-Regular.ttf","textAlignment":"center","characterSize":20.0,"color":{"b":255,"g":255,"r":255},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"PLAY AGAIN","font":"CantoraOne-Regular.ttf","textAlignment":"center","characterSize":20.0,"color":"255;255;255"}},"Pressed":{"bottomMargin":16.0,"height":69.0,"leftMargin":16.0,"rightMargin":16.0,"texture":"Grey Button With Shadow_Pressed.png","tiled":true,"topMargin":16.0,"width":192.0}}},{"assetStoreId":"734722d52956862823635227a2e24a48e10462962add6cb060d1b7004ca5a58e","height":128.0,"name":"DesertBackground2","texture":"tiled_Desert Background 2.png","type":"TiledSpriteObject::TiledSprite","width":128.0,"variables":[],"effects":[],"behaviors":[]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"NewText"},{"objectName":"GreyButtonWithShadow"},{"objectName":"DesertBackground2"}]},"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsClicked"},"parameters":["GreyButtonWithShadow",""]}],"actions":[{"type":{"value":"Scene"},"parameters":["","\"Main Game\"","yes"]}]}],"layers":[{"ambientLightColorB":200,"ambientLightColorG":200,"ambientLightColorR":200,"camera3DFarPlaneDistance":10000.0,"camera3DFieldOfView":45.0,"camera3DNearPlaneDistance":3.0,"cameraType":"","followBaseLayerCamera":false,"isLightingLayer":false,"isLocked":false,"name":"","renderingType":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[{"effectType":"Scene3D::HemisphereLight","name":"3D Light","doubleParameters":{"elevation":45.0,"intensity":1.0,"rotation":0.0},"stringParameters":{"groundColor":"64;64;64","skyColor":"255;255;255","top":"Y-"},"booleanParameters":{}}]}],"behaviorsSharedData":[{"name":"Effect","type":"EffectCapability::EffectBehavior"},{"name":"Flippable","type":"FlippableCapability::FlippableBehavior"},{"name":"Opacity","type":"OpacityCapability::OpacityBehavior"},{"name":"Resizable","type":"ResizableCapability::ResizableBehavior"},{"name":"Scale","type":"ScalableCapability::ScalableBehavior"},{"name":"Text","type":"TextContainerCapability::TextContainerBehavior"}]}],"externalEvents":[],"eventsFunctionsExtensions":[{"author":"D8H","category":"Movement","extensionNamespace":"","fullName":"Stick objects to others","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXN0aWNrZXItb3V0bGluZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik01LjUgMkMzLjYgMiAyIDMuNiAyIDUuNVYxOC41QzIgMjAuNCAzLjYgMjIgNS41IDIySDE2TDIyIDE2VjUuNUMyMiAzLjYgMjAuNCAyIDE4LjUgMkg1LjVNNS44IDRIMTguM0MxOS4zIDQgMjAuMSA0LjggMjAuMSA1LjhWMTVIMTguNkMxNi43IDE1IDE1LjEgMTYuNiAxNS4xIDE4LjVWMjBINS44QzQuOCAyMCA0IDE5LjIgNCAxOC4yVjUuOEM0IDQuOCA0LjggNCA1LjggNCIgLz48L3N2Zz4=","name":"Sticker","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/sticker-outline.svg","shortDescription":"Make objects follow the position and rotation of the object they are stuck to.","version":"0.5.1","description":["This extension can be useful to:","* Stick accessories to moving objects","* Animate a skeleton","* Delete an object with another one","","An example allows to check it out ([open the project online](https://editor.gdevelop.io/?project=example://stick-objects))."],"origin":{"identifier":"Sticker","name":"gdevelop-extension-store"},"tags":["sticker","stick","follow","skeleton","joint","pin","bind","glue","tie","attach","hold","paste","wear"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Define helper classes JavaScript code.","fullName":"Define helper classes","functionType":"Action","name":"DefineHelperClasses","private":true,"sentence":"Define helper classes JavaScript code","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs._stickerExtension) {","    return;","}","","// Unstick from deleted objects.","gdjs.registerObjectDeletedFromSceneCallback(function (runtimeScene, deletedObject) {","    const extension = runtimeScene._stickerExtension;","    if (!extension) {","        return;","    }","    const allStickers = runtimeScene._stickerExtension.allStickers;","    for (const behavior of allStickers) {","        const sticker = behavior._sticker;","        if (sticker.isStuckTo(deletedObject)) {","            if (behavior._getIsDestroyedWithParent()) {","                behavior.owner.deleteFromScene(runtimeScene);","            }","            sticker.unstick();","        }","    }","});","","class Sticker {","    /** @type {gdjs.RuntimeBehavior} */","    behavior;","    /** @type {gdjs.RuntimeObject | null} */","    basisObject;","    linkedObject;","    followingDoneThisFrame = false;","    relativeX = 0;","    relativeY = 0;","    relativeAngle = 0;","    relativeRotatedX = 0;","    relativeRotatedY = 0;","    basisOldX = 0;","    basisOldY = 0;","    basisOldAngle = 0;","    basisOldWidth = 0;","    basisOldHeight = 0;","    basisOldCenterXInScene = 0;","    basisOldCenterYInScene = 0;","","    /**","     * @param {gdjs.RuntimeBehavior} behavior","     */","    constructor(behavior) {","        this.behavior = behavior;","    }","","    /**","     * @param {gdjs.RuntimeObject} basisObject","     */","    isStuckTo(basisObject) {","        return this.basisObject === basisObject;","    }","","    /**","     * @param {gdjs.RuntimeObject} basisObject","     */","    stickTo(basisObject) {","        this.basisObject = basisObject;","        this.updateOldCoordinates();","        this.updateRelativeCoordinates();","    }","","    /**","     * @param {gdjs.RuntimeObject} basisObject","     */","    linkTo(basisObject) {","        this.linkedObject = basisObject;","    }","","    unstick() {","        this.basisObject = null;","    }","","    onStepPreEvents() {","        this.followingDoneThisFrame = false;","    }","","    /**","     * Update the coordinates in the basisObject basis.","     * ","     * It uses the basisObject coordinates from the previous frame.","     * This way, the sticker can move relatively to it and still","     * follow basisObject.","     * ","     * @param {gdjs.RuntimeObject} basisObject","     */","    updateRelativeCoordinates() {","        const object = this.behavior.owner;","","        // Update relative coordinates","        this.relativeX = object.getX() - this.basisOldX;","        this.relativeY = object.getY() - this.basisOldY;","        if (!this.behavior._getOnlyFollowPosition()) {","            this.relativeAngle = object.getAngle() - this.basisOldAngle;","            this.relativeWidth = object.getWidth() / this.basisOldWidth;","            this.relativeHeight = object.getHeight() / this.basisOldHeight;","            const deltaX = object.getCenterXInScene() - this.basisOldCenterXInScene;","            const deltaY = object.getCenterYInScene() - this.basisOldCenterYInScene;","            const angle = this.basisOldAngle * Math.PI / 180;","            this.relativeRotatedX = (deltaX * Math.cos(angle) + deltaY * Math.sin(angle)) / this.basisOldWidth;","            this.relativeRotatedY = (-deltaX * Math.sin(angle) + deltaY * Math.cos(angle)) / this.basisOldHeight;","","            // Save initial values to avoid calculus and rounding errors","            this.basisOriginalWidth = this.basisObject.getWidth();","            this.basisOriginalHeight = this.basisObject.getHeight();","            this.basisOriginalAngle = this.basisObject.getAngle();","        }","    }","","    /**","     * Copy the coordinates to use it the next frame.","     */","    updateOldCoordinates() {","        const object = this.behavior.owner;","","        this.ownerOldX = object.getX();","        this.ownerOldY = object.getY();","","        this.basisOldX = this.basisObject.getX();","        this.basisOldY = this.basisObject.getY();","","        if (!this.behavior._getOnlyFollowPosition()) {","            this.ownerOldAngle = object.getAngle();","            this.ownerOldWidth = object.getWidth();","            this.ownerOldHeight = object.getHeight();","","            this.basisOldAngle = this.basisObject.getAngle();","            this.basisOldWidth = this.basisObject.getWidth();","            this.basisOldHeight = this.basisObject.getHeight();","            this.basisOldCenterXInScene = this.basisObject.getCenterXInScene();","            this.basisOldCenterYInScene = this.basisObject.getCenterYInScene();","        }","    }","","    /**","     * Follow the basisObject (called in doStepPostEvents).","     * ","     * This method is also called by children to ensure","     * parents are updated first.","     */","    followBasisObject() {","        if (this.followingDoneThisFrame) {","            return;","        }","        this.followingDoneThisFrame = true;","        const basisObject = this.basisObject;","        if (basisObject) {","            // If the behavior on the basis object has a different name,","            // the objects will still follow their basis objects","            // but frame delays could happen.","            const behaviorName = this.behavior.getName();","            if (basisObject.hasBehavior(behaviorName)) {","                const basisBehavior = basisObject.getBehavior(behaviorName);","                if (basisBehavior.type === this.behavior.type) {","                    // Follow parents 1st to avoid frame delays","                    basisBehavior._sticker.followBasisObject();","                }","            }","","            const object = this.behavior.owner;","","            if (this.behavior._getOnlyFollowPosition()) {","                if (object.getX() !== this.ownerOldX","                    || object.getY() !== this.ownerOldY) {","                    this.updateRelativeCoordinates();","                }","","                if (this.basisOldX !== basisObject.getX() ||","                    this.basisOldY !== basisObject.getY()) {","                    object.setPosition(","                        basisObject.getX() + this.relativeX,","                        basisObject.getY() + this.relativeY);","                }","            } else {","                if (object.getX() !== this.ownerOldX","                    || object.getY() !== this.ownerOldY","                    || object.getAngle() !== this.ownerOldAngle","                    || object.getWidth() !== this.ownerOldWidth","                    || object.getHeight() !== this.ownerOldHeight) {","                    this.updateRelativeCoordinates();","                }","","                // Follow basisObject","                if (basisObject.getAngle() === this.basisOriginalAngle && this.basisOriginalAngle === 0) {","                    if (basisObject.getWidth() === this.basisOriginalWidth ||","                        basisObject.getHeight() === this.basisOriginalHeight) {","                        if (this.basisOldX !== basisObject.getX() ||","                            this.basisOldY !== basisObject.getY()) {","                            object.setPosition(","                                basisObject.getX() + this.relativeX,","                                basisObject.getY() + this.relativeY);","                        }","                    } else {","                        object.setCenterPositionInScene(","                            basisObject.getCenterXInScene() + this.relativeRotatedX * basisObject.getWidth(),","                            basisObject.getCenterYInScene() + this.relativeRotatedY * basisObject.getHeight());","                    }","                } else {","                    object.setAngle(basisObject.getAngle() + this.relativeAngle);","","                    const deltaX = this.relativeRotatedX * basisObject.getWidth();","                    const deltaY = this.relativeRotatedY * basisObject.getHeight();","                    const angle = -basisObject.getAngle() * Math.PI / 180;","                    object.setX(basisObject.getCenterXInScene() + object.getX() - object.getCenterXInScene() + deltaX * Math.cos(angle) + deltaY * Math.sin(angle));","                    object.setY(basisObject.getCenterYInScene() + object.getY() - object.getCenterYInScene() - deltaX * Math.sin(angle) + deltaY * Math.cos(angle));","                }","                // Unproportional dimensions changes won't work as expected","                // if the object angle is not null but nothing more can be done","                // because there is no full affine transformation on objects.","                if (basisObject.getWidth() !== this.basisOriginalWidth) {","                    object.setWidth(this.relativeWidth * basisObject.getWidth());","                }","                if (basisObject.getHeight() !== this.basisOriginalHeight) {","                    object.setHeight(this.relativeHeight * basisObject.getHeight());","                }","            }","","            this.updateOldCoordinates();","        }","    }","}","","gdjs._stickerExtension = {","    Sticker","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Check if the object is stuck to another object.","fullName":"Is stuck to another object","functionType":"Condition","name":"IsStuck","sentence":"_PARAM1_ is stuck to _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const stickerBehaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","/** @type {Hashtable<gdjs.RuntimeObject[]>} */","const stickerObjectsLists = eventsFunctionContext.getObjectsLists(\"Object\");","/** @type {Hashtable<gdjs.RuntimeObject[]>} */","const basisObjectsLists = eventsFunctionContext.getObjectsLists(\"BasisObject\");","","eventsFunctionContext.returnValue = gdjs.evtTools.object.twoListsTest(","  (stickerObject, basisObject) => {","    const sticker = stickerObject.getBehavior(stickerBehaviorName)._sticker;","    return sticker.isStuckTo(basisObject);","  },","  stickerObjectsLists,","  basisObjectsLists,","  false",");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Sticker","name":"Object","type":"objectList"},{"description":"Sticker behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"},{"description":"Basis","name":"BasisObject","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Stick the object to another. Use the action to stick the object, or unstick it later.","fullName":"Sticker","name":"Sticker","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Sticker::DefineHelperClasses"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const Sticker = gdjs._stickerExtension.Sticker;","","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const object = objects[0];","const behavior = object.getBehavior(behaviorName);","","behavior._sticker = new Sticker(behavior);","","// Set up the scene sticker objects list - if not done already.","runtimeScene._stickerExtension = runtimeScene._stickerExtension || {","    allStickers: new Set(),","};","// Register this object as a sticker.","runtimeScene._stickerExtension.allStickers.add(behavior);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const object = objects[0];","const behavior = object.getBehavior(behaviorName);","","behavior._sticker.onStepPreEvents();"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const object = objects[0];","const behavior = object.getBehavior(behaviorName);","","behavior._sticker.followBasisObject();"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"description":"Stick on another object.","fullName":"Stick","functionType":"Action","name":"Stick","sentence":"Stick _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const basisObjects = eventsFunctionContext.getObjects(\"BasisObject\");","","if (basisObjects.length === 0) return;","// An object can stick to only one object.","const basisObject = basisObjects[0];","object.getBehavior(behaviorName)._sticker.stickTo(basisObject);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"},{"description":"Object to stick to","name":"BasisObject","type":"objectList"}],"objectGroups":[]},{"description":"Destroy the Object currently stuck to","fullName":"Destroy Stuck Object","functionType":"Action","name":"DestroyStuckedObject","sentence":"Destroy _PARAM0_'s stuck object","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","//const basisObjects = eventsFunctionContext.getObjects(\"BasisObject\");","","//if (basisObjects.length === 0) return;","// An object can stick to only one object.","//const basisObject = basisObjects[0];","//object.getBehavior(behaviorName)._sticker.stickTo(basisObject);","runtimeScene.markObjectForDeletion(object.getBehavior(behaviorName)._sticker.basisObject);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"description":"Get the object that this object is stuck to","fullName":"Get Sticking Target","functionType":"StringExpression","name":"GetLinkedObject","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const object = objects[0];","const behavior = object.getBehavior(behaviorName);","","return behavior._sticker.linkedObject;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"supplementaryInformation":"objectStuckTo","type":"identifier"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"description":"Links an Object to the current one.","fullName":"Link To Object","functionType":"Action","name":"LinkToObject","sentence":"Link _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const basisObjects = eventsFunctionContext.getObjects(\"BasisObject\");","","if (basisObjects.length === 0) return;","// An object can stick to only one object.","const basisObject = basisObjects[0];","object.getBehavior(behaviorName)._sticker.linkTo(basisObject);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"},{"description":"Object to link to","name":"Parameter","type":"objectList"}],"objectGroups":[]},{"description":"Unstick from the object it was stuck to.","fullName":"Unstick","functionType":"Action","name":"Unstick","sentence":"Unstick _PARAM0_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = object.getBehavior(behaviorName);","","object.getBehavior(behaviorName)._sticker.unstick();",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDestroy","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const object = objects[0];","const behavior = object.getBehavior(behaviorName);","","runtimeScene._stickerExtension.allStickers.delete(behavior._sticker);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Sticker::Sticker","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Boolean","label":"Only follow the position","description":"","group":"","extraInformation":[],"name":"OnlyFollowPosition"},{"value":"","type":"Boolean","label":"Destroy when the object it's stuck on is destroyed","description":"","group":"","extraInformation":[],"name":"IsDestroyedWithParent"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"Tristan Rhodes (https://victrisgames.itch.io/)","category":"Game mechanic","extensionNamespace":"","fullName":"Values of multiple objects","helpPath":"https://victrisgames.itch.io/values-of-multiple-objects","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWRvdHMtaGV4YWdvbiIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNiAxMkMxNiAxMC45IDE2LjkgMTAgMTggMTBTMjAgMTAuOSAyMCAxMiAxOS4xIDE0IDE4IDE0IDE2IDEzLjEgMTYgMTJNMTAgMTJDMTAgMTAuOSAxMC45IDEwIDEyIDEwUzE0IDEwLjkgMTQgMTIgMTMuMSAxNCAxMiAxNCAxMCAxMy4xIDEwIDEyTTQgMTJDNCAxMC45IDQuOSAxMCA2IDEwUzggMTAuOSA4IDEyIDcuMSAxNCA2IDE0IDQgMTMuMSA0IDEyTTEzIDE4QzEzIDE2LjkgMTMuOSAxNiAxNSAxNlMxNyAxNi45IDE3IDE4IDE2LjEgMjAgMTUgMjAgMTMgMTkuMSAxMyAxOE03IDE4QzcgMTYuOSA3LjkgMTYgOSAxNlMxMSAxNi45IDExIDE4IDEwLjEgMjAgOSAyMCA3IDE5LjEgNyAxOE0xMyA2QzEzIDQuOSAxMy45IDQgMTUgNFMxNyA0LjkgMTcgNiAxNi4xIDggMTUgOCAxMyA3LjEgMTMgNk03IDZDNyA0LjkgNy45IDQgOSA0UzExIDQuOSAxMSA2IDEwLjEgOCA5IDggNyA3LjEgNyA2IiAvPjwvc3ZnPg==","name":"ValuesOfMultipleObjects","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/dots-hexagon.svg","shortDescription":"Values of picked object instances (including position, size, force and angle).","version":"1.4.0","description":["Provides values based on picked object instances.  ","Useful for camera tracking, flocking behaviors, and more.","","Included expressions","","Center points:","- X center point (absolute) ","- Y center point (absolute)","- X center point (average) ","- Y center point (average)","","Position expressions (based on AABB of objects):","- Minimum X position","- Minimum Y position","- Maximum X position","- Maximum Y position","","Force expressions:","- Average horizontal force (X)","- Average vertical force (Y)","","Angle expressions:","- Average angle of rotation","","Size expressions:","- Width (min/max/average)","- Height (min/max/average)","","Z-order expressions: (min/max/average)"],"origin":{"identifier":"ValuesOfMultipleObjects","name":"gdevelop-extension-store"},"tags":["objects","expression","calculate","center","middle","average","position","flocking","camera","mean","median","max","min","velocity"],"authorIds":["gqDaZjCfevOOxBYkK6zlhtZnXCg1","2OwwM8ToR9dx9RJ2sAKTcrLmCB92","OaVzVu7cuKhv5Qj0i3vRZYFttl72"],"dependencies":[],"eventsFunctions":[{"description":"Minimum X position of picked object instances (using AABB of objects).","fullName":"Minimum X position of picked object instances","functionType":"Expression","name":"MinX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// If the instances doesn't exist we exit this function, returnValue will be 0","if (objects.length == 0) return;","","let minX = objects[0].getAABB().min[0] || 0;","","objects.forEach((object) => {","","    let aabb = object.getAABB();","    ","    if (aabb.min[0] < minX) {","        minX = aabb.min[0];","    }","})","","eventsFunctionContext.returnValue = minX;"],"parameterObjects":"objects","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"expressionType":{"type":"expression"},"parameters":[{"description":"objects","name":"objects","type":"objectList"}],"objectGroups":[]},{"description":"Maximum X position of picked object instances (using AABB of objects).","fullName":"Maximum X position of picked object instances","functionType":"Expression","name":"MaxX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// If the instances doesn't exist we exit this function, returnValue will be 0","if (objects.length == 0) return;","","let minX = objects[0].getAABB().max[0] || 0;","","objects.forEach((object) => {","","    let aabb = object.getAABB();","    ","    if (aabb.max[0] > minX) {","        minX = aabb.max[0];","    }","})","","eventsFunctionContext.returnValue = minX;"],"parameterObjects":"objects","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"objects","name":"objects","type":"objectList"}],"objectGroups":[]},{"description":"Minimum Y position of picked object instances (using AABB of objects).","fullName":"Minimum Y position of picked object instances","functionType":"Expression","name":"MinY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// If the instances doesn't exist we exit this function, returnValue will be 0","if (objects.length == 0) return;","","let minX = objects[0].getAABB().min[1] || 0;","","objects.forEach((object) => {","","    let aabb = object.getAABB();","","    if (aabb.min[1] < minX) {","        minX = aabb.min[1];","    }","})","","eventsFunctionContext.returnValue = minX;"],"parameterObjects":"objects","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"objects","name":"objects","type":"objectList"}],"objectGroups":[]},{"description":"Maximum Y position of picked object instances (using AABB of objects).","fullName":"Maximum Y position of picked object instances","functionType":"Expression","name":"MaxY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// If the instances doesn't exist we exit this function, returnValue will be 0","if (objects.length == 0) return;","","let minX = objects[0].getAABB().max[1] || 0;","","objects.forEach((object) => {","","    let aabb = object.getAABB();","    ","    if (aabb.max[1] > minX) {","        minX = aabb.max[1];","    }","})","","eventsFunctionContext.returnValue = minX;"],"parameterObjects":"objects","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"objects","name":"objects","type":"objectList"}],"objectGroups":[]},{"description":"Minimum Z order of picked object instances.","fullName":"Minimum Z order of picked object instances","functionType":"Expression","name":"MinZOrder","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Save the value of any instance"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MinZOrder","=","Object.ZOrder()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and record the smallest value"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Plan"},"parameters":["Object","<","Variable(__ValuesOfObjects.MinZOrder)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MinZOrder","=","Object.ZOrder()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.MinZOrder)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"objects","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Maximum Z order of picked object instances.","fullName":"Maximum Z order of picked object instances","functionType":"Expression","name":"MaxZOrder","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Save the value of any instance"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MaxZOrder","=","Object.ZOrder()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and record the largest value"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Plan"},"parameters":["Object",">","Variable(__ValuesOfObjects.MaxZOrder)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MaxZOrder","=","Object.ZOrder()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.MaxZOrder)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"objects","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Average Z order of picked object instances.","fullName":"Average Z order of picked object instances","functionType":"Expression","name":"AverageZOrder","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset counter variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalZOrder","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and calculate a sum of their values"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalZOrder","+","Object.ZOrder()"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","+","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent dividing by 0"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Divide the the sum of positions by the number of objects to get the average position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","!=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.SubtotalZOrder)/Variable(__ValuesOfObjects.ObjectsCounted)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"objects","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"X center point (absolute) of picked object instances.","fullName":"X center point (absolute) of picked object instances ","functionType":"Expression","name":"AbsoluteCenterOfObjectsX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Return the midpoint between the min and max values"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["(ValuesOfMultipleObjects::MaxX(Object) + ValuesOfMultipleObjects::MinX(Object)) / 2"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","longDescription":"Objects that will be used to calculate their center point ","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Y center point (absolute) of picked object instances.","fullName":"Y center point (absolute) of picked object instances","functionType":"Expression","name":"AbsoluteCenterOfObjectsY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Return the midpoint between the min and max values"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["(ValuesOfMultipleObjects::MaxY(Object) + ValuesOfMultipleObjects::MinY(Object)) / 2"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","longDescription":"Objects that will be used to calculate their center point ","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"X center point (average) of picked object instances.","fullName":"X center point (average) of picked object instances ","functionType":"Expression","name":"AverageCenterOfObjectsX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset counter variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalX","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and calculate a sum of their position value "},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalX","+","Object.CenterX()"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","+","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent dividing by 0"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Divide the the sum of positions by the number of objects to get the average position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","!=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.SubtotalX)/Variable(__ValuesOfObjects.ObjectsCounted)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","longDescription":"Objects that will be used to calculate their center point ","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Y center point (average) of picked object instances.","fullName":"Y center point (average) of picked object instances","functionType":"Expression","name":"AverageCenterOfObjectsY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset counter variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalY","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and calculate a sum of their position value "},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalY","+","Object.CenterY()"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","+","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent dividing by 0"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Divide the the sum of positions by the number of objects to get the average position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","!=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.SubtotalY)/Variable(__ValuesOfObjects.ObjectsCounted)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","longDescription":"Objects that will be used to calculate their center point ","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Min object height of picked object instances.","fullName":"Min object height of picked object instances","functionType":"Expression","name":"MinHeight","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Save the value of any instance"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MinHeight","=","Object.Height()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and record the smallest value"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Height"},"parameters":["Object","<","Variable(__ValuesOfObjects.MinHeight)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MinHeight","=","Object.Height()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.MinHeight)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","supplementaryInformation":"Sprite","type":"objectList"}],"objectGroups":[]},{"description":"Max object height of picked object instances.","fullName":"Max object height of picked object instances","functionType":"Expression","name":"MaxHeight","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Save the value of any instance"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MaxHeight","=","Object.Height()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and record the largest value"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Height"},"parameters":["Object",">","Variable(__ValuesOfObjects.MaxHeight)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MaxHeight","=","Object.Height()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.MaxHeight)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","supplementaryInformation":"Sprite","type":"objectList"}],"objectGroups":[]},{"description":"Average height of picked object instances.","fullName":"Average height of picked object instances","functionType":"Expression","name":"AverageHeight","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset counter variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalHeight","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and calculate a sum of their values"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalHeight","+","Object.Height()"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","+","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent dividing by 0"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Divide the the sum of positions by the number of objects to get the average position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","!=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.SubtotalHeight)/Variable(__ValuesOfObjects.ObjectsCounted)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Min object width of picked object instances.","fullName":"Min object width of picked object instances","functionType":"Expression","name":"MinWidth","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Save the value of any instance"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MinWidth","=","Object.Width()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and record the smallest value"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Width"},"parameters":["Object","<","Variable(__ValuesOfObjects.MinWidth)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MinWidth","=","Object.Width()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.MinWidth)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","supplementaryInformation":"Sprite","type":"objectList"}],"objectGroups":[]},{"description":"Max object width of picked object instances.","fullName":"Max object width of picked object instances","functionType":"Expression","name":"MaxWidth","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Save the value of any instance"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MaxWidth","=","Object.Width()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and record the largest value"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Width"},"parameters":["Object",">","Variable(__ValuesOfObjects.MaxWidth)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.MaxWidth","=","Object.Width()"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.MaxWidth)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","supplementaryInformation":"Sprite","type":"objectList"}],"objectGroups":[]},{"description":"Average width of picked object instances.","fullName":"Average width of picked object instances","functionType":"Expression","name":"AverageWidth","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset counter variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalWidth","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and calculate a sum of their values"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalWidth","+","Object.Width()"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","+","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent dividing by 0"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Divide the the sum of positions by the number of objects to get the average position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","!=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.SubtotalWidth)/Variable(__ValuesOfObjects.ObjectsCounted)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Average horizontal force (X) of picked object instances.","fullName":"Average horizontal force (X) of picked object instances","functionType":"Expression","name":"AverageForceX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset counter variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalHorizontalForce","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and calculate a sum of their forces"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalHorizontalForce","+","Object.ForceX()"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","+","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent dividing by 0"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Divide the the sum of positions by the number of objects to get the average position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","!=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.SubtotalHorizontalForce)/Variable(__ValuesOfObjects.ObjectsCounted)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Average vertical force (Y) of picked object instances.","fullName":"Average vertical force (Y) of picked object instances","functionType":"Expression","name":"AverageForceY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset counter variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalVerticalForce","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and calculate a sum of their forces"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalVerticalForce","+","Object.ForceY()"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","+","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent dividing by 0"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Divide the the sum of positions by the number of objects to get the average position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","!=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.SubtotalVerticalForce)/Variable(__ValuesOfObjects.ObjectsCounted)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Average angle of rotation of picked object instances.","fullName":"Average angle of rotation of picked object instances","functionType":"Expression","name":"AverageAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset counter variables"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalAngle","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Cycle through units and calculate average angle"},{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Use negative values for angles between 180 and 360 "},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object",">","180"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalAngle","+","Object.Angle()-360"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Angle"},"parameters":["Object","<=","180"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.SubtotalAngle","+","Object.Angle()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","+","1"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent dividing by 0"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Divide the the sum of positions by the number of objects to get the average position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__ValuesOfObjects.ObjectsCounted","!=","0"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__ValuesOfObjects.SubtotalAngle)/Variable(__ValuesOfObjects.ObjectsCounted)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Objects","name":"Object","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"Advanced","extensionNamespace":"","fullName":"Object picking tools","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXNlbGVjdGlvbi1lbGxpcHNlLWFycm93LWluc2lkZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMS4yIDRDOS45NCA0LjEyIDguNzIgNC41MyA3LjY0IDUuMkw2LjY0IDMuNDdDNy45NSAyLjY0IDkuNDUgMi4xMyAxMSAyTTE3LjUzIDYuMjVDMTYuNjIgNS4zOSAxNS41MyA0LjczIDE0LjM0IDQuMzNMMTUgMi4zOUMxNi41IDIuODQgMTcuODkgMy42NiAxOSA0Ljc4TTUuMzQgNy40MUM0LjY0IDguNDQgNC4xOSA5LjYgNCAxMC44M0wyIDEwLjU1QzIuMiA5IDIuNzkgNy41IDMuNyA2LjIzTTIyIDEyVjEyLjY2TDIwIDEyLjVWMTJDMjAgMTAuOTIgMTkuODEgOS44NiAxOS4zOSA4Ljg2TDIxLjIyIDguMDZDMjEuNzUgOS4zMSAyMiAxMC42NSAyMiAxMk02IDE3LjNMNC41IDE4LjYxQzMuNDcgMTcuNDMgMi43MiAxNi4wNCAyLjMgMTQuNTNMNC4xNyAxNEM0LjUzIDE1LjIyIDUuMTYgMTYuMzUgNiAxNy4zTTEyLjE0IDIySDEyQzEwLjUgMjIgOSAyMS42OCA3LjY0IDIxLjA3TDguNTMgMTkuMjRDOS42MiAxOS43NSAxMC44IDIwIDEyIDIwSDEyLjE5TTE3IDIxSDE1VjE1SDIxVjE3SDE4LjQyTDIxLjE0IDE5Ljc2TDE5LjczIDIxLjE3TDE3IDE4LjUiIC8+PC9zdmc+","name":"ObjectPickingTools","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/selection-ellipse-arrow-inside.svg","shortDescription":"Adds various object picking related tools.","version":"2.1.0","description":["Adds various actions and conditions for advanced object selection. Includes picking objects with the highest or lowest zOrder, an object variable, and the ability to unpick all objects.","","Note: Version 2.0.0 changed Z-order picking to pick all instances with the highest/lowest Z-order. Version 1.x.x only picked one instance."],"origin":{"identifier":"ObjectPickingTools","name":"gdevelop-extension-store"},"tags":["object","picking","instance","pick","unpick","select","deselect"],"authorIds":["ZgrsWuRTAkXgeuPV9bo0zuEcA2w1","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"eventsFunctions":[{"description":"Unpicks all instances of an object.","fullName":"Unpick all instances","functionType":"Action","name":"UnpickAction","sentence":"Unpick all instances of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const lists = eventsFunctionContext.getObjectsLists(\"object\").items;","for (const listName in lists)","    lists[listName].length = 0;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object to unpick all instances from","name":"object","type":"objectList"}],"objectGroups":[]},{"description":"Unpicks all instances of an object.","fullName":"Unpick all instances","functionType":"Condition","name":"UnpickCondition","sentence":"Unpick all instances of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const lists = eventsFunctionContext.getObjectsLists(\"object\").items;","for (const listName in lists)","    lists[listName].length = 0;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"The object to unpick all instances from","name":"object","type":"objectList"}],"objectGroups":[]},{"description":"Pick object instances that have the lowest Z-order.","fullName":"Pick objects with lowest Z-order","functionType":"Action","name":"PickLowestZAction","sentence":"Pick _PARAM1_ with the lowest Z-order","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Create an empty array to hold the objects with the lowest value\r","let lowestValueObjects = [];\r","\r","// Initialize the lowest value to a very small number\r","let lowestValue = Infinity;\r","\r","// Get all instances of \"object\"\r","const lists = eventsFunctionContext.getObjectsLists(\"Object\").items;\r","\r","// Loop through each object to find the lowest value\r","for (const listName in lists) {\r","    for (const object of lists[listName]) {\r","        // Get the value of the variable\r","        const value = object.getZOrder();\r","        // Compare and update the lowest value\r","        if (value < lowestValue) {\r","            lowestValue = value;\r","            lowestValueObjects = [object]; // Reset the list to contain only this new lowest value object\r","        } else if (value === lowestValue) {\r","            lowestValueObjects.push(object); // If the value is equal to the current lowest, add it to the list\r","        }\r","    }\r","    // Remove all picked instances\r","    lists[listName].length = 0;\r","}\r","\r","// Pick all object instances with the lowest value\r","if (lowestValueObjects.length !== 0) {\r","    for (const object of lowestValueObjects) {\r","        lists[object.getName()].push(object);\r","    }\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object to select instances from","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Pick object instances that have the lowest Z-order.","fullName":"Pick objects with lowest Z-order","functionType":"Condition","name":"PickLowestZCondition","sentence":"Pick _PARAM1_ with the lowest Z-order","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Create an empty array to hold the objects with the lowest value\r","let lowestValueObjects = [];\r","\r","// Initialize the lowest value to a very small number\r","let lowestValue = Infinity;\r","\r","// Get all instances of \"object\"\r","const lists = eventsFunctionContext.getObjectsLists(\"Object\").items;\r","\r","// Loop through each object to find the lowest value\r","for (const listName in lists) {\r","    for (const object of lists[listName]) {\r","        // Get the value of the variable\r","        const value = object.getZOrder();\r","        // Compare and update the lowest value\r","        if (value < lowestValue) {\r","            lowestValue = value;\r","            lowestValueObjects = [object]; // Reset the list to contain only this new lowest value object\r","        } else if (value === lowestValue) {\r","            lowestValueObjects.push(object); // If the value is equal to the current lowest, add it to the list\r","        }\r","    }\r","    // Remove all picked instances\r","    lists[listName].length = 0;\r","}\r","\r","// Pick all object instances with the lowest value\r","if (lowestValueObjects.length !== 0) {\r","    for (const object of lowestValueObjects) {\r","        lists[object.getName()].push(object);\r","    }\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object to select instances from","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Pick object instances that have the highest Z-order.","fullName":"Pick objects with highest Z-order","functionType":"Action","name":"PickHighestZAction","sentence":"Pick _PARAM1_ with the highest Z-order","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Create an empty array to hold the objects with the highest value\r","let highestValueObjects = [];\r","\r","// Initialize the highest value to a very small number\r","let highestValue = -Infinity;\r","\r","// Get all instances of \"object\"\r","const lists = eventsFunctionContext.getObjectsLists(\"Object\").items;\r","\r","// Loop through each object to find the highest value\r","for (const listName in lists) {\r","    for (const object of lists[listName]) {\r","        // Get the value of the variable\r","        const value = object.getZOrder();\r","        // Compare and update the highest value\r","        if (value > highestValue) {\r","            highestValue = value;\r","            highestValueObjects = [object]; // Reset the list to contain only this new highest value object\r","        } else if (value === highestValue) {\r","            highestValueObjects.push(object); // If the value is equal to the current highest, add it to the list\r","        }\r","    }\r","    // Remove all picked instances\r","    lists[listName].length = 0;\r","}\r","\r","// Pick all object instances with the highest value\r","if (highestValueObjects.length !== 0) {\r","    for (const object of highestValueObjects) {\r","        lists[object.getName()].push(object);\r","    }\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"parameters":[{"description":"Object to select instances from","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Pick object instances that have the highest Z-order.","fullName":"Pick objects with highest Z-order","functionType":"Condition","name":"PickHighestZCondition","sentence":"Pick _PARAM1_ with the highest Z-order","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Create an empty array to hold the objects with the highest value\r","let highestValueObjects = [];\r","\r","// Initialize the highest value to a very small number\r","let highestValue = -Infinity;\r","\r","// Get all instances of \"object\"\r","const lists = eventsFunctionContext.getObjectsLists(\"Object\").items;\r","\r","// Loop through each object to find the highest value\r","for (const listName in lists) {\r","    for (const object of lists[listName]) {\r","        // Get the value of the variable\r","        const value = object.getZOrder();\r","        // Compare and update the highest value\r","        if (value > highestValue) {\r","            highestValue = value;\r","            highestValueObjects = [object]; // Reset the list to contain only this new highest value object\r","        } else if (value === highestValue) {\r","            highestValueObjects.push(object); // If the value is equal to the current highest, add it to the list\r","        }\r","    }\r","    // Remove all picked instances\r","    lists[listName].length = 0;\r","}\r","\r","// Pick all object instances with the highest value\r","if (highestValueObjects.length !== 0) {\r","    for (const object of highestValueObjects) {\r","        lists[object.getName()].push(object);\r","    }\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object to select instances from","name":"Object","type":"objectList"}],"objectGroups":[]},{"description":"Pick object instances that have the lowest value of an object variable.","fullName":"Pick objects with lowest variable value","functionType":"Action","name":"PickLowestVariableValueAction","sentence":"Pick _PARAM1_ with the lowest value of variable _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Create an empty array to hold the objects with the lowest variable value\r","let lowestValueObjects = [];\r","\r","// Initialize the lowest value to a very small number\r","let lowestValue = Infinity;\r","\r","// Get all instances of \"object\"\r","const lists = eventsFunctionContext.getObjectsLists(\"Object\").items;\r","\r","// Store the variable name\r","const objectVariableName = eventsFunctionContext.getArgument(\"ObjectVariableName\");\r","\r","// Loop through each object to find the lowest value\r","for (const listName in lists) {\r","    for (const object of lists[listName]) {\r","        // Get the value of the variable\r","        const value = object.getVariables().get(objectVariableName).getAsNumber();\r","        // Compare and update the lowest value\r","        if (value < lowestValue) {\r","            lowestValue = value;\r","            lowestValueObjects = [object]; // Reset the list to contain only this new lowest value object\r","        } else if (value === lowestValue) {\r","            lowestValueObjects.push(object); // If the value is equal to the current lowest, add it to the list\r","        }\r","    }\r","    // Remove all picked instances\r","    lists[listName].length = 0;\r","}\r","\r","// Pick all object instances with the lowest value\r","if (lowestValueObjects.length !== 0) {\r","    for (const object of lowestValueObjects) {\r","        lists[object.getName()].push(object);\r","    }\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"parameters":[{"description":"Object to select instances from","name":"Object","type":"objectList"},{"description":"Object variable name","name":"ObjectVariableName","type":"string"}],"objectGroups":[]},{"description":"Pick object instances that have the lowest value of an object variable.","fullName":"Pick objects with lowest variable value","functionType":"Condition","name":"PickLowestVariableValueCondition","sentence":"Pick _PARAM1_ with the lowest value of variable _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Create an empty array to hold the objects with the lowest variable value\r","let lowestValueObjects = [];\r","\r","// Initialize the lowest value to a very small number\r","let lowestValue = Infinity;\r","\r","// Get all instances of \"object\"\r","const lists = eventsFunctionContext.getObjectsLists(\"Object\").items;\r","\r","// Store the variable name\r","const objectVariableName = eventsFunctionContext.getArgument(\"ObjectVariableName\");\r","\r","// Loop through each object to find the lowest value\r","for (const listName in lists) {\r","    for (const object of lists[listName]) {\r","        // Get the value of the variable\r","        const value = object.getVariables().get(objectVariableName).getAsNumber();\r","        // Compare and update the lowest value\r","        if (value < lowestValue) {\r","            lowestValue = value;\r","            lowestValueObjects = [object]; // Reset the list to contain only this new lowest value object\r","        } else if (value === lowestValue) {\r","            lowestValueObjects.push(object); // If the value is equal to the current lowest, add it to the list\r","        }\r","    }\r","    // Remove all picked instances\r","    lists[listName].length = 0;\r","}\r","\r","// Pick all object instances with the lowest value\r","if (lowestValueObjects.length !== 0) {\r","    for (const object of lowestValueObjects) {\r","        lists[object.getName()].push(object);\r","    }\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object to select instances from","name":"Object","type":"objectList"},{"description":"Object variable name","name":"ObjectVariableName","type":"string"}],"objectGroups":[]},{"description":"Pick object instances that have the highest value of an object variable.","fullName":"Pick objects with highest variable value","functionType":"Action","name":"PickHighestVariableValueAction","sentence":"Pick _PARAM1_ with the highest value of variable _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Create an empty array to hold the objects with the highest variable value\r","let highestValueObjects = [];\r","\r","// Initialize the highest value to a very small number\r","let highestValue = -Infinity;\r","\r","// Get all instances of \"object\"\r","const lists = eventsFunctionContext.getObjectsLists(\"Object\").items;\r","\r","// Store the variable name\r","const objectVariableName = eventsFunctionContext.getArgument(\"ObjectVariableName\");\r","\r","// Loop through each object to find the highest value\r","for (const listName in lists) {\r","    for (const object of lists[listName]) {\r","        // Get the value of the variable\r","        const value = object.getVariables().get(objectVariableName).getAsNumber();\r","        // Compare and update the highest value\r","        if (value > highestValue) {\r","            highestValue = value;\r","            highestValueObjects = [object]; // Reset the list to contain only this new highest value object\r","        } else if (value === highestValue) {\r","            highestValueObjects.push(object); // If the value is equal to the current highest, add it to the list\r","        }\r","    }\r","    // Remove all picked instances\r","    lists[listName].length = 0;\r","}\r","\r","// Pick all object instances with the highest value\r","if (highestValueObjects.length !== 0) {\r","    for (const object of highestValueObjects) {\r","        lists[object.getName()].push(object);\r","    }\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]}],"parameters":[{"description":"Object to select instances from","name":"Object","type":"objectList"},{"description":"Object variable name","name":"ObjectVariableName","type":"string"}],"objectGroups":[]},{"description":"Pick object instances that have the highest value of an object variable.","fullName":"Pick objects with highest variable value","functionType":"Condition","name":"PickHighestVariableValueCondition","sentence":"Pick _PARAM1_ with the highest value of variable _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["// Create an empty array to hold the objects with the highest variable value\r","let highestValueObjects = [];\r","\r","// Initialize the highest value to a very small number\r","let highestValue = -Infinity;\r","\r","// Get all instances of \"object\"\r","const lists = eventsFunctionContext.getObjectsLists(\"Object\").items;\r","\r","// Store the variable name\r","const objectVariableName = eventsFunctionContext.getArgument(\"ObjectVariableName\");\r","\r","// Loop through each object to find the highest value\r","for (const listName in lists) {\r","    for (const object of lists[listName]) {\r","        // Get the value of the variable\r","        const value = object.getVariables().get(objectVariableName).getAsNumber();\r","        // Compare and update the highest value\r","        if (value > highestValue) {\r","            highestValue = value;\r","            highestValueObjects = [object]; // Reset the list to contain only this new highest value object\r","        } else if (value === highestValue) {\r","            highestValueObjects.push(object); // If the value is equal to the current highest, add it to the list\r","        }\r","    }\r","    // Remove all picked instances\r","    lists[listName].length = 0;\r","}\r","\r","// Pick all object instances with the highest value\r","if (highestValueObjects.length !== 0) {\r","    for (const object of highestValueObjects) {\r","        lists[object.getName()].push(object);\r","    }\r","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object to select instances from","name":"Object","type":"objectList"},{"description":"Object variable name","name":"ObjectVariableName","type":"string"}],"objectGroups":[]},{"description":"Picks the first instance out of a list of objects.","fullName":"Pick the first object (deprecated)","functionType":"Action","name":"PickFirstAction","private":true,"sentence":"Pick the first _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const lists = eventsFunctionContext.getObjectsLists(\"object\").items;\r","\r","for (const listName in lists) {\r","    const list = lists[listName];\r","    // TODO The 1st object in the list won't necessarily be the oldest one.\r","    // For instance, a collision condition that uses a spatial structure may change the order.\r","    if (list.length > 1) {\r","        list.length = 1;\r","    }\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object to select an instances from","name":"object","type":"objectList"}],"objectGroups":[]},{"description":"Picks the first instance out of a list of objects.","fullName":"Pick the first object (deprecated)","functionType":"Condition","name":"PickFirstCondition","private":true,"sentence":"Pick the first _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const lists = eventsFunctionContext.getObjectsLists(\"object\").items;\r","\r","for (const listName in lists) {\r","    const list = lists[listName];\r","    // TODO The 1st object in the list won't necessarily be the oldest one.\r","    // For instance, a collision condition that uses a spatial structure may change the order.\r","    if (list.length > 1) {\r","        list.length = 1;\r","    }\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"The object to select an instances from","name":"object","type":"objectList"}],"objectGroups":[]},{"description":"Picks the last instance out of a list of objects.","fullName":"Pick the last object (deprecated)","functionType":"Action","name":"PickLastAction","private":true,"sentence":"Pick the last _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const lists = eventsFunctionContext.getObjectsLists(\"object\").items;\r","\r","for (const listName in lists) {\r","    const list = lists[listName];\r","    // TODO The last object in the list won't necessarily be the newest one.\r","    // For instance, a collision condition that uses a spatial structure may change the order.\r","    if (list.length > 1) {\r","        list[0] = list[list.length - 1];\r","        list.length = 1;\r","    }\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object to select an instances from","name":"object","type":"objectList"}],"objectGroups":[]},{"description":"Picks the last instance out of a list of objects.","fullName":"Pick the last object (deprecated)","functionType":"Condition","name":"PickLastCondition","private":true,"sentence":"Pick the last _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const lists = eventsFunctionContext.getObjectsLists(\"object\").items;\r","\r","for (const listName in lists) {\r","    const list = lists[listName];\r","    // TODO The last object in the list won't necessarily be the newest one.\r","    // For instance, a collision condition that uses a spatial structure may change the order.\r","    if (list.length > 1) {\r","        list[0] = list[list.length - 1];\r","        list.length = 1;\r","    }\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"The object to select an instances from","name":"object","type":"objectList"}],"objectGroups":[]},{"description":"Picks the Nth instance out of a list of objects.","fullName":"Pick the Nth object (deprecated)","functionType":"Action","name":"PickNthAction","private":true,"sentence":"Pick the _PARAM2_th _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const lists = eventsFunctionContext.getObjectsLists(\"object\").items;\r","const n = eventsFunctionContext.getArgument(\"n\");\r","\r","for (const listName in lists) {\r","    const list = lists[listName];\r","    // TODO Objects from the list won't necessarily be the order they were created.\r","    // For instance, a collision condition that uses a spatial structure may change the order.\r","    if (n < list.length) {\r","        list[0] = list[n];\r","        list.length = 1;\r","    }\r","    else {\r","        list.length = 0;\r","    }\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The object to select an instances from","name":"object","type":"objectList"},{"description":"The place in the objects lists an instance has to have to be picked","name":"n","type":"expression"}],"objectGroups":[]},{"description":"Picks the Nth instance out of a list of objects.","fullName":"Pick the Nth object (deprecated)","functionType":"Condition","name":"PickNthCondition","private":true,"sentence":"Pick the _PARAM2_th _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const lists = eventsFunctionContext.getObjectsLists(\"object\").items;\r","const n = eventsFunctionContext.getArgument(\"n\");\r","\r","for (const listName in lists) {\r","    const list = lists[listName];\r","    // TODO Objects from the list won't necessarily be the order they were created.\r","    // For instance, a collision condition that uses a spatial structure may change the order.\r","    if (n < list.length) {\r","        list[0] = list[n];\r","        list.length = 1;\r","    }\r","    else {\r","        list.length = 0;\r","    }\r","}\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"The object to select an instances from","name":"object","type":"objectList"},{"description":"The place in the objects lists an instance has to have to be picked","name":"n","type":"expression"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"D8H","category":"Game mechanic","extensionNamespace":"","fullName":"Linked Objects Tools","helpPath":"/all-features/extensions/linked-objects-tools","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWdyYXBoLW91dGxpbmUiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxN0MxOS4zNiAxNyAxOS4yNCAxNyAxOS4xMSAxNy4wNEwxNy41IDEzLjhDMTcuOTUgMTMuMzUgMTguMjUgMTIuNzEgMTguMjUgMTJDMTguMjUgMTAuNjIgMTcuMTMgOS41IDE1Ljc1IDkuNUMxNS42MSA5LjUgMTUuNSA5LjUgMTUuMzUgOS41NEwxMy43NCA2LjNDMTQuMjEgNS44NCAxNC41IDUuMjEgMTQuNSA0LjVDMTQuNSAzLjEyIDEzLjM4IDIgMTIgMlM5LjUgMy4xMiA5LjUgNC41QzkuNSA1LjIgOS43OSA1Ljg0IDEwLjI2IDYuMjlMOC42NSA5LjU0QzguNSA5LjUgOC4zOSA5LjUgOC4yNSA5LjVDNi44NyA5LjUgNS43NSAxMC42MiA1Ljc1IDEyQzUuNzUgMTIuNzEgNi4wNCAxMy4zNCA2LjUgMTMuNzlMNC44OSAxNy4wNEM0Ljc2IDE3IDQuNjQgMTcgNC41IDE3QzMuMTIgMTcgMiAxOC4xMiAyIDE5LjVDMiAyMC44OCAzLjEyIDIyIDQuNSAyMlM3IDIwLjg4IDcgMTkuNUM3IDE4LjggNi43MSAxOC4xNiA2LjI0IDE3LjcxTDcuODYgMTQuNDZDOCAxNC41IDguMTIgMTQuNSA4LjI1IDE0LjVDOC4zOCAxNC41IDguNSAxNC41IDguNjMgMTQuNDZMMTAuMjYgMTcuNzFDOS43OSAxOC4xNiA5LjUgMTguOCA5LjUgMTkuNUM5LjUgMjAuODggMTAuNjIgMjIgMTIgMjJTMTQuNSAyMC44OCAxNC41IDE5LjVDMTQuNSAxOC4xMiAxMy4zOCAxNyAxMiAxN0MxMS44NyAxNyAxMS43NCAxNyAxMS42MSAxNy4wNEwxMCAxMy44QzEwLjQ1IDEzLjM1IDEwLjc1IDEyLjcxIDEwLjc1IDEyQzEwLjc1IDExLjMgMTAuNDYgMTAuNjcgMTAgMTAuMjFMMTEuNjEgNi45NkMxMS43NCA3IDExLjg3IDcgMTIgN0MxMi4xMyA3IDEyLjI2IDcgMTIuMzkgNi45NkwxNCAxMC4yMUMxMy41NCAxMC42NiAxMy4yNSAxMS4zIDEzLjI1IDEyQzEzLjI1IDEzLjM4IDE0LjM3IDE0LjUgMTUuNzUgMTQuNUMxNS44OCAxNC41IDE2IDE0LjUgMTYuMTMgMTQuNDZMMTcuNzYgMTcuNzFDMTcuMjkgMTguMTYgMTcgMTguOCAxNyAxOS41QzE3IDIwLjg4IDE4LjEyIDIyIDE5LjUgMjJTMjIgMjAuODggMjIgMTkuNUMyMiAxOC4xMiAyMC44OCAxNyAxOS41IDE3TTQuNSAyMC41QzMuOTUgMjAuNSAzLjUgMjAuMDUgMy41IDE5LjVTMy45NSAxOC41IDQuNSAxOC41IDUuNSAxOC45NSA1LjUgMTkuNSA1LjA1IDIwLjUgNC41IDIwLjVNMTMgMTkuNUMxMyAyMC4wNSAxMi41NSAyMC41IDEyIDIwLjVTMTEgMjAuMDUgMTEgMTkuNSAxMS40NSAxOC41IDEyIDE4LjUgMTMgMTguOTUgMTMgMTkuNU03LjI1IDEyQzcuMjUgMTEuNDUgNy43IDExIDguMjUgMTFTOS4yNSAxMS40NSA5LjI1IDEyIDguOCAxMyA4LjI1IDEzIDcuMjUgMTIuNTUgNy4yNSAxMk0xMSA0LjVDMTEgMy45NSAxMS40NSAzLjUgMTIgMy41UzEzIDMuOTUgMTMgNC41IDEyLjU1IDUuNSAxMiA1LjUgMTEgNS4wNSAxMSA0LjVNMTQuNzUgMTJDMTQuNzUgMTEuNDUgMTUuMiAxMSAxNS43NSAxMVMxNi43NSAxMS40NSAxNi43NSAxMiAxNi4zIDEzIDE1Ljc1IDEzIDE0Ljc1IDEyLjU1IDE0Ljc1IDEyTTE5LjUgMjAuNUMxOC45NSAyMC41IDE4LjUgMjAuMDUgMTguNSAxOS41UzE4Ljk1IDE4LjUgMTkuNSAxOC41IDIwLjUgMTguOTUgMjAuNSAxOS41IDIwLjA1IDIwLjUgMTkuNSAyMC41WiIgLz48L3N2Zz4=","name":"LinkTools","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/graph-outline.svg","shortDescription":"Conditions to use Linked Objects as a graph and a path finding movement behavior.","version":"1.2.3","description":["This provides:","* \"Can reach through links\" conditions, useful to check if an object is linked to another through one or more other linked objects.","* a path finding movement behavior that uses objects links (instead of obstacles for the other behavior)","","For instance, it can be helpful for grid-based games like:","* Match-3 ([open the project online](https://editor.gdevelop.io/?project=example://bim-bam))","* Tactical ([open the project online](https://editor.gdevelop.io/?project=example://tactical-game-grid-movement))","* City builders ([open the project online](https://editor.gdevelop.io/?project=example://city-builder))","* Point and click (bypass obstacles with a predetermined polygonal chain)"],"origin":{"identifier":"LinkTools","name":"gdevelop-extension-store"},"tags":["link","graph","path","match","tactical","city","movement"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Link to neighbors on a rectangular grid.","fullName":"Link to neighbors on a rectangular grid","functionType":"Action","group":"Objects","name":"LinkRectangularNeighbors","sentence":"Link _PARAM1_ and its neighbors _PARAM2_  on a rectangular grid with cell dimensions: _PARAM3_; _PARAM4_","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y()"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X()","Object.Y() + GetArgumentAsNumber(\"CellHeight\")"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y()"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X()","Object.Y() - GetArgumentAsNumber(\"CellHeight\")"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"AllowsDiagonals\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y() + GetArgumentAsNumber(\"CellHeight\")"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y() + GetArgumentAsNumber(\"CellHeight\")"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y() - GetArgumentAsNumber(\"CellHeight\")"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y() - GetArgumentAsNumber(\"CellHeight\")"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"Neighbor","longDescription":"The 2 objects can't be the same.","name":"Neighbor","type":"objectList"},{"description":"Cell width","name":"CellWidth","type":"expression"},{"description":"Cell height","name":"CellHeight","type":"expression"},{"description":"Allows diagonals","name":"AllowsDiagonals","type":"yesorno"}],"objectGroups":[]},{"description":"Link to neighbors on a hexagonal grid.","fullName":"Link to neighbors on a hexagonal grid","functionType":"Action","group":"Objects","name":"LinkHexagonalNeighbors","sentence":"Link _PARAM1_ and its neighbors _PARAM2_  on a hexagonal grid with cell dimensions: _PARAM3_; _PARAM4_","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y()"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() + GetArgumentAsNumber(\"CellHeight\") * 3/4"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() + GetArgumentAsNumber(\"CellHeight\") * 3/4"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y()"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() - GetArgumentAsNumber(\"CellHeight\") * 3/4"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() - GetArgumentAsNumber(\"CellHeight\") * 3/4"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"Neighbor","longDescription":"The 2 objects can't be the same.","name":"Neighbor","type":"objectList"},{"description":"Cell width","name":"CellWidth","type":"expression"},{"description":"Cell height","name":"CellHeight","type":"expression"}],"objectGroups":[]},{"description":"Link to neighbors on an isometric grid.","fullName":"Link to neighbors on an isometric grid","functionType":"Action","group":"Objects","name":"LinkIsometricRectangularNeighbors","sentence":"Link _PARAM1_ and its neighbors _PARAM2_  on an isometric grid with cell dimensions: _PARAM3_; _PARAM4_","events":[{"type":"BuiltinCommonInstructions::ForEach","object":"Object","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() + GetArgumentAsNumber(\"CellHeight\") / 2"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() + GetArgumentAsNumber(\"CellHeight\") / 2"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() - GetArgumentAsNumber(\"CellHeight\") / 2"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2","Object.Y() - GetArgumentAsNumber(\"CellHeight\") / 2"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"AllowsDiagonals\""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() + GetArgumentAsNumber(\"CellWidth\")","Object.Y()"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X()","Object.Y() + GetArgumentAsNumber(\"CellHeight\")"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X() - GetArgumentAsNumber(\"CellWidth\")","Object.Y()"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Neighbor","Object.X()","Object.Y() - GetArgumentAsNumber(\"CellHeight\")"]}],"actions":[{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","Object","Neighbor"]}]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"Neighbor","longDescription":"The 2 objects can't be the same.","name":"Neighbor","type":"objectList"},{"description":"Cell width","name":"CellWidth","type":"expression"},{"description":"Cell height","name":"CellHeight","type":"expression"},{"description":"Allows diagonals","name":"AllowsDiagonals","type":"yesorno"}],"objectGroups":[]},{"description":"Can reach through a given cost sum.","fullName":"Can reach with links limited by cost","functionType":"Condition","group":"Objects","name":"CanReachWithMaxWeight","sentence":"Take into account all \"_PARAM1_\" that can reach _PARAM2_ with initial value from the variable _PARAM3_ through at most a cost of: _PARAM4_ according to cost class: _PARAM5_ and at most _PARAM6_ links depth","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/**"," * Insert a node in an array sorted by farest 1st"," * @param {gdjs.RuntimeObject[]} objects"," * @param {gdjs.RuntimeObject} object"," */","const insertOpenNode = function (objects, object)","{","    let leftIndex = 0;","    let rightIndex = objects.length;","    while (leftIndex < rightIndex)","    {","        const medianIndex = Math.floor((leftIndex + rightIndex) / 2)","        if (objects[medianIndex].linktoolsWeightSum < object.linktoolsWeightSum","         || objects[medianIndex].linktoolsWeightSum === object.linktoolsWeightSum","         && objects[medianIndex].linktoolsDepth < object.linktoolsDepth)","            rightIndex = medianIndex;","        else","            leftIndex = medianIndex + 1;","    }","    objects.splice(rightIndex, 0, object);","};","","let pickedSomething = false;","const pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");","const targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");","/** @type {string} */","const initialLengthVariableName = eventsFunctionContext.getArgument(\"InitialLengthVariable\");","/** @type {number} */","const maxWeight = eventsFunctionContext.getArgument(\"MaxWeight\");","/** @type {string} */","const costClass = eventsFunctionContext.getArgument(\"CostClass\");","const skipFirstCost = eventsFunctionContext.getArgument(\"SkipFirstWeight\") === true;","/** @type {number} */","const maxDepth = eventsFunctionContext.getArgument(\"MaxDepth\");","","/** @type {gdjs.LinksManager} */","const manager = gdjs.LinksManager.getManager(runtimeScene);","for (const targetObject of targetObjects)","{","    targetObject.linktoolsDepth = 0;","    if (initialLengthVariableName === \"\")","    {","        targetObject.linktoolsWeightSum = 0;","    }","    else","    {","        targetObject.linktoolsWeightSum = targetObject.getVariableNumber(targetObject.getVariables().get(initialLengthVariableName));","    }","}","for (const pickedObject of pickedObjects)","{","    pickedObject.pick = false;","}","// mark every instance that can be reached through links","// openObjects is the new discovered instances where links must be checked","let openObjects;","openObjects = targetObjects.slice();","if (initialLengthVariableName !== \"\")","{","    // nearest last because pop is o(1)","    openObjects.sort","    (","        function (a, b)","        {","            return b.linktoolsWeightSum - a.linktoolsWeightSum;","        }","    );","}","while (openObjects.length !== 0)","{","    const object = openObjects.pop();","    const linktoolsWeightSum = object.linktoolsWeightSum;","    /** @type {Array<gdjs.RuntimeObject>} */","    const linkedObjects = manager.getObjectsLinkedWith(object);","    for (const linkedObject of linkedObjects)","    {","        // don't check one instance twice","        // and it must be in the set given by the caller","        if (!linkedObject.pick && pickedObjects.includes(linkedObject) && object.linktoolsDepth < maxDepth)","        {","            let newWeightSum = 0;","            if (costClass.length === 0)","            {","                newWeightSum = linktoolsWeightSum + 1;","            }","            else","            {","                const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");","                if (costVariable.hasChild(costClass))","                {","                    const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));","                    newWeightSum = linktoolsWeightSum + cost;","                }","                else {","                    newWeightSum = maxWeight + 1;","                }","            }","            if (newWeightSum <= maxWeight)","            {","                if (object.linktoolsDepth === 0 && skipFirstCost)","                {","                    linkedObject.linktoolsWeightSum = linktoolsWeightSum;","                }","                else","                {","                    linkedObject.linktoolsWeightSum = newWeightSum;","                }","                linkedObject.pick = true;","                pickedSomething = true;","                linkedObject.linktoolsDepth = object.linktoolsDepth + 1;","                insertOpenNode(openObjects, linkedObject);","            }","        }","    }","}","// filter the instances to only keep the one marked with the pick attribute","const pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");","/** @type {Array<String>} */","const objectNames = [];","pickedObjectsLists.keys(objectNames);","for (const objectName of objectNames)","{","    const pickedObjectsList = pickedObjectsLists.get(objectName);","    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);","}","for (const pickedObject of pickedObjects)","{","    pickedObject.pick = false;","}","eventsFunctionContext.returnValue = pickedSomething;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Pick these objects...","name":"PickedObject","type":"objectList"},{"description":"if they can reach this object","name":"TargetObject","type":"objectList"},{"description":"Initial length variable","longDescription":"Start to 0 if left empty","name":"InitialLengthVariable","type":"string"},{"description":"Maximum cost","name":"MaxWeight","type":"expression"},{"description":"Cost class","longDescription":"Leave empty to make everything crossable with cost = 1. It looks in the variable children of linktools_Cost. No child means not crossable, the cost must be positive.","name":"CostClass","type":"string"},{"description":"Maximum depth","name":"MaxDepth","type":"expression"},{"description":"Ignore first node cost","name":"SkipFirstWeight","type":"yesorno"}],"objectGroups":[]},{"description":"Can reach through a given number of links.","fullName":"Can reach with links limited by length","functionType":"Condition","group":"Objects","name":"CanReachWithMaxLength","sentence":"Take into account all \"_PARAM1_\" that can reach _PARAM2_ through at most _PARAM3_ links according to cost class: _PARAM4_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["let pickedSomething = false;","const pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");","const targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");","/** @type {number} */","const maxLinkLength = eventsFunctionContext.getArgument(\"MaxLinkLength\");","/** @type {string} */","const costClass = eventsFunctionContext.getArgument(\"CostClass\");","/** @type {gdjs.LinksManager} */","const manager = gdjs.LinksManager.getManager(runtimeScene);","for (const targetObject of targetObjects)","{","    targetObject.linktoolsWeightSum = 0;","}","for (const pickedObject of pickedObjects)","{","    pickedObject.pick = false;","}","// mark every instance that can be reached through links","// openObjects is the new discovered instances where links must be checked","let openObjects = [];","let swapOpenObjects = [];","let nextOpenObjects = targetObjects.slice();","while (nextOpenObjects.length !== 0)","{","    swapOpenObjects = openObjects;","    openObjects = nextOpenObjects;","    nextOpenObjects = swapOpenObjects;","    nextOpenObjects.length = 0;","    while (openObjects.length !== 0)","    {","        const object = openObjects.pop();","        /** @type {number} */","        const linktoolsWeightSum = object.linktoolsWeightSum;","        /** @type {Array<gdjs.RuntimeObject>} */","        const linkedObjects = manager.getObjectsLinkedWith(object);","        //console.log(\"linktoolsWeightSum: \" + linktoolsWeightSum);","        //console.log(\"linkedObjects: \" + linkedObjects.length);","        for (const linkedObject of linkedObjects)","        {","            // don't check one instance twice","            // and it must be in the set given by the caller","            if (!linkedObject.pick && pickedObjects.includes(linkedObject))","            {","                if (costClass === \"\")","                {","                    if (linktoolsWeightSum + 1 <= maxLinkLength)","                    {","                        linkedObject.pick = true;","                        pickedSomething = true;","                        linkedObject.linktoolsWeightSum = linktoolsWeightSum + 1;","                        nextOpenObjects.push(linkedObject);","                    }","                }","                else","                {","                    const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");","                    if (costVariable.hasChild(costClass))","                    {","                        const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));","                        if (cost === 0)","                        {","                            linkedObject.pick = true;","                            pickedSomething = true;","                            linkedObject.linktoolsWeightSum = linktoolsWeightSum;","                            openObjects.push(linkedObject);","                        }","                        else","                        {","                            if (linktoolsWeightSum + 1 <= maxLinkLength)","                            {","                                linkedObject.pick = true;","                                pickedSomething = true;","                                linkedObject.linktoolsWeightSum = linktoolsWeightSum + 1;","                                nextOpenObjects.push(linkedObject);","                            }","                        }","                    }","                }","            }","        }","    }","}","// filter the instances to only keep the one marked with the pick attribute","const pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");","/** @type {Array<String>} */","const objectNames = [];","pickedObjectsLists.keys(objectNames);","for (const objectName of objectNames)","{","    const pickedObjectsList = pickedObjectsLists.get(objectName);","    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);","}","for (const pickedObject of pickedObjects)","{","    pickedObject.pick = false;","}","eventsFunctionContext.returnValue = pickedSomething;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Pick these objects...","name":"PickedObject","type":"objectList"},{"description":"if they can reach this object","name":"TargetObject","type":"objectList"},{"description":"Maximum link length","name":"MaxLinkLength","type":"expression"},{"description":"Cost class","longDescription":"Leave empty to make everything crossable with cost = 1. It looks in the variable children of linktools_Cost. No child means not crossable, the cost can be 0 or 1.","name":"CostClass","type":"string"}],"objectGroups":[]},{"description":"Can reach through links.","fullName":"Can reach","functionType":"Condition","group":"Objects","name":"CanReach","sentence":"Take into account all \"_PARAM1_\" that can reach _PARAM2_ through links","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["let pickedSomething = false;","const pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");","const targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");","console.log(\"pickedObjects: \" + pickedObjects.length);","/** @type {gdjs.LinksManager} */","const manager = gdjs.LinksManager.getManager(runtimeScene);","for (const targetObject of targetObjects)","{","    targetObject.linktoolsWeightSum = 0;","}","for (const pickedObject of pickedObjects)","{","    pickedObject.pick = false;","}","// mark every instance that can be reached through links","// openObjects is the new discovered instances where links must be checked","let openObjects = [];","let swapOpenObjects = [];","let nextOpenObjects = targetObjects.slice();","let linkLength = 0;","while (nextOpenObjects.length !== 0)","{","    swapOpenObjects = openObjects;","    openObjects = nextOpenObjects;","    nextOpenObjects = swapOpenObjects;","    nextOpenObjects.length = 0;","    while (openObjects.length != 0)","    {","        const object = openObjects.pop();","        /** @type {Array<gdjs.RuntimeObject>} */","        const linkedObjects = manager.getObjectsLinkedWith(object);","        for (const linkedObject of linkedObjects)","        {","            // don't check one instance twice","            // and it must be in the set given by the caller","            if (!linkedObject.pick && pickedObjects.includes(linkedObject))","            {","                linkedObject.pick = true;","                pickedSomething = true;","                linkedObject.linktoolsWeightSum = linkLength + 1;","                nextOpenObjects.push(linkedObject);","            }","        }","    }","    linkLength++;","}","// filter the instances to only keep the one marked with the pick attribute","const pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");","/** @type {Array<String>} */","const objectNames = [];","pickedObjectsLists.keys(objectNames);","for (const objectName of objectNames)","{","    const pickedObjectsList = pickedObjectsLists.get(objectName);","    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);","}","for (const pickedObject of pickedObjects)","{","    pickedObject.pick = false;","}","eventsFunctionContext.returnValue = pickedSomething;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Pick these objects...","name":"PickedObject","type":"objectList"},{"description":"if they can reach this object","name":"TargetObject","type":"objectList"}],"objectGroups":[]},{"description":"Cost sum.","fullName":"Cost sum","functionType":"Expression","name":"CostSum","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = objects[0].linktoolsWeightSum;","parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"The object will move from one object instance to another according to how they are linked to one another to reach a targeted object.","fullName":"Link path finding","name":"LinkPathFinding","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move the object along the path"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkTools::LinkPathFinding::PropertyisOnPath"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"LinkTools::LinkPathFinding::SetPropertySpeed"},"parameters":["Object","Behavior","+","Object.Behavior::PropertyAcceleration() * TimeDelta()"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkTools::LinkPathFinding::PropertySpeed"},"parameters":["Object","Behavior",">","Object.Behavior::PropertySpeedMax()"]}],"actions":[{"type":{"value":"LinkTools::LinkPathFinding::SetPropertySpeed"},"parameters":["Object","Behavior","=","Object.Behavior::PropertySpeedMax()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyIsAtNode"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.SqDistanceToPosition(Object.Behavior::PropertyNextNodeX(), Object.Behavior::PropertyNextNodeY())","<=","Object.Behavior::PropertySpeed() * TimeDelta() * Object.Behavior::PropertySpeed() * TimeDelta()"]}],"actions":[{"type":{"value":"MettreXY"},"parameters":["Object","=","Object.Behavior::PropertyNextNodeX()","=","Object.Behavior::PropertyNextNodeY()"]},{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyIsAtNode"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"LinkTools::LinkPathFinding::SetNextNode"},"parameters":["Object","Behavior","Object.Behavior::PropertyNextNodeIndex() + 1",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"LinkTools::LinkPathFinding::PropertyIsAtNode"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"AddForceVersPos"},"parameters":["Object","Object.Behavior::PropertyNextNodeX()","Object.Behavior::PropertyNextNodeY()","Object.Behavior::PropertySpeed()",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkTools::LinkPathFinding::PropertyRotate"},"parameters":["Object","Behavior"]},{"type":{"value":"Angle"},"parameters":["Object","!=","Object.Behavior::PropertyNextNodeAngle()"]}],"actions":[{"type":{"value":"RotateTowardAngle"},"parameters":["Object","Object.Behavior::PropertyNextNodeAngle()","Object.Behavior::PropertyRotationSpeed()",""]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Move the object to a position.","fullName":"Move to a position","functionType":"Action","name":"MoveTo","sentence":"Move _PARAM0_ to _PARAM3_ passing by _PARAM2_ using cost class _PARAM4_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Search the path and set the result in the path variable.\nThis variable is use by doStepPreEvent to move the object along the path."},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/**"," * Insert a node in an array sorted by farest 1st"," * @param {gdjs.RuntimeObject[]} objects"," * @param {gdjs.RuntimeObject} object"," */","const insertOpenNode = function (objects, object)","{","    let leftIndex = 0;","    let rightIndex = objects.length;","    while (leftIndex < rightIndex)","    {","        const medianIndex = Math.floor((leftIndex + rightIndex) / 2)","        if (objects[medianIndex].linktoolsWeightSum < object.linktoolsWeightSum)","            rightIndex = medianIndex;","        else","            leftIndex = medianIndex + 1;","    }","    objects.splice(rightIndex, 0, object);","};","","const pickedObjects = eventsFunctionContext.getObjects(\"CrossableObject\");","const targetObjects = eventsFunctionContext.getObjects(\"DestinationObject\");","const costClass = eventsFunctionContext.getArgument(\"CostClass\").toString();","","for (const object of objects)","{","    let pickedSomething = false;","    /** @type {gdjs.LinksManager} */","    const manager = gdjs.LinksManager.getManager(runtimeScene);","    for (const pickedObject of pickedObjects)","    {","        pickedObject.pick = false;","    }","    // mark every instance that can be reached through links","    // openObjects is the new discovered instances where links must be checked","    let openObjects = targetObjects.slice();","    for (const openObject of openObjects)","    {","        openObject.linktoolsWeightSum = 0;","        openObject.linktoolsPreviousNode = null;","    }","    let objectFound = false;","    while (openObjects.length !== 0 && !objectFound)","    {","        const openObject = openObjects.pop();","        const linktoolsWeightSum = openObject.linktoolsWeightSum;","        /** @type {Array<gdjs.RuntimeObject>} */","        const linkedObjects = manager.getObjectsLinkedWith(openObject);","        for (const linkedObject of linkedObjects)","        {","            objectFound = linkedObject === object;","            // don't check one instance twice","            // and it must be in the set given by the caller","            if ((!linkedObject.pick && pickedObjects.includes(linkedObject)) || objectFound)","            {","                let isCrossable = objectFound;","                if (!objectFound)","                {","                    let newWeightSum = 0;","                    if (costClass.length === 0)","                    {","                        isCrossable = true;","                        newWeightSum = linktoolsWeightSum + 1;","                    }","                    else","                    {","                        const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");","                        isCrossable = costVariable.hasChild(costClass);","                        if (isCrossable)","                        {","                            const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));","                            newWeightSum = linktoolsWeightSum + cost;","                        }","                    }","                    if (isCrossable)","                    {","                        linkedObject.pick = true;","                        linkedObject.linktoolsWeightSum = newWeightSum;","                        insertOpenNode(openObjects, linkedObject);","                    }","                }","                if (isCrossable)","                {","                    linkedObject.linktoolsPreviousNode = openObject;","                    pickedSomething = true;","                }","            }","        }","    }","    ","    const variables = object.getVariables();","    let pathVariable;","    if (variables.has(\"__linktools_Path\"))","    {","        pathVariable = variables.get(\"__linktools_Path\");","    }","    else","    {","        pathVariable = new gdjs.Variable({type: \"structure\"})","        variables.add(\"__linktools_Path\", pathVariable);","    }","    pathVariable.clearChildren();","    if (objectFound)","    {","        // build the path in the path variable","        let pathObject = object;","        let index = 0;","        while (pathObject.linktoolsPreviousNode !== null)","        {","            const previousX = pathObject.getX();","            const previousY = pathObject.getY();","            pathObject = pathObject.linktoolsPreviousNode;","            if (pathObject.getX() !== previousX","             || pathObject.getY() !== previousY)","            {","                const positionVariable = new gdjs.Variable({type: \"structure\"});","                positionVariable.addChild(\"x\", new gdjs.Variable({value: pathObject.getX(), type: \"number\"}));","                positionVariable.addChild(\"y\", new gdjs.Variable({value: pathObject.getY(), type: \"number\"}));","                pathVariable.addChild(index, positionVariable);","","                index++;","            }","        }","    }","    for (const pickedObject of pickedObjects)","    {","        pickedObject.pick = false;","    }","    eventsFunctionContext.returnValue = objectFound;","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableChildExists"},"parameters":["Object","__linktools_Path","\"0\""]}],"actions":[{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyisOnPath"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"LinkTools::LinkPathFinding::SetPropertySpeed"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"LinkTools::LinkPathFinding::SetNextNode"},"parameters":["Object","Behavior","0","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"},{"description":"Crossable objects","name":"CrossableObject","type":"objectList"},{"description":"Destination objects","name":"DestinationObject","type":"objectList"},{"description":"Cost class","name":"CostClass","type":"string"}],"objectGroups":[]},{"description":"Check if the object position is the on a path node.","fullName":"Is at a node","functionType":"Condition","name":"HasReachedNode","sentence":"_PARAM0_  is at a node","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkTools::LinkPathFinding::PropertyIsAtNode"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Forget the path.","fullName":"Forget the path","functionType":"Action","name":"ForgetPath","sentence":"_PARAM0_ forgets the path","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyisOnPath"},"parameters":["Object","Behavior",""]},{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyIsAtNode"},"parameters":["Object","Behavior",""]},{"type":{"value":"ObjectVariableClearChildren"},"parameters":["Object","__linktools_Path"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Set next node index","fullName":"Set next node index","functionType":"Action","name":"SetNextNode","private":true,"sentence":"Set next node index of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyNextNodeIndex"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Index\")"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"No more nodes"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkTools::LinkPathFinding::PropertyNextNodeIndex"},"parameters":["Object","Behavior","=","Object.VariableChildCount(__linktools_Path) "]}],"actions":[{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyisOnPath"},"parameters":["Object","Behavior",""]},{"type":{"value":"LinkTools::LinkPathFinding::SetPropertySpeed"},"parameters":["Object","Behavior","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update the next target"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkTools::LinkPathFinding::PropertyNextNodeIndex"},"parameters":["Object","Behavior","<","Object.VariableChildCount(__linktools_Path) "]}],"actions":[{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyNextNodeX"},"parameters":["Object","Behavior","=","Object.Variable(__linktools_Path[Object.Behavior::PropertyNextNodeIndex()][\"x\"])"]},{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyNextNodeY"},"parameters":["Object","Behavior","=","Object.Variable(__linktools_Path[Object.Behavior::PropertyNextNodeIndex()][\"y\"])"]},{"type":{"value":"LinkTools::LinkPathFinding::SetPropertyNextNodeAngle"},"parameters":["Object","Behavior","=","mod(AngleBetweenPositions(Object.X(), Object.Y(), Object.Behavior::PropertyNextNodeX(), Object.Behavior::PropertyNextNodeY()) + Object.Behavior::PropertyAngleOffset(), 360)"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"},{"description":"Node index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Check if the object is moving.","fullName":"Is moving","functionType":"Condition","name":"IsMoving","sentence":"_PARAM0_ is moving","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkTools::LinkPathFinding::PropertyisOnPath"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Check if a path has been found.","fullName":"Path found","functionType":"Condition","name":"PathFound","sentence":"A path has been found for _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["Object.VariableChildCount(__linktools_Path)",">","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Check if the destination was reached.","fullName":"Destination reached","functionType":"Condition","name":"HasReachedDestination","sentence":"_PARAM0_ reached its destination","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"LinkTools::LinkPathFinding::HasReachedNode"},"parameters":["Object","Behavior",""]},{"type":{"value":"LinkTools::LinkPathFinding::PropertyNextNodeIndex"},"parameters":["Object","Behavior","=","Object.VariableChildCount(__linktools_Path)"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Speed of the object on the path.","fullName":"Speed","functionType":"Expression","name":"Speed","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertySpeed()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Get the number of waypoints on the path.","fullName":"Node count","functionType":"Expression","name":"NodeCount","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.VariableChildCount(__linktools_Path)"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Waypoint X position.","fullName":"Node X","functionType":"Expression","name":"NodeX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Variable(__linktools_Path[GetArgumentAsNumber(\"NodeIndex\")][\"x\"])"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"},{"description":"Waypoint index","name":"NodeIndex","type":"expression"}],"objectGroups":[]},{"description":"Waypoint X position.","fullName":"Node Y","functionType":"Expression","name":"NodeY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Variable(__linktools_Path[GetArgumentAsNumber(\"NodeIndex\")][\"y\"])"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"},{"description":"Waypoint index","name":"NodeIndex","type":"expression"}],"objectGroups":[]},{"description":"Next waypoint index.","fullName":"Next node index","functionType":"Expression","name":"NextNodeIndex","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyNextNodeIndex()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Next waypoint X position.","fullName":"Next node X","functionType":"Expression","name":"NextNodeX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyNextNodeX()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Next waypoint Y position.","fullName":"Next node Y","functionType":"Expression","name":"NextNodeY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyNextNodeY()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Destination X position.","fullName":"Destination X","functionType":"Expression","name":"DestinationX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Variable(__linktools_Path[Object.VariableChildCount(__linktools_Path) - 1][\"x\"])"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]},{"description":"Destination Y position.","fullName":"Destination Y","functionType":"Expression","name":"DestinationY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Variable(__linktools_Path[Object.VariableChildCount(__linktools_Path) - 1][\"y\"])"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinkTools::LinkPathFinding","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"400","type":"Number","label":"Acceleration","description":"","group":"","extraInformation":[],"name":"Acceleration"},{"value":"200","type":"Number","label":"Maximum Speed","description":"","group":"","extraInformation":[],"name":"SpeedMax"},{"value":"true","type":"Boolean","label":"Rotate object","description":"","group":"","extraInformation":[],"name":"Rotate"},{"value":"180","type":"Number","label":"Rotation speed","description":"","group":"","extraInformation":[],"name":"RotationSpeed"},{"value":"0","type":"Number","label":"Angle offset","description":"","group":"","extraInformation":[],"name":"AngleOffset"},{"value":"","type":"Boolean","label":"Is following a path","description":"","group":"","extraInformation":[],"hidden":true,"name":"isOnPath"},{"value":"","type":"Number","label":"Next node index","description":"","group":"","extraInformation":[],"hidden":true,"name":"NextNodeIndex"},{"value":"","type":"Number","label":"Next node X","description":"","group":"","extraInformation":[],"hidden":true,"name":"NextNodeX"},{"value":"","type":"Number","label":"Next node Y","description":"","group":"","extraInformation":[],"hidden":true,"name":"NextNodeY"},{"value":"","type":"Number","label":"Speed","description":"","group":"","extraInformation":[],"hidden":true,"name":"Speed"},{"value":"","type":"Boolean","label":"Is at a node","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsAtNode"},{"value":"","type":"Number","label":"Next node angle","description":"","group":"","extraInformation":[],"hidden":true,"name":"NextNodeAngle"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"User interface","extensionNamespace":"","fullName":"Panel sprite button","helpPath":"/objects/button","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI5LDIzSDNjLTEuMSwwLTItMC45LTItMlYxMWMwLTEuMSwwLjktMiwyLTJoMjZjMS4xLDAsMiwwLjksMiwydjEwQzMxLDIyLjEsMzAuMSwyMywyOSwyM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMywxOUwxMywxOWMtMS4xLDAtMi0wLjktMi0ydi0yYzAtMS4xLDAuOS0yLDItMmgwYzEuMSwwLDIsMC45LDIsMnYyQzE1LDE4LjEsMTQuMSwxOSwxMywxOXoiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIxOCIgeTE9IjEzIiB4Mj0iMTgiIHkyPSIxOSIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjIxIiB5MT0iMTMiIHgyPSIxOCIgeTI9IjE3Ii8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMjEiIHkxPSIxOSIgeDI9IjE5IiB5Mj0iMTYiLz4NCjwvc3ZnPg0K","name":"PanelSpriteButton","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Interface Elements/Interface Elements_interface_ui_button_ok_cta_clock_tap.svg","shortDescription":"A button that can be customized.","version":"1.4.4","description":["The button can be customized with a background for each state and a label. It handles user interactions and a simple condition can be used to check if it is clicked.","","There are ready-to-use buttons in the asset-store [menu buttons pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=menu-buttons-menu-buttons)."],"origin":{"identifier":"PanelSpriteButton","name":"gdevelop-extension-store"},"tags":["button","ui"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"The finite state machine used internally by the button object.","fullName":"Button finite state machine","name":"ButtonFSM","objectType":"","private":true,"eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Finite state machine","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The \"Validated\" state only last one frame."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Check position","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Make sure the cursor position is only checked once per frame."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyShouldCheckHovering"},"parameters":["Object","Behavior"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","MouseOnlyCursorX(Object.Layer(), 0)","MouseOnlyCursorY(Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyMouseIsInside"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Touches are always pressed, so ShouldCheckHovering doesn't matter."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyTouchId"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(Object.Behavior::PropertyTouchId(), Object.Layer(), 0)","TouchY(Object.Behavior::PropertyTouchId(), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch start","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasAnyTouchOrMouseStarted"},"parameters":[""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Repeat","repeatExpression":"StartedTouchOrMouseCount()","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CollisionPoint"},"parameters":["Object","TouchX(StartedTouchOrMouseId(Object.Behavior::PropertyIndex()), Object.Layer(), 0)","TouchY(StartedTouchOrMouseId(Object.Behavior::PropertyIndex()), Object.Layer(), 0)"]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","StartedTouchOrMouseId(Object.Behavior::PropertyIndex())"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchIsInside"},"parameters":["Object","Behavior","yes"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyIndex"},"parameters":["Object","Behavior","+","1"]}]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Apply position changes","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteButton::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyMouseIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteButton::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyTouchIsInside"},"parameters":["Object","Behavior"]},{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Handle touch end","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"HasTouchEnded"},"parameters":["","Object.Behavior::PropertyTouchId()"]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]},{"type":{"inverted":true,"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}]}]}],"parameters":[]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::ResetState"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Reset the state of the button.","fullName":"Reset state","functionType":"Action","name":"ResetState","private":true,"sentence":"Reset the button state of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]},{"type":{"value":"PanelSpriteButton::ButtonFSM::SetPropertyTouchId"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is not used.","fullName":"Is idle","functionType":"Condition","name":"IsIdle","sentence":"_PARAM0_ is idle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Idle\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button was just clicked.","fullName":"Is clicked","functionType":"Condition","name":"IsClicked","sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Validated\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the cursor is hovered over the button.","fullName":"Is hovered","functionType":"Condition","name":"IsHovered","sentence":"_PARAM0_ is hovered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is either hovered or pressed but not hovered.","fullName":"Is focused","functionType":"Condition","name":"IsFocused","sentence":"_PARAM0_ is focused","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"Hovered\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed with mouse or touch.","fullName":"Is pressed","functionType":"Condition","name":"IsPressed","sentence":"_PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedInside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed outside with mouse or touch.","fullName":"Is held outside","functionType":"Condition","name":"IsPressedOutside","sentence":"_PARAM0_ is held outside","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::PropertyState"},"parameters":["Object","Behavior","=","\"PressedOutside\""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]},{"description":"the touch id that is using the button or 0 if none.","fullName":"Touch id","functionType":"ExpressionAndCondition","name":"TouchId","sentence":"the touch id","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyTouchId()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"PanelSpriteButton::ButtonFSM","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"true","type":"Boolean","label":"","description":"Should check hovering","group":"","extraInformation":[],"hidden":true,"name":"ShouldCheckHovering"},{"value":"Idle","type":"Choice","label":"State","description":"","group":"","extraInformation":["Idle","Hovered","PressedInside","PressedOutside","Validated"],"hidden":true,"name":"State"},{"value":"0","type":"Number","label":"Touch id","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchId"},{"value":"","type":"Boolean","label":"Touch is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"TouchIsInside"},{"value":"","type":"Boolean","label":"Mouse is inside","description":"","group":"","extraInformation":[],"hidden":true,"name":"MouseIsInside"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Index"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[{"defaultName":"Button","description":"A button that can be customized.","fullName":"Button (panel sprite)","name":"PanelSpriteButton","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create one background instance for of each state.\nOnly the instance for the current state is shown."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Idle","0","0",""]},{"type":{"value":"Create"},"parameters":["","Hovered","0","0",""]},{"type":{"value":"Create"},"parameters":["","Pressed","0","0",""]},{"type":{"value":"Cache"},"parameters":["Hovered"]},{"type":{"value":"Cache"},"parameters":["Pressed"]},{"type":{"value":"ChangePlan"},"parameters":["Hovered","=","1"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Place the label over the backgrounds."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Label","0","0",""]},{"type":{"value":"ChangePlan"},"parameters":["Label","=","2"]},{"type":{"value":"TextObject::SetWrapping"},"parameters":["Label","yes"]},{"type":{"value":"PanelSpriteButton::PanelSpriteButton::CenterLabel"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[{"name":"Background","objects":[{"name":"Idle"},{"name":"Hovered"},{"name":"Pressed"}]}]},{"fullName":"","functionType":"Action","name":"onHotReloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::CenterLabel"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Apply states","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Show the right background accordingly to the new state."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsIdle"},"parameters":["Object","ButtonFSM"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY()"]},{"type":{"value":"Montre"},"parameters":["Idle",""]},{"type":{"value":"Cache"},"parameters":["Pressed"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Visible"},"parameters":["Hovered"]},{"type":{"value":"PanelSpriteButton::PanelSpriteButton::PropertyHoveredFadeOutDuration"},"parameters":["Object",">","0"]}],"actions":[{"type":{"value":"Tween::AddObjectOpacityTween"},"parameters":["Hovered","Tween","\"Fadeout\"","0","\"linear\"","Object.PropertyHoveredFadeOutDuration() * 1000",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::PropertyHoveredFadeOutDuration"},"parameters":["Object","=","0"]}],"actions":[{"type":{"value":"Cache"},"parameters":["Hovered"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteObject::Opacity"},"parameters":["Hovered","=","0"]}],"actions":[{"type":{"value":"Cache"},"parameters":["Hovered"]},{"type":{"value":"PanelSpriteObject::SetOpacity"},"parameters":["Hovered","=","255"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsHovered"},"parameters":["Object","ButtonFSM"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY()"]},{"type":{"value":"Cache"},"parameters":["Idle"]},{"type":{"value":"Montre"},"parameters":["Hovered",""]},{"type":{"value":"Cache"},"parameters":["Pressed"]},{"type":{"value":"Tween::RemoveTween"},"parameters":["Hovered","Tween","\"Fadeout\""]},{"type":{"value":"PanelSpriteObject::SetOpacity"},"parameters":["Hovered","=","255"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsPressed"},"parameters":["Object","ButtonFSM"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY() + Object.PropertyPressedLabelOffsetY()"]},{"type":{"value":"Cache"},"parameters":["Idle"]},{"type":{"value":"Cache"},"parameters":["Hovered"]},{"type":{"value":"Montre"},"parameters":["Pressed",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsFocused"},"parameters":["Object","ButtonFSM"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY()"]},{"type":{"value":"Cache"},"parameters":["Idle"]},{"type":{"value":"Montre"},"parameters":["Hovered",""]},{"type":{"value":"Cache"},"parameters":["Pressed"]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Resize","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Children instances must be resized when the button size change:\n- backgrounds for each state are resized to take the full dimensions of the button\n- the label is put back at the center of the button\n\nThe scale is set back to 1 because it means that the parent instance has the same dimensions as the union of its children instances."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Width()","!=","max(Idle.BoundingBoxRight(), Label.BoundingBoxRight()) - min(Idle.BoundingBoxLeft(), Label.BoundingBoxLeft())"]},{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Height()","!=","max(Idle.BoundingBoxBottom(), Label.BoundingBoxBottom()) - min(Idle.BoundingBoxTop(), Label.BoundingBoxTop())"]}]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Idle","Width","=","Object.Width()"]},{"type":{"value":"ModVarObjet"},"parameters":["Idle","Height","=","Object.Height()"]},{"type":{"value":"PanelSpriteButton::Scale"},"parameters":["Object","=","1"]},{"type":{"value":"PanelSpriteObject::Width"},"parameters":["Background","=","Idle.Variable(Width)"]},{"type":{"value":"PanelSpriteObject::Height"},"parameters":["Background","=","Idle.Variable(Height)"]},{"type":{"value":"PanelSpriteButton::PanelSpriteButton::CenterLabel"},"parameters":["Object",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[{"name":"Background","objects":[{"name":"Idle"},{"name":"Hovered"},{"name":"Pressed"}]}]},{"description":"Check if the button is not used.","fullName":"Is idle","functionType":"Condition","name":"IsIdle","sentence":"_PARAM0_ is idle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsIdle"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Check if the button was just clicked.","fullName":"Is clicked","functionType":"Condition","name":"IsClicked","sentence":"_PARAM0_ is clicked","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsClicked"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Check if the cursor is hovered over the button.","fullName":"Is hovered","functionType":"Condition","name":"IsHovered","sentence":"_PARAM0_ is hovered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsHovered"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Check if the button is either hovered or pressed but not hovered.","fullName":"Is focused","functionType":"Condition","name":"IsFocused","sentence":"_PARAM0_ is focused","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsFocused"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Check if the button is currently being pressed with mouse or touch.","fullName":"Is pressed","functionType":"Condition","name":"IsPressed","sentence":"_PARAM0_ is pressed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::ButtonFSM::IsPressed"},"parameters":["Idle","ButtonFSM",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Change the text of the button label.","fullName":"Label text","functionType":"Action","name":"SetLabelText","sentence":"Change the text of _PARAM0_ to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TextObject::String"},"parameters":["Label","=","GetArgumentAsString(\"LabelText\")"]},{"type":{"value":"PanelSpriteButton::PanelSpriteButton::CenterLabel"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"},{"description":"Text","name":"LabelText","type":"string"}],"objectGroups":[]},{"description":"Return the label text.","fullName":"Label text","functionType":"StringExpression","name":"LabelText","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Label.String()"]}]}],"expressionType":{"type":"string"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Return the label center Y according to the button configuration. This expression is used in doStepPostEvents when the button is pressed or released.","fullName":"","functionType":"Expression","name":"CenterWithPaddingY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Idle.CenterY() + (Object.PropertyTopPadding() - Object.PropertyBottomPadding()) / 2"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]},{"description":"Center the label according to the button configuration. This is used in doStepPostEvents when the button is resized.","fullName":"","functionType":"Action","name":"CenterLabel","private":true,"sentence":"Center the label of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["Label","=","Object.PropertyLeftPadding()","=","Object.PropertyTopPadding()"]},{"type":{"value":"TextObject::WrappingWidth"},"parameters":["Label","=","Idle.Width() - Object.PropertyLeftPadding() - Object.PropertyRightPadding()"]},{"type":{"value":"SetCenterY"},"parameters":["Label","=","Object.CenterWithPaddingY()"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetCenterX"},"parameters":["Label","=","Background.CenterX() +  (Object.PropertyLeftPadding() - Object.PropertyRightPadding()) / 2"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"PanelSpriteButton::PanelSpriteButton::IsPressed"},"parameters":["Object",""]}],"actions":[{"type":{"value":"MettreY"},"parameters":["Label","+","Object.PropertyPressedLabelOffsetY()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[{"name":"Background","objects":[{"name":"Idle"},{"name":"Hovered"},{"name":"Pressed"}]}]},{"description":"De/activate interactions with the button.","fullName":"De/activate interactions","functionType":"Action","name":"Activate","sentence":"Activate interactions with _PARAM0_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Idle","ButtonFSM","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldActivate\""]}],"actions":[{"type":{"value":"ActivateBehavior"},"parameters":["Idle","ButtonFSM","no"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"},{"description":"Activate","name":"ShouldActivate","type":"yesorno"}],"objectGroups":[]},{"description":"Check if interactions are activated on the button.","fullName":"Interactions activated","functionType":"Condition","name":"IsActivated","sentence":"Interactions on _PARAM0_ are activated","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BehaviorActivated"},"parameters":["Idle","ButtonFSM"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"PanelSpriteButton::PanelSpriteButton","type":"object"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","label":"Label offset on Y axis when pressed","description":"","group":"","extraInformation":[],"name":"PressedLabelOffsetY"},{"value":"0","type":"Number","label":"Left padding","description":"","group":"Padding","extraInformation":["Label"],"name":"LeftPadding"},{"value":"0","type":"Number","label":"Right padding","description":"","group":"Padding","extraInformation":["Label"],"name":"RightPadding"},{"value":"0","type":"Number","label":"Top padding","description":"","group":"Padding","extraInformation":["Label"],"name":"TopPadding"},{"value":"0","type":"Number","label":"Bottom padding","description":"","group":"Padding","extraInformation":["Label"],"name":"BottomPadding"},{"value":"0.25","type":"Number","label":"Hovered fade out duration (in seconds)","description":"","group":"","extraInformation":[],"name":"HoveredFadeOutDuration"}],"objects":[{"assetStoreId":"","bold":false,"italic":false,"name":"Label","smoothed":true,"type":"TextObject::Text","underlined":false,"variables":[],"effects":[],"behaviors":[],"string":"Text","font":"","textAlignment":"","characterSize":20.0,"color":{"b":0,"g":0,"r":0},"content":{"bold":false,"isOutlineEnabled":false,"isShadowEnabled":false,"italic":false,"outlineColor":"255;255;255","outlineThickness":2.0,"shadowAngle":90.0,"shadowBlurRadius":2.0,"shadowColor":"0;0;0","shadowDistance":4.0,"shadowOpacity":127.0,"smoothed":true,"underlined":false,"text":"Text","font":"","textAlignment":"","characterSize":20.0,"color":"0;0;0"}},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Idle","rightMargin":0.0,"texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[{"folded":true,"name":"State","type":"string","value":"Idle"}],"effects":[],"behaviors":[{"name":"ButtonFSM","type":"PanelSpriteButton::ButtonFSM","ShouldCheckHovering":true}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Hovered","rightMargin":0.0,"texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"Tween","type":"Tween::TweenBehavior"}]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Pressed","rightMargin":0.0,"texture":"","tiled":false,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Label"},{"objectName":"Idle"},{"objectName":"Hovered"},{"objectName":"Pressed"}]}}]},{"author":"VegeTato, arthuro555","category":"General","extensionNamespace":"","fullName":"Repeat every X seconds","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXJlcGVhdCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNywxN0g3VjE0TDMsMThMNywyMlYxOUgxOVYxM0gxN003LDdIMTdWMTBMMjEsNkwxNywyVjVINVYxMUg3VjdaIiAvPjwvc3ZnPg==","name":"RepeatEveryXSeconds","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/repeat.svg","shortDescription":"Trigger an event every X seconds.","version":"0.1.1","description":"Convenience conditions, actions and behaviors for timers to trigger a condition every X seconds.","origin":{"identifier":"RepeatEveryXSeconds","name":"gdevelop-extension-store"},"tags":["repeat","timer","time"],"authorIds":["ZgrsWuRTAkXgeuPV9bo0zuEcA2w1","IRIhkkTTl2UHhfjrLTTH5GYwkYu1","IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Triggers every X seconds.","fullName":"Repeat with a scene timer","functionType":"Condition","name":"Repeat","sentence":"Repeat every _PARAM2_ seconds using timer _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareTimer"},"parameters":["","TimerName",">=","0"]}],"actions":[{"type":{"value":"ResetTimer"},"parameters":["player","TimerName"]},{"type":{"value":"ModVarScene"},"parameters":["__RepeatEveryXSeconds.Repetitions[TimerName]","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"TODO: It should keep the overflowing time to be more precise (it would need JavaScript)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareTimer"},"parameters":["player","TimerName",">=","LoopDuration"]}],"actions":[{"type":{"value":"ResetTimer"},"parameters":["player","TimerName"]},{"type":{"value":"ModVarScene"},"parameters":["__RepeatEveryXSeconds.Repetitions[TimerName]","+","1"]},{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Timer name used to loop","name":"TimerName","type":"string"},{"description":"Duration in seconds between each repetition","name":"LoopDuration","type":"expression"}],"objectGroups":[]},{"description":"the number of times the timer has repeated.","fullName":"Repetition number of a scene timer","functionType":"ExpressionAndCondition","name":"Repetition","sentence":"Repetition number of timer _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Variable(__RepeatEveryXSeconds.Repetitions[TimerName])"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Timer name used to loop","name":"TimerName","type":"string"}],"objectGroups":[]},{"description":"Triggers every X seconds X amount of times.","fullName":"Repeat with a scene timer X times","functionType":"Condition","name":"RepeatXTimes","sentence":"Repeat every _PARAM2_ seconds _PARAM3_ times using timer _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["MaxLoop","<","0"]},{"type":{"value":"RepeatEveryXSeconds::Repetition"},"parameters":["","<","MaxLoop","TimerName",""]}]},{"type":{"value":"RepeatEveryXSeconds::Repeat"},"parameters":["","TimerName","LoopDuration",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Timer name used to loop","name":"TimerName","type":"string"},{"description":"Duration in seconds between each repetition","name":"LoopDuration","type":"expression"},{"description":"The limit of loops","longDescription":"Maximum nuber of repetition (-1 to repeat forever).","name":"MaxLoop","type":"expression"}],"objectGroups":[]},{"description":"Reset repetition count of a scene timer.","fullName":"Reset repetition count of a scene timer","functionType":"Action","name":"DeleteTimer","sentence":"Reset repetition count for timer _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"RemoveTimer"},"parameters":["player","TimerName"]},{"type":{"value":"VariableRemoveChild"},"parameters":["__RepeatEveryXSeconds.Repetitions","TimerName"]}]}],"parameters":[{"description":"Timer name used to loop","name":"TimerName","type":"string"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Allows to repeat an object timer every X seconds.","fullName":"Repeat every X seconds","name":"RepeatTimer","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","TimerName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]},{"description":"Triggers every X seconds.","fullName":"Repeat with an object timer","functionType":"Condition","group":"Timers","name":"Repeat2","sentence":"Repeat every _PARAM3_ seconds using timer _PARAM2_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareObjectTimer"},"parameters":["Object","TimerName",">=","0"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","TimerName"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__RepeatEveryXSeconds.Repetitions[TimerName]","=","0"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"TODO: It should keep the overflowing time to be more precise (it would need JavaScript)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Object","TimerName",">=","LoopDuration"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","TimerName"]},{"type":{"value":"ModVarObjet"},"parameters":["Object","__RepeatEveryXSeconds.Repetitions[TimerName]","+","1"]},{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"},{"description":"Timer name used to loop","name":"TimerName","type":"string"},{"description":"Duration in seconds between each repetition","name":"LoopDuration","type":"expression"}],"objectGroups":[]},{"description":"the number of times the timer has repeated.","fullName":"Repetition number of an object timer","functionType":"ExpressionAndCondition","group":"Timers","name":"Repetition","sentence":"Repetition number of timer _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Variable(__RepeatEveryXSeconds.Repetitions[TimerName])"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"},{"description":"Timer name used to loop","name":"TimerName","type":"string"}],"objectGroups":[]},{"description":"Triggers every X seconds X amount of times.","fullName":"Repeat with an object timer X times","functionType":"Condition","group":"Timers","name":"RepeatXTimes","sentence":"Repeat every _PARAM3_ seconds _PARAM4_ times using timer _PARAM2_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["MaxLoop","<","0"]},{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::Repetition"},"parameters":["Object","Behavior","<","MaxLoop","TimerName",""]}]},{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::Repeat2"},"parameters":["Object","Behavior","TimerName","LoopDuration",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"},{"description":"Timer name used to loop","name":"TimerName","type":"string"},{"description":"Duration in seconds between each repetition","name":"LoopDuration","type":"expression"},{"description":"The limit of loops","longDescription":"Maximum nuber of repetition (-1 to repeat forever).","name":"MaxLoop","type":"expression"}],"objectGroups":[]},{"description":"Reset repetition count of an object timer.","fullName":"Reset repetition count of an object timer","functionType":"Action","group":"Timers","name":"DeleteTimer","sentence":"Reset repetition count for timer _PARAM2_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","TimerName"]},{"type":{"value":"ObjectVariableRemoveChild"},"parameters":["Object","__RepeatEveryXSeconds.Repetitions","TimerName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"},{"description":"Timer name used to loop","name":"TimerName","type":"string"}],"objectGroups":[]},{"description":"Triggers every X seconds, where X is defined in the behavior properties.","fullName":"Repeat every X seconds (deprecated)","functionType":"Condition","name":"Repeat","private":true,"sentence":"Recurring timer _PARAM1_ of _PARAM0_ has triggered","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectTimer"},"parameters":["Object","TimerName","TimerLength"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::PropertyLimit"},"parameters":["Object","Behavior","=","-1"]},{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::PropertyCounter"},"parameters":["Object","Behavior","<","Limit"]}]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","TimerName"]},{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::SetPropertyCounter"},"parameters":["Object","Behavior","+","1"]},{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]},{"description":"Pauses a recurring timer.","fullName":"Pause a recurring timer (deprecated)","functionType":"Action","name":"Pause","private":true,"sentence":"Pause recurring timer _PARAM1_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PauseObjectTimer"},"parameters":["Object","TimerName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]},{"description":"Resumes a paused recurring timer.","fullName":"Resume a recurring timer (deprecated)","functionType":"Action","name":"Resume","private":true,"sentence":"Resume recurring timer _PARAM1_ of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"UnPauseObjectTimer"},"parameters":["Object","TimerName"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]},{"description":"Allows to trigger the recurring timer X times again.","fullName":"Reset the limit (deprecated)","functionType":"Action","name":"ResetLimit","private":true,"sentence":"Allow to trigger the recurring timer _PARAM1_ of _PARAM0_ X times again","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"RepeatEveryXSeconds::RepeatTimer::SetPropertyCounter"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"RepeatEveryXSeconds::RepeatTimer","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"MyTimer","type":"String","label":"The name of the timer to repeat","description":"","group":"","extraInformation":[],"deprecated":true,"name":"TimerName"},{"value":"1","type":"Number","label":"The time between each trigger (in seconds)","description":"","group":"","extraInformation":[],"deprecated":true,"name":"TimerLength"},{"value":"-1","type":"Number","label":"How many times should the timer trigger? -1 for forever.","description":"","group":"","extraInformation":[],"deprecated":true,"name":"Limit"},{"value":"0","type":"Number","label":"An internal counter","description":"","group":"","extraInformation":[],"hidden":true,"name":"Counter"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"User interface","extensionNamespace":"","fullName":"Resource bar (separated units)","helpPath":"/objects/resource-bar","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWRvdHMtaG9yaXpvbnRhbCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNiwxMkEyLDIgMCAwLDEgMTgsMTBBMiwyIDAgMCwxIDIwLDEyQTIsMiAwIDAsMSAxOCwxNEEyLDIgMCAwLDEgMTYsMTJNMTAsMTJBMiwyIDAgMCwxIDEyLDEwQTIsMiAwIDAsMSAxNCwxMkEyLDIgMCAwLDEgMTIsMTRBMiwyIDAgMCwxIDEwLDEyTTQsMTJBMiwyIDAgMCwxIDYsMTBBMiwyIDAgMCwxIDgsMTJBMiwyIDAgMCwxIDYsMTRBMiwyIDAgMCwxIDQsMTJaIiAvPjwvc3ZnPg==","name":"TiledUnitsBar","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/063e9152cf65bc0f3be2a828afd950c3ecf1b1fc72feefdc2467252fe987dc0f_dots-horizontal.svg","shortDescription":"A bar that represents a resource in the game (health, mana, ammo, etc).","version":"1.1.2","description":["A bar that represents a resource in the game (health, mana, ammo, etc).","","There are ready-to-use resource bars in the asset-store [resource bars pack](https://editor.gdevelop.io/?initial-dialog=asset-store&asset-pack=resource-bars-resource-bars)."],"origin":{"identifier":"TiledUnitsBar","name":"gdevelop-extension-store"},"tags":["resource","bar","health","mana","shield","hearts","lives","ammo"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2","gqDaZjCfevOOxBYkK6zlhtZnXCg1","q8ubdigLvIRXLxsJDDTaokO41mc2"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"A bar that represents a resource in the game (health, mana, ammo, etc).","fullName":"Resource bar","name":"ResourceBar","objectType":"","private":true,"eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"This is done after the events to allow users to read the previous value at the end of the change."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareObjectTimer"},"parameters":["Object","\"__ResourceBar.LastValueChange\"","<=","Object.Behavior::PropertyPreviousHighValueDuration()"]}],"actions":[{"type":{"value":"TiledUnitsBar::ResourceBar::UpdatePreviousHighValue"},"parameters":["Object","Behavior","="]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"the value of the object.","fullName":"Value","functionType":"ExpressionAndCondition","name":"Value","sentence":"the value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyValue()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Value","name":"SetValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::ResourceBar::SetPropertyValue"},"parameters":["Object","Behavior","=","clamp(GetArgumentAsNumber(\"Value\"), 0, Object.Behavior::MaxValue())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::ResourceBar::PropertyValue"},"parameters":["Object","Behavior","<","Object.Behavior::PreviousHighValue()"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__ResourceBar.LastValueChange\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::ResourceBar::PropertyValue"},"parameters":["Object","Behavior",">=","Object.Behavior::PropertyPreviousHighValue()"]}],"actions":[{"type":{"value":"TiledUnitsBar::ResourceBar::UpdatePreviousHighValue"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"the maximum value of the object.","fullName":"Maximum value","functionType":"ExpressionAndCondition","group":"Resource bar configuration","name":"MaxValue","sentence":"the maximum value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyMaxValue()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"MaxValue","name":"SetMaxValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::ResourceBar::SetPropertyMaxValue"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"Check if the bar is empty.","fullName":"Empty","functionType":"Condition","name":"IsEmpty","sentence":"_PARAM0_ bar is empty","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::ResourceBar::PropertyValue"},"parameters":["Object","Behavior","=","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"Check if the bar is full.","fullName":"Full","functionType":"Condition","name":"IsFull","sentence":"_PARAM0_ bar is full","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::ResourceBar::PropertyValue"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyMaxValue()"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"the previous high value of the resource bar before the current change.","fullName":"Previous high value","functionType":"ExpressionAndCondition","name":"PreviousHighValue","sentence":"the previous high value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyPreviousHighValue()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"Force the previous resource value to update to the current one.","fullName":"Update previous value","functionType":"Action","name":"UpdatePreviousHighValue","sentence":"Update the previous resource value of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::ResourceBar::SetPropertyPreviousHighValue"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyValue()"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"the previous high value conservation duration (in seconds) of the object.","fullName":"Previous high value conservation duration","functionType":"ExpressionAndCondition","group":"Resource bar configuration","name":"PreviousHighValueDuration","sentence":"the previous high value conservation duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyPreviousHighValueDuration()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"PreviousHighValueDuration","name":"SetPreviousHighValueDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::ResourceBar::SetPropertyPreviousHighValueDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"Check if the resource value is changing.","fullName":"Value is changing","functionType":"Condition","name":"IsChanging","sentence":"_PARAM0_ value is changing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::ResourceBar::PreviousHighValue"},"parameters":["Object","Behavior","!=","Object.Behavior::PropertyValue()",""]},{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"__ResourceBar.LastValueChange\"","<=","Object.Behavior::PropertyPreviousHighValueDuration()"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"1","type":"Number","label":"Value","description":"","group":"","extraInformation":[],"name":"Value"},{"value":"3","type":"Number","label":"Maximum value","description":"","group":"","extraInformation":[],"name":"MaxValue"},{"value":"","type":"Number","label":"Previous high value","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousHighValue"},{"value":"1","type":"Number","label":"Previous high value conservation duration (in seconds)","description":"","group":"","extraInformation":[],"name":"PreviousHighValueDuration"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[{"defaultName":"ResourceBar","description":"A bar that represents a resource in the game (health, mana, ammo, etc).","fullName":"Resource bar (separated units)","name":"TiledUnitsBar","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"This allows to detect a change of \"intial value\" on hot reload."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::TiledUnitsBar::SetPropertyPreviousInitialValue"},"parameters":["Object","=","Object.PropertyInitialValue()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Create the child-object instances."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","Background","0","0",""]},{"type":{"value":"Create"},"parameters":["","Bar","0","0",""]},{"type":{"value":"Create"},"parameters":["","FillBar","0","0",""]},{"type":{"value":"ChangePlan"},"parameters":["Background","=","1"]},{"type":{"value":"ChangePlan"},"parameters":["Bar","=","2"]},{"type":{"value":"ChangePlan"},"parameters":["FillBar","=","3"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"TiledUnitsBar::TiledUnitsBar::PropertyShowBackground"},"parameters":["Object"]}],"actions":[{"type":{"value":"Cache"},"parameters":["Background"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Pass the configuration to the behavior (MaxValue must be set before Value)."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::TiledUnitsBar::SetMaxValue"},"parameters":["Object","=","Object.PropertyMaxValue()",""]},{"type":{"value":"TiledUnitsBar::TiledUnitsBar::SetValue"},"parameters":["Object","=","Object.PropertyInitialValue()",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onHotReloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::TiledUnitsBar::CenterBar"},"parameters":["Object",""]},{"type":{"value":"TiledUnitsBar::TiledUnitsBar::SetMaxValue"},"parameters":["Object","=","Object.PropertyMaxValue()","Object.PropertyMaxValue()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::TiledUnitsBar::PropertyInitialValue"},"parameters":["Object","!=","Object.PropertyPreviousInitialValue()"]}],"actions":[{"type":{"value":"TiledUnitsBar::TiledUnitsBar::SetPropertyPreviousInitialValue"},"parameters":["Object","=","Object.PropertyInitialValue()"]},{"type":{"value":"TiledUnitsBar::TiledUnitsBar::SetValue"},"parameters":["Object","=","Object.PropertyInitialValue()","Object.PropertyInitialValue()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Resize","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Children instances must be resized when the button size change:\n- background is resized to take the full dimensions of the button\n- the bar size is refreshed according to the value\n\nThe scale is set back to 1 because it means that the parent instance has the same dimensions as the union of its children instances."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Width()","!=","max(Background.BoundingBoxRight(), Bar.BoundingBoxRight()) - min(Background.BoundingBoxLeft(), Bar.BoundingBoxLeft())"]},{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Height()","!=","max(Background.BoundingBoxBottom(), Bar.BoundingBoxBottom()) - min(Background.BoundingBoxTop(), Bar.BoundingBoxTop())"]}]}],"actions":[{"type":{"value":"ModVarObjet"},"parameters":["Background","Width","=","Object.Width()"]},{"type":{"value":"ModVarObjet"},"parameters":["Background","Height","=","Object.Height()"]},{"type":{"value":"TiledUnitsBar::Scale"},"parameters":["Object","=","1"]},{"type":{"value":"PanelSpriteObject::Width"},"parameters":["Background","=","Background.Variable(Width)"]},{"type":{"value":"PanelSpriteObject::Height"},"parameters":["Background","=","Background.Variable(Height)"]},{"type":{"value":"TiledUnitsBar::TiledUnitsBar::CenterBar"},"parameters":["Object",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"}],"objectGroups":[]},{"description":"Center the bar according to the button configuration. This is used in doStepPostEvents when the button is resized.","fullName":"","functionType":"Action","name":"CenterBar","private":true,"sentence":"Center the bar of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetCenter"},"parameters":["Bar","=","Background.CenterX()","=","Background.CenterY()"]},{"type":{"value":"MettreX"},"parameters":["Bar","+","0"]},{"type":{"value":"MettreY"},"parameters":["Bar","+","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"MettreXY"},"parameters":["FillBar","=","Bar.X()","=","Bar.Y()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"}],"objectGroups":[]},{"description":"the value of the object.","fullName":"Value","functionType":"ExpressionAndCondition","group":"Resource bar","name":"Value","sentence":"the value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FillBar.ResourceBar::Value()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Value","name":"SetValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::ResourceBar::SetValue"},"parameters":["FillBar","ResourceBar","=","GetArgumentAsNumber(\"Value\")",""]},{"type":{"value":"TiledSpriteObject::Width"},"parameters":["FillBar","=","FillBar.ResourceBar::Value() * Object.PropertyUnitWidth()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"the maximum value of the object.","fullName":"Maximum value","functionType":"ExpressionAndCondition","group":"Resource bar configuration","name":"MaxValue","sentence":"the maximum value","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FillBar.ResourceBar::PropertyMaxValue()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"MaxValue","name":"SetMaxValue","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"TiledUnitsBar::ResourceBar::SetMaxValue"},"parameters":["FillBar","ResourceBar","=","GetArgumentAsNumber(\"Value\")",""]},{"type":{"value":"TiledSpriteObject::Width"},"parameters":["Bar","=","Object.PropertyMaxValue() * Object.PropertyUnitWidth()"]},{"type":{"value":"TiledUnitsBar::TiledUnitsBar::CenterBar"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"TiledUnitsBar::ResourceBar","type":"behavior"}],"objectGroups":[]},{"description":"Check if the bar is empty.","fullName":"Empty","functionType":"Condition","group":"Resource bar","name":"IsEmpty","sentence":"_PARAM0_ bar is empty","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::ResourceBar::IsEmpty"},"parameters":["FillBar","ResourceBar","="]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"}],"objectGroups":[]},{"description":"Check if the bar is full.","fullName":"Full","functionType":"Condition","group":"Resource bar","name":"IsFull","sentence":"_PARAM0_ bar is full","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"TiledUnitsBar::ResourceBar::IsFull"},"parameters":["FillBar","ResourceBar","="]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"TiledUnitsBar::TiledUnitsBar","type":"object"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"3","type":"Number","label":"Maximum value","description":"","group":"","extraInformation":[],"name":"MaxValue"},{"value":"3","type":"Number","label":"Initial value","description":"","group":"","extraInformation":[],"name":"InitialValue"},{"value":"","type":"Number","label":"","description":"It's used to detect a change at hot reload.","group":"","extraInformation":[],"hidden":true,"name":"PreviousInitialValue"},{"value":"24","type":"Number","label":"Unit width","description":"How much pixels to show for a value of 1.","group":"","extraInformation":[],"name":"UnitWidth"},{"value":"true","type":"Boolean","label":"Show the background","description":"","group":"","extraInformation":["Background"],"name":"ShowBackground"},{"value":"0","type":"Number","label":"Bar left margin","description":"","group":"","extraInformation":["FillBar","Bar"],"name":"BarLeftPadding"},{"value":"0","type":"Number","label":"Bar right margin","description":"","group":"","extraInformation":["FillBar","Bar"],"name":"BarRightPadding"},{"value":"Center","type":"String","label":"","description":"Only used by the scene editor.","group":"","extraInformation":["FillBar","Bar"],"hidden":true,"name":"BarVerticalAnchorOrigin"},{"value":"Center","type":"String","label":"","description":"Only used by the scene editor.","group":"","extraInformation":["Background"],"hidden":true,"name":"BarVerticalAnchorTarget"}],"objects":[{"assetStoreId":"","height":32.0,"name":"FillBar","texture":"","type":"TiledSpriteObject::TiledSprite","width":32.0,"variables":[],"effects":[],"behaviors":[{"name":"ResourceBar","type":"TiledUnitsBar::ResourceBar","Value":1.0,"MaxValue":3.0,"PreviousValue":0.0}]},{"assetStoreId":"","height":32.0,"name":"Bar","texture":"","type":"TiledSpriteObject::TiledSprite","width":32.0,"variables":[],"effects":[],"behaviors":[]},{"assetStoreId":"","bottomMargin":0.0,"height":32.0,"leftMargin":0.0,"name":"Background","rightMargin":0.0,"texture":"","tiled":true,"topMargin":0.0,"type":"PanelSpriteObject::PanelSprite","width":32.0,"variables":[],"effects":[],"behaviors":[]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"FillBar"},{"objectName":"Bar"},{"objectName":"Background"}]}}]},{"author":"westboy31, Tristan Rhodes (https://victrisgames.itch.io/)","category":"Camera","extensionNamespace":"","fullName":"Camera shake","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXZlY3Rvci1kaWZmZXJlbmNlLWFiIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTMsMUMxLjg5LDEgMSwxLjg5IDEsM1Y1SDNWM0g1VjFIM003LDFWM0gxMFYxSDdNMTIsMVYzSDE0VjVIMTZWM0MxNiwxLjg5IDE1LjExLDEgMTQsMUgxMk0xLDdWMTBIM1Y3SDFNMTQsN0MxNCw3IDE0LDExLjY3IDE0LDE0QzExLjY3LDE0IDcsMTQgNywxNEM3LDE0IDcsMTggNywyMEM3LDIxLjExIDcuODksMjIgOSwyMkgyMEMyMS4xMSwyMiAyMiwyMS4xMSAyMiwyMFY5QzIyLDcuODkgMjEuMTEsNyAyMCw3QzE4LDcgMTQsNyAxNCw3TTE2LDlIMjBWMjBIOVYxNkgxNEMxNS4xMSwxNiAxNiwxNS4xMSAxNiwxNFY5TTEsMTJWMTRDMSwxNS4xMSAxLjg5LDE2IDMsMTZINVYxNEgzVjEySDFaIiAvPjwvc3ZnPg==","name":"CameraShake","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/vector-difference-ab.svg","shortDescription":"Shake layer cameras.","version":"3.0.3","description":["Shake layer cameras with translation, rotation and zoom.","","- Short shaking can be used to give impact (explosion, hit)","- Shaking can go indefinitely to set an ambiance (engine vibration, earthquake, pulsing)","- Low frequency shaking allows to simulate slow moving objects (ship rocking back and forth)","","Release notes:","- Version 3.0.0","    - No adaptation of the game events is needed.","    - It fixes an issue when used with scrolling, the amplitude will feel bigger in this case.","    - The shaking relies on noise which could feel a bit different.","    - This extension can no longer do impulses. For this, another extension \"Camera impulse\" can be used."],"origin":{"identifier":"CameraShake","name":"gdevelop-extension-store"},"tags":["shaking","camera","effect","screen","shake"],"authorIds":["gqDaZjCfevOOxBYkK6zlhtZnXCg1","IWykYNRvhCZBN3vEgKEbBPOR3Oc2","m4hBMBTUilft4s1V4FQQPakVDGx1"],"dependencies":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CameraShake::SetLayerShakable"},"parameters":["","","\"\"",""]},{"type":{"value":"CameraShake::SetDefaultShakingFrequency"},"parameters":["","12",""]},{"type":{"value":"CameraShake::SetDefaultTranslationAmplitude"},"parameters":["","4","4",""]},{"type":{"value":"CameraShake::SetDefaultRotationAmplitude"},"parameters":["","0",""]},{"type":{"value":"CameraShake::SetDefaultZoomAmplitude"},"parameters":["","1",""]}]}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Step time counters."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Time","+","TimeDelta()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraShake::IsShaking"},"parameters":["",""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.EaseFactor","=","1"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.Time","<","Variable(__CameraShake.StartEaseDuration)"]},{"type":{"inverted":true,"value":"VarScene"},"parameters":["__CameraShake.Time",">","Variable(__CameraShake.Duration) - Variable(__CameraShake.StopEaseDuration)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.EaseFactor","=","clamp(0, 1, Variable(__CameraShake.Time) / Variable(__CameraShake.StartEaseDuration))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.Time",">","Variable(__CameraShake.Duration) - Variable(__CameraShake.StopEaseDuration)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.EaseFactor","=","clamp(0, 1, (Variable(__CameraShake.Duration) - Variable(__CameraShake.Time)) / Variable(__CameraShake.StopEaseDuration))"]}]},{"type":"BuiltinCommonInstructions::ForEachChildVariable","iterableVariableName":"__CameraShake.Layers","valueIteratorVariableName":"__CameraShake.Layer","keyIteratorVariableName":"__CameraShake.LayerName","conditions":[{"type":{"value":"SceneVariableAsBoolean"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].Shakable","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.ActualLayerName","=","VariableString(__CameraShake.LayerName)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["__CameraShake.LayerName","=","\"__BaseLayer\""]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.ActualLayerName","=","\"\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Use user defined default values when there is no layer specific value set."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CameraShake::SetFrequency"},"parameters":["","Variable(__CameraShake.DefaultFrequency)","\"\"",""]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.AmplitudeX","=","Variable(__CameraShake.DefaultAmplitudeX)"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.AmplitudeY","=","Variable(__CameraShake.DefaultAmplitudeY)"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.AmplitudeAngle","=","Variable(__CameraShake.DefaultAmplitudeAngle)"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.AmplitudeZoom","=","Variable(__CameraShake.DefaultAmplitudeZoom)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists"},"parameters":["__CameraShake.Layer","\"Frequency\""]}],"actions":[{"type":{"value":"CameraShake::SetFrequency"},"parameters":["","Variable(__CameraShake.Layer.Frequency)","\"\"",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists"},"parameters":["__CameraShake.Layer","\"AmplitudeX\""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.AmplitudeX","=","Variable(__CameraShake.Layer.AmplitudeX)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists"},"parameters":["__CameraShake.Layer","\"AmplitudeY\""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.AmplitudeY","=","Variable(__CameraShake.Layer.AmplitudeY)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists"},"parameters":["__CameraShake.Layer","\"AmplitudeAngle\""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.AmplitudeAngle","=","Variable(__CameraShake.Layer.AmplitudeAngle)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VariableChildExists"},"parameters":["__CameraShake.Layer","\"AmplitudeZoom\""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.AmplitudeZoom","=","Variable(__CameraShake.Layer.AmplitudeZoom)"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Shake the layer camera.\nSave the camera displacement to revert it in onScenePostEvents."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.AmplitudeX","!=","0"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaX","=","CameraShake::Noise2d(\"\", TimeFromStart(), 1000) * Variable(__CameraShake.AmplitudeX) * Variable(__CameraShake.EaseFactor)"]},{"type":{"value":"SetCameraCenterX"},"parameters":["","+","Variable(__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaX)","VariableString(__CameraShake.ActualLayerName)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.AmplitudeY","!=","0"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaY","=","CameraShake::Noise2d(\"\", TimeFromStart(), 2000) * Variable(__CameraShake.AmplitudeY) * Variable(__CameraShake.EaseFactor)"]},{"type":{"value":"SetCameraCenterY"},"parameters":["","+","Variable(__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaY)","VariableString(__CameraShake.ActualLayerName)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.AmplitudeAngle","!=","0"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaAngle","=","CameraShake::Noise2d(\"\", TimeFromStart(), 3000) * Variable(__CameraShake.AmplitudeAngle) * Variable(__CameraShake.EaseFactor)"]},{"type":{"value":"SetCameraAngle"},"parameters":["","+","Variable(__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaAngle)","VariableString(__CameraShake.ActualLayerName)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.AmplitudeZoom","!=","1"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaZoom","=","pow(Variable(__CameraShake.AmplitudeZoom), CameraShake::Noise2d(\"\", TimeFromStart(), 4000) * Variable(__CameraShake.EaseFactor))"]},{"type":{"value":"ZoomCamera"},"parameters":["","CameraZoom(VariableString(__CameraShake.ActualLayerName), 0) * Variable(__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaZoom)","VariableString(__CameraShake.ActualLayerName)","0"]}]}]}]}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Revert the shaking."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CameraShake::IsShaking"},"parameters":["",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::ForEachChildVariable","iterableVariableName":"__CameraShake.Layers","valueIteratorVariableName":"__CameraShake.Layer","keyIteratorVariableName":"__CameraShake.LayerName","conditions":[{"type":{"value":"SceneVariableAsBoolean"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].Shakable","True"]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.ActualLayerName","=","VariableString(__CameraShake.LayerName)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarSceneTxt"},"parameters":["__CameraShake.LayerName","=","\"__BaseLayer\""]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.ActualLayerName","=","\"\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.AmplitudeX","!=","0"]}],"actions":[{"type":{"value":"SetCameraCenterX"},"parameters":["","-","Variable(__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaX)","VariableString(__CameraShake.ActualLayerName)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.AmplitudeY","!=","0"]}],"actions":[{"type":{"value":"SetCameraCenterY"},"parameters":["","-","Variable(__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaY)","VariableString(__CameraShake.ActualLayerName)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.AmplitudeAngle","!=","0"]}],"actions":[{"type":{"value":"SetCameraAngle"},"parameters":["","-","Variable(__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaAngle)","VariableString(__CameraShake.ActualLayerName)","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.AmplitudeZoom","!=","1"]}],"actions":[{"type":{"value":"ZoomCamera"},"parameters":["","CameraZoom(VariableString(__CameraShake.ActualLayerName), 0) / Variable(__CameraShake.Layers[VariableString(__CameraShake.LayerName)].CameraDeltaZoom)","VariableString(__CameraShake.ActualLayerName)","0"]}]}]}]}],"parameters":[],"objectGroups":[]},{"description":"Shake the camera on layers chosen with configuration actions.","fullName":"Shake camera","functionType":"Action","name":"ShakeCamera","sentence":"Shake camera for _PARAM1_ seconds with _PARAM2_ seconds of easing to start and _PARAM3_ seconds to stop","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Time","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Duration","=","Duration"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.StartEaseDuration","=","StartEaseDuration"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.StopEaseDuration","=","StopEaseDuration"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.Duration","<","Variable(__CameraShake.StartEaseDuration) + Variable(__CameraShake.StopEaseDuration)"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.StartEaseDuration","=","StartEaseDuration * Variable(__CameraShake.Duration) / (StartEaseDuration + StopEaseDuration)"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.StopEaseDuration","=","StopEaseDuration * Variable(__CameraShake.Duration) / (StartEaseDuration + StopEaseDuration)"]}]}],"parameters":[{"description":"Duration (in seconds)","name":"Duration","type":"expression"},{"description":"Ease duration to start (in seconds)","name":"StartEaseDuration","type":"expression"},{"description":"Ease duration to stop (in seconds)","name":"StopEaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Shake the camera on the specified layer, using one or more ways to shake (position, angle, zoom). This action is deprecated. Please use the other one with the same name.","fullName":"Shake camera (deprecated)","functionType":"Action","name":"CameraShake","private":true,"sentence":"Shake camera on _PARAM3_ layer for _PARAM5_ seconds. Use an amplitude of _PARAM1_px on X axis and _PARAM2_px on Y axis, angle rotation amplitude _PARAM6_ degrees, and zoom amplitude _PARAM7_ percent.  Wait _PARAM8_ seconds between shakes. Keep shaking until stopped: _PARAM9_","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Camera Shake","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"VariableClearChildren"},"parameters":["__CameraShake.Layers"]},{"type":{"value":"CameraShake::SetLayerShakable"},"parameters":["","","GetArgumentAsString(\"Layer\")",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Time","=","0"]},{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.Layer","=","GetArgumentAsString(\"Layer\")"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Duration","=","GetArgumentAsNumber(\"Duration\")"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.StartEaseDuration","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.StopEaseDuration","=","GetArgumentAsNumber(\"Duration\")"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultAmplitudeX","=","abs(GetArgumentAsNumber(\"AmplitudeX\"))"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultAmplitudeY","=","abs(GetArgumentAsNumber(\"AmplitudeY\"))"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultAmplitudeAngle","=","GetArgumentAsNumber(\"AmplitudeAngle\")"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultAmplitudeZoom","=","1 + GetArgumentAsNumber(\"AmplitudeZoom\") / 100"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["GetArgumentAsNumber(\"ShakePeriod\")","!=","0"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultFrequency","=","1 / GetArgumentAsNumber(\"ShakePeriod\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["GetArgumentAsNumber(\"ShakePeriod\")","=","0"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultFrequency","=","1 / 0.08"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Determine if the shake should keep going until stopped"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShakeForever\""]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Duration","=","1234567890"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Add default values if none were provided"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.Duration","=","0"]}],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Duration","=","0.5"]}]}],"parameters":[]}],"parameters":[{"description":"Amplitude of shaking on the X axis (in pixels)","name":"AmplitudeX","type":"expression"},{"description":"Amplitude of shaking on the Y axis (in pixels)","name":"AmplitudeY","type":"expression"},{"description":"Layer (base layer if empty)","name":"Layer","type":"layer"},{"description":"Camera index (Default: 0)","name":"Camera","type":"expression"},{"description":"Duration (in seconds) (Default: 0.5)","name":"Duration","type":"expression"},{"description":"Angle rotation amplitude (in degrees) (For example: 2)","name":"AmplitudeAngle","type":"expression"},{"description":"Zoom factor amplitude","name":"AmplitudeZoom","type":"expression"},{"description":"Period between shakes (in seconds) (Default: 0.08)","name":"ShakePeriod","type":"expression"},{"description":"Keep shaking until stopped","longDescription":"Duration value will be ignored","name":"ShakeForever","type":"yesorno"}],"objectGroups":[]},{"description":"Start shaking the camera indefinitely.","fullName":"Start camera shaking","functionType":"Action","name":"StartShaking","sentence":"Start shaking the camera with _PARAM1_ seconds of easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Time","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Duration","=","1234567890"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.StartEaseDuration","=","EaseDuration"]}]}],"parameters":[{"description":"Ease duration (in seconds)","name":"EaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Stop shaking the camera.","fullName":"Stop camera shaking","functionType":"Action","name":"StopShaking","sentence":"Stop shaking the camera with _PARAM1_ seconds of easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Time","=","0"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Duration","=","EaseDuration"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.StopEaseDuration","=","EaseDuration"]}]}],"parameters":[{"description":"Ease duration (in seconds)","name":"EaseDuration","type":"expression"}],"objectGroups":[]},{"description":"Mark a layer as shakable.","fullName":"Shakable layer","functionType":"Action","group":"Camera shake configuration","name":"SetLayerShakable","sentence":"Mark the layer: _PARAM2_ as shakable: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","Layer"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["Layer","=","\"\""]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Shakable\""]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].Shakable","="]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Shakable\""]}],"actions":[{"type":{"value":"SetSceneVariableAsBoolean"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].Shakable","True"]}]}],"parameters":[{"defaultValue":"yes","description":"Shakable","name":"Shakable","optional":true,"type":"yesorno"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Check if the camera is shaking.","fullName":"Camera is shaking","functionType":"Condition","name":"IsShaking","sentence":"Camera is shaking","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"VarScene"},"parameters":["__CameraShake.Time","<","Variable(__CameraShake.Duration)"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[],"objectGroups":[]},{"description":"Change the translation amplitude of the shaking (in pixels).","fullName":"Layer translation amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetLayerTranslationAmplitude","sentence":"Change the translation amplitude of the shaking to _PARAM1_; _PARAM2_ (layer: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","Layer"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["Layer","=","\"\""]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].AmplitudeX","=","AmplitudeX"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].AmplitudeY","=","AmplitudeY"]}]}],"parameters":[{"description":"Amplitude of shaking on the X axis (in pixels)","name":"AmplitudeX","type":"expression"},{"description":"Amplitude of shaking on the Y axis (in pixels)","name":"AmplitudeY","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Change the rotation amplitude of the shaking (in degrees).","fullName":"Layer rotation amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetLayerRotationAmplitude","sentence":"Change the rotation amplitude of the shaking to _PARAM1_ degrees (layer: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","Layer"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["Layer","=","\"\""]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].AmplitudeAngle","=","AmplitudeAngle"]}]}],"parameters":[{"description":"Angle (in degree)","name":"AmplitudeAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Change the zoom factor amplitude of the shaking. The shaking will zoom and unzoom by this factor (for instance 1.0625 is a valid value).","fullName":"Layer zoom amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetLayerZoomAmplitude","sentence":"Change the zoom factor amplitude of the shaking to _PARAM1_ (layer: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","GetArgumentAsString(\"Layer\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["Layer","=","\"\""]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].AmplitudeZoom","=","GetArgumentAsNumber(\"AmplitudeZoom\")"]}]}],"parameters":[{"description":"Zoom factor","name":"AmplitudeZoom","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Change the number of back and forth per seconds.","fullName":"Layer shaking frequency","functionType":"Action","group":"Camera shake configuration","name":"SetLayerShakingFrequency","sentence":"Change the shaking frequency to _PARAM1_ (layer: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","GetArgumentAsString(\"Layer\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareStrings"},"parameters":["Layer","=","\"\""]}],"actions":[{"type":{"value":"ModVarSceneTxt"},"parameters":["__CameraShake.LayerName","=","\"__BaseLayer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.Layers[VariableString(__CameraShake.LayerName)].Frequency","=","GetArgumentAsNumber(\"Frequency\")"]}]}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Change the default translation amplitude of the shaking (in pixels).","fullName":"Default translation amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetDefaultTranslationAmplitude","sentence":"Change the default translation amplitude of the shaking to _PARAM1_; _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultAmplitudeX","=","AmplitudeX"]},{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultAmplitudeY","=","AmplitudeY"]}]}],"parameters":[{"description":"Amplitude of shaking on the X axis (in pixels)","name":"AmplitudeX","type":"expression"},{"description":"Amplitude of shaking on the Y axis (in pixels)","name":"AmplitudeY","type":"expression"}],"objectGroups":[]},{"description":"Change the default rotation amplitude of the shaking (in degrees).","fullName":"Default rotation amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetDefaultRotationAmplitude","sentence":"Change the default rotation amplitude of the shaking to _PARAM1_ degrees","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultAmplitudeAngle","=","AmplitudeAngle"]}]}],"parameters":[{"description":"Angle (in degree)","name":"AmplitudeAngle","type":"expression"}],"objectGroups":[]},{"description":"Change the default zoom factor amplitude of the shaking. The shaking will zoom and unzoom by this factor (for instance 1.0625 is a valid value).","fullName":"Default zoom amplitude","functionType":"Action","group":"Camera shake configuration","name":"SetDefaultZoomAmplitude","sentence":"Change the default zoom factor amplitude of the shaking to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultAmplitudeZoom","=","AmplitudeZoom"]}]}],"parameters":[{"description":"Zoom factor","name":"AmplitudeZoom","type":"expression"}],"objectGroups":[]},{"description":"Change the default number of back and forth per seconds.","fullName":"Default shaking frequency","functionType":"Action","group":"Camera shake configuration","name":"SetDefaultShakingFrequency","sentence":"Change the default shaking frequency to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ModVarScene"},"parameters":["__CameraShake.DefaultFrequency","=","Frequency"]}]}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["if (gdjs._cameraShakeExtension) {","    return;","}","","/** Noise generator manager. */","class NoiseManager {","    /**","     * Create the manager of noise generators.","     */","    constructor() {","        this.seed = gdjs.randomInRange(1, Number.MAX_SAFE_INTEGER);","        /** @type {Map<string, NoiseGenerator>} */","        this.generators = new Map();","    }","","    /**","     * @param name {string}","     * @return {NoiseGenerator}","     */","    getGenerator(name) {","        let generator = this.generators.get(name);","        if (!generator) {","            generator = new NoiseGenerator(name + this.seed);","            this.generators.set(name, generator);","        }","        return generator;","    }","","    /**","     * @param seed {number}","     */","    setSeed(seed) {","        this.seed = seed;","        this.generators.forEach(generator => generator.setSeed(name + this.seed));","    }","","    /**","     * @param name {string}","     */","    deleteGenerator(name) {","        this.generators.delete(name);","    }","","    /**","     */","    deleteAllGenerators() {","        this.generators.clear();","    }","}","","/** Noise generator with octaves. */","class NoiseGenerator {","    /**","     * Create a noise generator with a seed.","     * @param seed {string}","     */","    constructor(seed) {","        this.simplexNoise = new SimplexNoise(seed);","        this.frequency = 1;","        this.octaves = 1;","        this.persistence = 0.5;","        this.lacunarity = 2;","        this.xLoopPeriod = 0;","        this.yLoopPeriod = 0;","    }","","    /**","     * @param seed {string}","     */","    setSeed(seed) {","        this.simplexNoise = new SimplexNoise(seed);","    }","","    /**","     * @param x {float}","     * @param y {float}","     * @param z {float} optionnal","     * @param w {float} optionnal","     * @return {float}","     */","    noise(x, y, z, w) {","        if (this.xLoopPeriod && this.yLoopPeriod) {","            const circleRatioX = 2 * Math.PI / this.xLoopPeriod;","            const circleRatioY = 2 * Math.PI / this.yLoopPeriod;","            const angleX = circleRatioX * x;","            const angleY = circleRatioY * y;","            x = Math.cos(angleX) / circleRatioX;","            y = Math.sin(angleX) / circleRatioX;","            z = Math.cos(angleY) / circleRatioY;","            w = Math.sin(angleY) / circleRatioY;","        }","        else if (this.xLoopPeriod) {","            const circleRatio = 2 * Math.PI / this.xLoopPeriod;","            const angleX = circleRatio * x;","            w = z;","            z = y;","            x = Math.cos(angleX) / circleRatio;","            y = Math.sin(angleX) / circleRatio;","        }","        else if (this.yLoopPeriod) {","            const circleRatio = 2 * Math.PI / this.xLoopPeriod;","            const angleX = circleRatio * x;","            w = z;","            // Make the circle perimeter equals to the looping period","            // to keep the same perceived frequency with or without looping.","            y = Math.cos(angleX) / circleRatio;","            z = Math.sin(angleX) / circleRatio;","        }","        let noiseFunction = this.simplexNoise.noise4D.bind(this.simplexNoise);","        if (z === undefined) {","            noiseFunction = this.simplexNoise.noise2D.bind(this.simplexNoise);","        }","        else if (w === undefined) {","            noiseFunction = this.simplexNoise.noise3D.bind(this.simplexNoise);","        }","        let frequency = this.frequency;","        let noiseSum = 0;","        let amplitudeSum = 0;","        let amplitude = 1;","        for (let i = 0; i < this.octaves; i++) {","            noiseSum += noiseFunction(x * frequency, y * frequency, z * frequency, w * frequency) * amplitude;","            amplitudeSum += Math.abs(amplitude);","            amplitude *= this.persistence;","            frequency *= this.lacunarity;","        }","        return noiseSum / amplitudeSum;","    }","}","","/*","A fast javascript implementation of simplex noise by Jonas Wagner","https://github.com/jwagner/simplex-noise.js","","Based on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.","Which is based on example code by Stefan Gustavson (stegu@itn.liu.se).","With Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).","Better rank ordering method by Stefan Gustavson in 2012.",""," Copyright (c) 2021 Jonas Wagner",""," Permission is hereby granted, free of charge, to any person obtaining a copy"," of this software and associated documentation files (the \"Software\"), to deal"," in the Software without restriction, including without limitation the rights"," to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"," copies of the Software, and to permit persons to whom the Software is"," furnished to do so, subject to the following conditions:",""," The above copyright notice and this permission notice shall be included in all"," copies or substantial portions of the Software.",""," THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR"," IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"," FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"," AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"," LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"," OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE"," SOFTWARE."," */","","const F2 = 0.5 * (Math.sqrt(3.0) - 1.0);","const G2 = (3.0 - Math.sqrt(3.0)) / 6.0;","const F3 = 1.0 / 3.0;","const G3 = 1.0 / 6.0;","const F4 = (Math.sqrt(5.0) - 1.0) / 4.0;","const G4 = (5.0 - Math.sqrt(5.0)) / 20.0;","const grad3 = new Float32Array([1, 1, 0,","    -1, 1, 0,","    1, -1, 0,","    -1, -1, 0,","    1, 0, 1,","    -1, 0, 1,","    1, 0, -1,","    -1, 0, -1,","    0, 1, 1,","    0, -1, 1,","    0, 1, -1,","    0, -1, -1]);","const grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,","    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,","    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,","    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,","    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,","    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,","    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,","    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);","","","/**"," * Builds a random permutation table."," * This is exported only for (internal) testing purposes."," * Do not rely on this export."," * @param {() => number} random"," * @private"," */","function buildPermutationTable(random) {","    const p = new Uint8Array(256);","    for (let i = 0; i < 256; i++) {","        p[i] = i;","    }","    for (let i = 0; i < 255; i++) {","        const r = i + ~~(random() * (256 - i));","        const aux = p[i];","        p[i] = p[r];","        p[r] = aux;","    }","    return p;","}","","/*","The ALEA PRNG and masher code used by simplex-noise.js","is based on code by Johannes Baagøe, modified by Jonas Wagner.","See alea.md for the full license.","@param {string|number} seed","*/","function alea(seed) {","    let s0 = 0;","    let s1 = 0;","    let s2 = 0;","    let c = 1;","    const mash = masher();","    s0 = mash(' ');","    s1 = mash(' ');","    s2 = mash(' ');","    s0 -= mash(seed);","    if (s0 < 0) {","        s0 += 1;","    }","    s1 -= mash(seed);","    if (s1 < 0) {","        s1 += 1;","    }","    s2 -= mash(seed);","    if (s2 < 0) {","        s2 += 1;","    }","    return function () {","        const t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32","        s0 = s1;","        s1 = s2;","        return s2 = t - (c = t | 0);","    };","}","","function masher() {","    let n = 0xefc8249d;","    return function (data) {","        data = data.toString();","        for (let i = 0; i < data.length; i++) {","            n += data.charCodeAt(i);","            let h = 0.02519603282416938 * n;","            n = h >>> 0;","            h -= n;","            h *= n;","            n = h >>> 0;","            h -= n;","            n += h * 0x100000000; // 2^32","        }","        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32","    };","}","","/** Deterministic simplex noise generator suitable for 2D, 3D and 4D spaces. */","class SimplexNoise {","    /**","     * Creates a new `SimplexNoise` instance.","     * This involves some setup. You can save a few cpu cycles by reusing the same instance.","     * @param {(() => number)|string|number} randomOrSeed A random number generator or a seed (string|number).","     * Defaults to Math.random (random irreproducible initialization).","     */","    constructor(randomOrSeed) {","        if (randomOrSeed === void 0) { randomOrSeed = Math.random; }","        const random = typeof randomOrSeed == 'function' ? randomOrSeed : alea(randomOrSeed);","        this.p = buildPermutationTable(random);","        this.perm = new Uint8Array(512);","        this.permMod12 = new Uint8Array(512);","        for (let i = 0; i < 512; i++) {","            this.perm[i] = this.p[i & 255];","            this.permMod12[i] = this.perm[i] % 12;","        }","    }","","    /**","     * Samples the noise field in 2 dimensions","     * @param {number} x","     * @param {number} y","     * @returns a number in the interval [-1, 1]","     */","    noise2D(x, y) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0 = 0; // Noise contributions from the three corners","        let n1 = 0;","        let n2 = 0;","        // Skew the input space to determine which simplex cell we're in","        const s = (x + y) * F2; // Hairy factor for 2D","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const t = (i + j) * G2;","        const X0 = i - t; // Unskew the cell origin back to (x,y) space","        const Y0 = j - t;","        const x0 = x - X0; // The x,y distances from the cell origin","        const y0 = y - Y0;","        // For the 2D case, the simplex shape is an equilateral triangle.","        // Determine which simplex we are in.","        let i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords","        if (x0 > y0) {","            i1 = 1;","            j1 = 0;","        } // lower triangle, XY order: (0,0)->(1,0)->(1,1)","        else {","            i1 = 0;","            j1 = 1;","        } // upper triangle, YX order: (0,0)->(0,1)->(1,1)","        // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and","        // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where","        // c = (3-sqrt(3))/6","        const x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords","        const y1 = y0 - j1 + G2;","        const x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords","        const y2 = y0 - 1.0 + 2.0 * G2;","        // Work out the hashed gradient indices of the three simplex corners","        const ii = i & 255;","        const jj = j & 255;","        // Calculate the contribution from the three corners","        let t0 = 0.5 - x0 * x0 - y0 * y0;","        if (t0 >= 0) {","            const gi0 = permMod12[ii + perm[jj]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient","        }","        let t1 = 0.5 - x1 * x1 - y1 * y1;","        if (t1 >= 0) {","            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);","        }","        let t2 = 0.5 - x2 * x2 - y2 * y2;","        if (t2 >= 0) {","            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);","        }","        // Add contributions from each corner to get the final noise value.","        // The result is scaled to return values in the interval [-1,1].","        return 70.0 * (n0 + n1 + n2);","    }","","    /**","     * Samples the noise field in 3 dimensions","     * @param {number} x","     * @param {number} y","     * @param {number} z","     * @returns a number in the interval [-1, 1]","     */","    noise3D(x, y, z) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0, n1, n2, n3; // Noise contributions from the four corners","        // Skew the input space to determine which simplex cell we're in","        const s = (x + y + z) * F3; // Very nice and simple skew factor for 3D","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const t = (i + j + k) * G3;","        const X0 = i - t; // Unskew the cell origin back to (x,y,z) space","        const Y0 = j - t;","        const Z0 = k - t;","        const x0 = x - X0; // The x,y,z distances from the cell origin","        const y0 = y - Y0;","        const z0 = z - Z0;","        // For the 3D case, the simplex shape is a slightly irregular tetrahedron.","        // Determine which simplex we are in.","        let i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords","        let i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords","        if (x0 >= y0) {","            if (y0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            } // X Y Z order","            else if (x0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            } // X Z Y order","            else {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            } // Z X Y order","        }","        else { // x0<y0","            if (y0 < z0) {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            } // Z Y X order","            else if (x0 < z0) {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            } // Y Z X order","            else {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            } // Y X Z order","        }","        // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),","        // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and","        // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where","        // c = 1/6.","        const x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords","        const y1 = y0 - j1 + G3;","        const z1 = z0 - k1 + G3;","        const x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords","        const y2 = y0 - j2 + 2.0 * G3;","        const z2 = z0 - k2 + 2.0 * G3;","        const x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords","        const y3 = y0 - 1.0 + 3.0 * G3;","        const z3 = z0 - 1.0 + 3.0 * G3;","        // Work out the hashed gradient indices of the four simplex corners","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        // Calculate the contribution from the four corners","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;","            t3 *= t3;","            n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);","        }","        // Add contributions from each corner to get the final noise value.","        // The result is scaled to stay just inside [-1,1]","        return 32.0 * (n0 + n1 + n2 + n3);","    }","","    /**","     * Samples the noise field in 4 dimensions","     * @param {number} x","     * @param {number} y","     * @param {number} z","     * @returns a number in the interval [-1, 1]","     */","    noise4D(x, y, z, w) {","        const perm = this.perm;","        let n0, n1, n2, n3, n4; // Noise contributions from the five corners","        // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in","        const s = (x + y + z + w) * F4; // Factor for 4D skewing","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const l = Math.floor(w + s);","        const t = (i + j + k + l) * G4; // Factor for 4D unskewing","        const X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space","        const Y0 = j - t;","        const Z0 = k - t;","        const W0 = l - t;","        const x0 = x - X0; // The x,y,z,w distances from the cell origin","        const y0 = y - Y0;","        const z0 = z - Z0;","        const w0 = w - W0;","        // For the 4D case, the simplex is a 4D shape I won't even try to describe.","        // To find out which of the 24 possible simplices we're in, we need to","        // determine the magnitude ordering of x0, y0, z0 and w0.","        // Six pair-wise comparisons are performed between each possible pair","        // of the four coordinates, and the results are used to rank the numbers.","        let rankx = 0;","        let ranky = 0;","        let rankz = 0;","        let rankw = 0;","        if (x0 > y0)","            rankx++;","        else","            ranky++;","        if (x0 > z0)","            rankx++;","        else","            rankz++;","        if (x0 > w0)","            rankx++;","        else","            rankw++;","        if (y0 > z0)","            ranky++;","        else","            rankz++;","        if (y0 > w0)","            ranky++;","        else","            rankw++;","        if (z0 > w0)","            rankz++;","        else","            rankw++;","        // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.","        // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w","        // impossible. Only the 24 indices which have non-zero entries make any sense.","        // We use a thresholding to set the coordinates in turn from the largest magnitude.","        // Rank 3 denotes the largest coordinate.","        // Rank 2 denotes the second largest coordinate.","        // Rank 1 denotes the second smallest coordinate.","        // The integer offsets for the second simplex corner","        const i1 = rankx >= 3 ? 1 : 0;","        const j1 = ranky >= 3 ? 1 : 0;","        const k1 = rankz >= 3 ? 1 : 0;","        const l1 = rankw >= 3 ? 1 : 0;","        // The integer offsets for the third simplex corner","        const i2 = rankx >= 2 ? 1 : 0;","        const j2 = ranky >= 2 ? 1 : 0;","        const k2 = rankz >= 2 ? 1 : 0;","        const l2 = rankw >= 2 ? 1 : 0;","        // The integer offsets for the fourth simplex corner","        const i3 = rankx >= 1 ? 1 : 0;","        const j3 = ranky >= 1 ? 1 : 0;","        const k3 = rankz >= 1 ? 1 : 0;","        const l3 = rankw >= 1 ? 1 : 0;","        // The fifth corner has all coordinate offsets = 1, so no need to compute that.","        const x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords","        const y1 = y0 - j1 + G4;","        const z1 = z0 - k1 + G4;","        const w1 = w0 - l1 + G4;","        const x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords","        const y2 = y0 - j2 + 2.0 * G4;","        const z2 = z0 - k2 + 2.0 * G4;","        const w2 = w0 - l2 + 2.0 * G4;","        const x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords","        const y3 = y0 - j3 + 3.0 * G4;","        const z3 = z0 - k3 + 3.0 * G4;","        const w3 = w0 - l3 + 3.0 * G4;","        const x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords","        const y4 = y0 - 1.0 + 4.0 * G4;","        const z4 = z0 - 1.0 + 4.0 * G4;","        const w4 = w0 - 1.0 + 4.0 * G4;","        // Work out the hashed gradient indices of the five simplex corners","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        const ll = l & 255;","        // Calculate the contribution from the five corners","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;","            t0 *= t0;","            n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;","            t1 *= t1;","            n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;","            t2 *= t2;","            n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;","            t3 *= t3;","            n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);","        }","        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;","        if (t4 < 0)","            n4 = 0.0;","        else {","            const gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;","            t4 *= t4;","            n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);","        }","        // Sum up and scale the result to cover the range [-1,1]","        return 27.0 * (n0 + n1 + n2 + n3 + n4);","    };","}","","gdjs._cameraShakeExtension = {","    noiseManager: new NoiseManager(),","};",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Generate a number from 2 dimensional simplex noise.","fullName":"2D noise","functionType":"Expression","name":"Noise2d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"}],"objectGroups":[]},{"description":"Generate a number from 3 dimensional simplex noise.","fullName":"3D noise","functionType":"Expression","name":"Noise3d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","const z = eventsFunctionContext.getArgument(\"Z\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y, z);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"},{"description":"Z coordinate","name":"Z","type":"expression"}],"objectGroups":[]},{"description":"Generate a number from 4 dimensional simplex noise.","fullName":"4D noise","functionType":"Expression","name":"Noise4d","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","const x = eventsFunctionContext.getArgument(\"X\");\r","const y = eventsFunctionContext.getArgument(\"Y\");\r","const z = eventsFunctionContext.getArgument(\"Z\");\r","const w = eventsFunctionContext.getArgument(\"W\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y, z, w);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"},{"description":"X coordinate","name":"X","type":"expression"},{"description":"Y coordinate","name":"Y","type":"expression"},{"description":"Z coordinate","name":"Z","type":"expression"},{"description":"W coordinate","name":"W","type":"expression"}],"objectGroups":[]},{"description":"Create a noise generator with default settings (frequency = 1,  octaves = 1, persistence = 0.5, lacunarity = 2).","fullName":"Create a noise generator","functionType":"Action","name":"Create","private":true,"sentence":"Create a noise generator named _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Delete a noise generator and loose its settings.","fullName":"Delete a noise generator","functionType":"Action","name":"Delete","private":true,"sentence":"Delete _PARAM1_ noise generator","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.deleteGenerator(name);"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Delete all noise generators and loose their settings.","fullName":"Delete all noise generators","functionType":"Action","name":"DeleteAll","private":true,"sentence":"Delete all noise generators","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._cameraShakeExtension.noiseManager.deleteAllGenerators();","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]},{"description":"The seed is a number used to generate the random noise. Setting the same seed will result in the same random noise generation. It's for example useful to generate the same world, by saving this seed value and reusing it later to generate again a world.","fullName":"Noise seed","functionType":"Action","name":"SetSeed","private":true,"sentence":"Change the noise seed to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._cameraShakeExtension.noiseManager.setSeed(eventsFunctionContext.getArgument(\"Seed\"));","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Seed","longDescription":"15 digits numbers maximum","name":"Seed","type":"expression"}],"objectGroups":[]},{"description":"Change the looping period on X used for noise generation. The noise will wrap-around on X.","fullName":"Noise looping period on X","functionType":"Action","name":"SetLoopPeriodX","private":true,"sentence":"Change the looping period on X of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).xLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Looping period on X","name":"LoopPeriod","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the looping period on Y used for noise generation. The noise will wrap-around on Y.","fullName":"Noise looping period on Y","functionType":"Action","name":"SetLoopPeriodY","private":true,"sentence":"Change the looping period on Y of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).yLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Looping period on Y","name":"LoopPeriod","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the base frequency used for noise generation. A lower frequency will zoom in the noise.","fullName":"Noise base frequency","functionType":"Action","name":"SetFrequency","private":true,"sentence":"Change the noise frequency of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).frequency = eventsFunctionContext.getArgument(\"Frequency\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Frequency","name":"Frequency","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the number of octaves used for noise generation. It can be seen as layers of noise with different zoom.","fullName":"Noise octaves","functionType":"Action","name":"SetOctaves","private":true,"sentence":"Change the number of noise octaves of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).octaves = eventsFunctionContext.getArgument(\"Octaves\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Octaves","name":"Octaves","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the persistence used for noise generation. At its default value \"0.5\", it halves the noise amplitude at each octave.","fullName":"Noise persistence","functionType":"Action","name":"SetPersistence","private":true,"sentence":"Change the noise persistence of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).persistence = eventsFunctionContext.getArgument(\"Persistence\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Persistence","name":"Persistence","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"Change the lacunarity used for noise generation. At its default value \"2\", it doubles the frequency at each octave.","fullName":"Noise lacunarity","functionType":"Action","name":"SetLacunarity","private":true,"sentence":"Change the noise lacunarity of _PARAM2_: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","gdjs._cameraShakeExtension.noiseManager.getGenerator(name).lacunarity = eventsFunctionContext.getArgument(\"Lacunarity\");"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Lacunarity","name":"Lacunarity","type":"expression"},{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The seed used for noise generation.","fullName":"Noise seed","functionType":"Expression","name":"Seed","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":"eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.seed;","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[],"objectGroups":[]},{"description":"The base frequency used for noise generation.","fullName":"Noise base frequency","functionType":"Expression","name":"Frequency","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).frequency;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The number of octaves used for noise generation.","fullName":"Noise octaves number","functionType":"Expression","name":"Octaves","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).octaves;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The persistence used for noise generation.","fullName":"Noise persistence","functionType":"Expression","name":"Persistence","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).persistence;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]},{"description":"The lacunarity used for noise generation.","fullName":"Noise lacunarity","functionType":"Expression","name":"Lacunarity","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const name = eventsFunctionContext.getArgument(\"Name\");\r","\r","eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).lacunarity;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Generator name","name":"Name","type":"string"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"@4ian, Entropy, VegeTato","category":"Visual effect","extensionNamespace":"","fullName":"Flash object","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWZsYXNoLW91dGxpbmUiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNywySDE3TDEzLjUsOUgxN0wxMCwyMlYxNEg3VjJNOSw0VjEySDEyVjE0LjY2TDE0LDExSDEwLjI0TDEzLjc2LDRIOVoiIC8+PC9zdmc+","name":"Flash","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/flash-outline.svg","shortDescription":"Make an object flash visibility (blink), color tint, object effect, or opacity (fade).","version":"1.2.0","description":["Make an object flash for a period of time so that it alternates between two different states.","Includes the ability to flash visibility (blink), color tint, object effect, or opacity (fade).","","After adding a behavior to an object, you **trigger the effect** by using the **Flash action**.","","This can be used to:","- Let players know they are invincible after being hit","- Catch player attention on the interface (for instance a \"press start\" text)",""],"origin":{"identifier":"Flash","name":"gdevelop-extension-store"},"tags":["tween","flash","blink","visible","invisible","hit","damage","fade","effect","color","tint"],"authorIds":["wWP8BSlAW0UP4NeaHa2LcmmDzmH2","q8ubdigLvIRXLxsJDDTaokO41mc2","gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"eventsFunctions":[{"description":"Color tint applied to an object.","fullName":"Color tint applied to an object","functionType":"ExpressionAndCondition","name":"ColorTint","sentence":"Color tint applied to _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Return the color string for the tint applied to the object"},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.SpriteRuntimeObject} */\r","const tintedObject = objects[0];\r","const tint = tintedObject.getColor();\r","eventsFunctionContext.returnValue = tint;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"objectList"}],"objectGroups":[]},{"description":"Check if a color tint is applied to an object.","fullName":"Is a color tint applied to an object","functionType":"StringExpression","name":"IsTinted","sentence":"_PARAM1_ is color tinted","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Flash::ColorTint"},"parameters":["","=","\"255;255;255\"","Object",""]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"objectList"}],"objectGroups":[]},{"description":"Toggle an object effect.","fullName":"Toggle an object effect","functionType":"Action","name":"ToggleEffect","sentence":"Toggle effect _PARAM2_ on _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Object","__Flash_EffectToggled","False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"IsEffectEnabled"},"parameters":["Object","GetArgumentAsString(\"EffectName\")"]}],"actions":[{"type":{"value":"EnableEffect"},"parameters":["Object","GetArgumentAsString(\"EffectName\")",""]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Object","__Flash_EffectToggled","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Object","__Flash_EffectToggled","False"]},{"type":{"inverted":true,"value":"IsEffectEnabled"},"parameters":["Object","GetArgumentAsString(\"EffectName\")"]}],"actions":[{"type":{"value":"EnableEffect"},"parameters":["Object","GetArgumentAsString(\"EffectName\")","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"Effect name to toggle","name":"EffectName","type":"objectEffectName"}],"objectGroups":[]},{"description":"Toggle color tint between the starting tint and a given value.","fullName":"Toggle a color tint","functionType":"Action","name":"ToggleColorTint","private":true,"sentence":"Toggle color tint _PARAM2_ on _PARAM1_","events":[{"colorB":35,"colorG":166,"colorR":245,"creationTime":0,"name":"Note: This function cannot be \"public\" until it properly handles objects without a starting color tint variable (NULL)","source":"","type":"BuiltinCommonInstructions::Group","events":[],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Swap between the starting tint and the given value","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Object","__Flash_ColorTintToggled","False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::ColorTint"},"parameters":["","=","Object.VariableString(__FlashColor_StartingTint)","Object",""]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","GetArgumentAsString(\"ColorTint\")"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Object","__Flash_ColorTintToggled","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Object","__Flash_ColorTintToggled","False"]},{"type":{"inverted":true,"value":"Flash::ColorTint"},"parameters":["","=","Object.VariableString(__FlashColor_StartingTint)","Object",""]}],"actions":[{"type":{"value":"ChangeColor"},"parameters":["Object","Object.VariableString(__FlashColor_StartingTint)"]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"objectList"},{"description":"Color tint","name":"ColorTint","type":"color"}],"objectGroups":[]},{"description":"Toggle object visibility.","fullName":"Toggle object visibility","functionType":"Action","name":"ToggleVisibility","sentence":"Toggle visibility of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Object","__Flash_VisibilityToggled","False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Visible"},"parameters":["Object"]}],"actions":[{"type":{"value":"Cache"},"parameters":["Object"]},{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Object","__Flash_VisibilityToggled","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Object","__Flash_VisibilityToggled","False"]},{"type":{"inverted":true,"value":"Visible"},"parameters":["Object"]}],"actions":[{"type":{"value":"Montre"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Make the object flash (blink) for a period of time so it alternates between visible and invisible.","fullName":"Flash visibility (blink)","name":"Flash","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::Flash::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Alternate states","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"Flash_Visibility_Timer\"",">","Object.Behavior::PropertyHalfPeriodTime()"]}],"actions":[{"type":{"value":"Flash::ToggleVisibility"},"parameters":["","Object",""]},{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Visibility_Timer\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Stop flashing","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::Flash::PropertyFlashDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"Flash_Visibility_Duration_Timer\"",">","Object.Behavior::PropertyFlashDuration()"]}],"actions":[{"type":{"value":"Flash::Flash::Stop"},"parameters":["Object","Behavior",""]}]}],"parameters":[]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::Flash","type":"behavior"}],"objectGroups":[]},{"description":"Make an object flash (blink) visibility for a period of time.","fullName":"Flash visibility (blink)","functionType":"Action","name":"Flash","sentence":"Make _PARAM0_ flash (blink) for _PARAM2_ seconds","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Flash::Flash::IsFlashing"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"Flash::ToggleVisibility"},"parameters":["","Object",""]},{"type":{"value":"Flash::Flash::SetPropertyIsFlashing"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Visibility_Timer\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Visibility_Duration_Timer\""]},{"type":{"value":"Flash::Flash::SetPropertyFlashDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"FlashDuration\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::Flash","type":"behavior"},{"description":"Duration of the flashing, in seconds","longDescription":"Use \"0\" to keep flashing until stopped.","name":"FlashDuration","type":"expression"}],"objectGroups":[]},{"description":"Check if an object is flashing visibility.","fullName":"Is object flashing visibility","functionType":"Condition","name":"IsFlashing","sentence":"_PARAM0_ is flashing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::Flash::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::Flash","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::Flash::Stop"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::Flash","type":"behavior"}],"objectGroups":[]},{"description":"Stop flashing visibility (blink) of an object.","fullName":"Stop flashing visibility (blink)","functionType":"Action","name":"Stop","sentence":"Stop flashing visibility of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::Flash::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Montre"},"parameters":["Object",""]},{"type":{"value":"Flash::Flash::SetPropertyIsFlashing"},"parameters":["Object","Behavior","no"]},{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"Flash_Visibility_Timer\""]},{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"Flash_Visibility_Duration_Timer\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::Flash","type":"behavior"}],"objectGroups":[]},{"description":"the half period of the object (time the object is invisible).","fullName":"Half period","functionType":"ExpressionAndCondition","group":"Flash visibility (blink) configuration","name":"HalfPeriodTime","sentence":"the half period (time the object is invisible)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyHalfPeriodTime()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::Flash","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"HalfPeriodTime","name":"SetHalfPeriodTime","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::Flash::SetPropertyHalfPeriodTime"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::Flash","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0.1","type":"Number","unit":"Second","label":"Half period ","description":"Time that the object is invisible","group":"","extraInformation":[],"name":"HalfPeriodTime"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsFlashing"},{"value":"0","type":"Number","unit":"Second","label":"Flash duration","description":"Use \"0\" to keep flashing until stopped","group":"","extraInformation":[],"hidden":true,"name":"FlashDuration"}],"sharedPropertyDescriptors":[]},{"description":"Make an object flash a color tint for a period of time.","fullName":"Flash color tint","name":"FlashColor","objectType":"Sprite","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashColor::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Alternate states","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"Flash_Color_Timer\"",">","Object.Behavior::PropertyHalfPeriodTime()"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Color_Timer\""]},{"type":{"value":"Flash::ToggleColorTint"},"parameters":["","Object","Object.Behavior::PropertyTintColor()",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Stop flashing","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashColor::PropertyFlashDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"Flash_Color_Duration_Timer\"",">","Object.Behavior::PropertyFlashDuration()"]}],"actions":[{"type":{"value":"Flash::FlashColor::Stop"},"parameters":["Object","Behavior",""]}]}],"parameters":[]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashColor","type":"behavior"}],"objectGroups":[]},{"description":"Make an object flash a color tint for a period of time.","fullName":"Flash a color tint","functionType":"Action","name":"Flash","sentence":"Make _PARAM0_ flash the color tint _PARAM3_ for _PARAM2_ seconds","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Flash::FlashColor::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"ModVarObjetTxt"},"parameters":["Object","__FlashColor_StartingTint","=","Flash::ColorTint(Object)"]},{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Color_Timer\""]},{"type":{"value":"Flash::ToggleColorTint"},"parameters":["","Object","GetArgumentAsString(\"ColorTint\")",""]},{"type":{"value":"Flash::FlashColor::SetPropertyIsFlashing"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Color_Duration_Timer\""]},{"type":{"value":"Flash::FlashColor::SetPropertyTintColor"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"ColorTint\")"]},{"type":{"value":"Flash::FlashColor::SetPropertyFlashDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"FlashDuration\")"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashColor","type":"behavior"},{"description":"Duration of the flashing, in seconds","longDescription":"Use \"0\" to keep flashing until stopped.","name":"FlashDuration","type":"expression"},{"description":"Color tint","name":"ColorTint","type":"color"}],"objectGroups":[]},{"description":"Check if an object is flashing a color tint.","fullName":"Is object flashing a color tint","functionType":"Condition","name":"IsFlashing","sentence":"_PARAM0_ is flashing a color tint","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashColor::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashColor","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::FlashColor::Stop"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashColor","type":"behavior"}],"objectGroups":[]},{"description":"Stop flashing a color tint on an object.","fullName":"Stop flashing color tint","functionType":"Action","name":"Stop","sentence":"Stop flashing color tint _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashColor::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Flash::FlashColor::SetPropertyIsFlashing"},"parameters":["Object","Behavior","no"]},{"type":{"value":"ChangeColor"},"parameters":["Object","Object.VariableString(__FlashColor_StartingTint)"]},{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"Flash_Color_Timer\""]},{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"Flash_Color_Duration_Timer\""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashColor","type":"behavior"}],"objectGroups":[]},{"description":"the half period (time between flashes) of the object.","fullName":"Half period","functionType":"ExpressionAndCondition","group":"Flash color tint configuration","name":"HalfPeriodTime","sentence":"the half period (time between flashes)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyHalfPeriodTime()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashColor","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"HalfPeriodTime","name":"SetHalfPeriodTime","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::FlashColor::SetPropertyHalfPeriodTime"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashColor","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0.1","type":"Number","unit":"Second","label":"Half period","description":"Time between flashes","group":"","extraInformation":[],"name":"HalfPeriodTime"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsFlashing"},{"value":"0","type":"Number","unit":"Second","label":"Flash duration","description":"Use \"0\" to keep flashing until stopped","group":"","extraInformation":[],"hidden":true,"name":"FlashDuration"},{"value":"\"255;255;255\"","type":"String","label":"Tint color","description":"","group":"","extraInformation":[],"hidden":true,"name":"TintColor"}],"sharedPropertyDescriptors":[]},{"description":"Flash opacity smoothly (fade) in a repeating loop.","fullName":"Flash opacity smothly (fade)","name":"FlashOpacity","objectType":"Sprite","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashOpacity::IsFlashing"},"parameters":["Object","Behavior",""]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Alternate states","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Tween::HasFinished"},"parameters":["Object","TweenBehavior","\"__Flash.ToTargetOpacity\""]}],"actions":[{"type":{"value":"Tween::AddObjectOpacityTween"},"parameters":["Object","TweenBehavior","\"__Flash.ToStartingOpacity\"","Object.Behavior::PropertyStartingOpacity()","\"easeInOutCubic\"","1000 * Object.Behavior::PropertyHalfPeriodTime()",""]},{"type":{"value":"Tween::RemoveTween"},"parameters":["Object","TweenBehavior","\"__Flash.ToTargetOpacity\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Tween::HasFinished"},"parameters":["Object","TweenBehavior","\"__Flash.ToStartingOpacity\""]}],"actions":[{"type":{"value":"Tween::AddObjectOpacityTween"},"parameters":["Object","TweenBehavior","\"__Flash.ToTargetOpacity\"","Object.Behavior::PropertyTargetOpacity()","\"easeInOutCubic\"","1000 * Object.Behavior::PropertyHalfPeriodTime()",""]},{"type":{"value":"Tween::RemoveTween"},"parameters":["Object","TweenBehavior","\"__Flash.ToStartingOpacity\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Stop flashing","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashOpacity::PropertyFlashDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"Flash_Opacity_Duration_Timer\"",">","Object.Behavior::PropertyFlashDuration()"]}],"actions":[{"type":{"value":"Flash::FlashOpacity::Stop"},"parameters":["Object","Behavior",""]}]}],"parameters":[]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashOpacity","type":"behavior"}],"objectGroups":[]},{"description":"Make an object flash opacity smoothly (fade) in a repeating loop.","fullName":"Flash the opacity (fade)","functionType":"Action","name":"Flash","sentence":"Make _PARAM0_ flash opacity smoothly to _PARAM4_ in a loop for _PARAM3_ seconds","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Flash::FlashOpacity::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Flash::FlashOpacity::SetPropertyStartingOpacity"},"parameters":["Object","Behavior","=","Object.Opacity()"]},{"type":{"value":"Tween::AddObjectOpacityTween"},"parameters":["Object","TweenBehavior","\"__Flash.ToTargetOpacity\"","GetArgumentAsNumber(\"TargetOpacity\")","\"easeInOutCubic\"","1000 * Object.Behavior::PropertyHalfPeriodTime()",""]},{"type":{"value":"Flash::FlashOpacity::SetPropertyIsFlashing"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Opacity_Duration_Timer\""]},{"type":{"value":"Flash::FlashOpacity::SetPropertyFlashDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"FlashDuration\")"]},{"type":{"value":"Flash::FlashOpacity::SetPropertyTargetOpacity"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"TargetOpacity\")"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashOpacity","type":"behavior"},{"description":"Tween behavior (required)","name":"TweenBehavior","supplementaryInformation":"Tween::TweenBehavior","type":"behavior"},{"description":"Duration of the flashing, in seconds","longDescription":"Use \"0\" to keep flashing until stopped.","name":"FlashDuration","type":"expression"},{"description":"Target opacity","name":"TargetOpacity","type":"expression"}],"objectGroups":[]},{"description":"Check if an object is flashing opacity.","fullName":"Is object flashing opacity","functionType":"Condition","name":"IsFlashing","sentence":"_PARAM0_ is flashing opacity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashColor::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashOpacity","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::FlashOpacity::Stop"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashOpacity","type":"behavior"}],"objectGroups":[]},{"description":"Stop flashing opacity of an object.","fullName":"Stop flashing opacity","functionType":"Action","name":"Stop","sentence":"Stop flashing opacity of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashOpacity::IsFlashing"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"Flash::FlashOpacity::SetPropertyIsFlashing"},"parameters":["Object","Behavior","no"]},{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"Flash_Color_Duration_Timer\""]},{"type":{"value":"Tween::RemoveTween"},"parameters":["Object","TweenBehavior","\"__Flash.ToTargetOpacity\""]},{"type":{"value":"Tween::RemoveTween"},"parameters":["Object","TweenBehavior","\"__Flash.ToStartingOpacity\""]},{"type":{"value":"Opacity"},"parameters":["Object","=","Object.Behavior::PropertyStartingOpacity()"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashOpacity","type":"behavior"}],"objectGroups":[]},{"description":"the half period (time between flashes) of the object.","fullName":"Half period","functionType":"ExpressionAndCondition","group":"Flash opacity smothly (fade) configuration","name":"HalfPeriodTime","sentence":"the half period (time between flashes)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyHalfPeriodTime()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashOpacity","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"HalfPeriodTime","name":"SetHalfPeriodTime","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::FlashOpacity::SetPropertyHalfPeriodTime"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashOpacity","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"Tween Behavior (required)","description":"","group":"","extraInformation":["Tween::TweenBehavior"],"name":"TweenBehavior"},{"value":"0.1","type":"Number","unit":"Second","label":"Half period","description":"Time between flashes","group":"","extraInformation":[],"name":"HalfPeriodTime"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsFlashing"},{"value":"0","type":"Number","unit":"Second","label":"Flash duration","description":"Use \"0\" to keep flashing until stopped","group":"","extraInformation":[],"hidden":true,"name":"FlashDuration"},{"value":"0","type":"Number","unit":"Dimensionless","label":"Target opacity (Range: 0 - 255)","description":"Opacity will fade between the starting value and a target value","group":"","extraInformation":[],"hidden":true,"name":"TargetOpacity"},{"value":"","type":"Number","unit":"Dimensionless","label":"Starting opacity","description":"Opacity will fade between the starting value and a target value","group":"","extraInformation":[],"hidden":true,"name":"StartingOpacity"}],"sharedPropertyDescriptors":[]},{"description":"Make the object flash an effect for a period of time.","fullName":"Flash effect","name":"FlashEffect","objectType":"Sprite","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashEffect::IsFlashing"},"parameters":["Object","Behavior",""]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Alternate states","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"Flash_Effect_Timer\"",">","Object.Behavior::PropertyHalfPeriodTime()"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Effect_Timer\""]},{"type":{"value":"Flash::ToggleEffect"},"parameters":["","Object","Object.Behavior::PropertyEffectName()",""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Stop flashing","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashEffect::PropertyFlashDuration"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"Flash_Effect_Duration_Timer\"",">","Object.Behavior::PropertyFlashDuration()"]}],"actions":[{"type":{"value":"Flash::FlashEffect::Stop"},"parameters":["Object","Behavior",""]}]}],"parameters":[]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashEffect","type":"behavior"}],"objectGroups":[]},{"description":"Make an object flash an effect for a period of time.","fullName":"Flash an effect","functionType":"Action","name":"Flash","sentence":"Make _PARAM0_ flash the effect _PARAM3_ for _PARAM2_ seconds","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Stop flashing existing effects if the effect name changed"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashEffect::IsFlashing"},"parameters":["Object","Behavior",""]},{"type":{"value":"Flash::FlashEffect::PropertyEffectName"},"parameters":["Object","Behavior","!=","GetArgumentAsString(\"EffectName\")"]}],"actions":[{"type":{"value":"Flash::FlashEffect::Stop"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"Flash::FlashEffect::IsFlashing"},"parameters":["Object","Behavior",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"IsEffectEnabled"},"parameters":["Object","GetArgumentAsString(\"EffectName\")"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Object","__FlashColor_StartingState","True"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"IsEffectEnabled"},"parameters":["Object","GetArgumentAsString(\"EffectName\")"]}],"actions":[{"type":{"value":"SetObjectVariableAsBoolean"},"parameters":["Object","__FlashColor_StartingState","False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::ToggleEffect"},"parameters":["","Object","GetArgumentAsString(\"EffectName\")",""]},{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Effect_Timer\""]},{"type":{"value":"Flash::FlashEffect::SetPropertyIsFlashing"},"parameters":["Object","Behavior","yes"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"Flash_Effect_Duration_Timer\""]},{"type":{"value":"Flash::FlashEffect::SetPropertyFlashDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"FlashDuration\")"]},{"type":{"value":"Flash::FlashEffect::SetPropertyEffectName"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"EffectName\")"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashEffect","type":"behavior"},{"description":"Duration of the flashing, in seconds","longDescription":"Use \"0\" to keep flashing until stopped.","name":"FlashDuration","type":"expression"},{"description":"Name of effect","name":"EffectName","type":"objectEffectName"}],"objectGroups":[]},{"description":"Check if an object is flashing an effect.","fullName":"Is object flashing an effect","functionType":"Condition","name":"IsFlashing","sentence":"_PARAM0_ is flashing an effect","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["False"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashEffect::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashEffect","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::FlashEffect::Stop"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashEffect","type":"behavior"}],"objectGroups":[]},{"description":"Stop flashing an effect of an object.","fullName":"Stop flashing an effect","functionType":"Action","name":"Stop","sentence":"Stop flashing an effect on _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Flash::FlashColor::PropertyIsFlashing"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"Flash::FlashEffect::SetPropertyIsFlashing"},"parameters":["Object","Behavior","no"]},{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"Flash_Effect_Timer\""]},{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"Flash_Effect_Duration_Timer\""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Object","__FlashEffect_StartingState","True"]}],"actions":[{"type":{"value":"EnableEffect"},"parameters":["Object","Object.Behavior::PropertyEffectName()","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectVariableAsBoolean"},"parameters":["Object","__FlashEffect_StartingState",""]}],"actions":[{"type":{"value":"EnableEffect"},"parameters":["Object","Object.Behavior::PropertyEffectName()",""]}]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashEffect","type":"behavior"}],"objectGroups":[]},{"description":"the half period (time between flashes) of the object.","fullName":"Half period","functionType":"ExpressionAndCondition","group":"Flash effect configuration","name":"HalfPeriodTime","sentence":"the half period (time between flashes)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyHalfPeriodTime()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashEffect","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"HalfPeriodTime","name":"SetHalfPeriodTime","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Flash::FlashEffect::SetPropertyHalfPeriodTime"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"Flash::FlashEffect","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0.1","type":"Number","unit":"Second","label":"Half period","description":"Time between flashes","group":"","extraInformation":[],"name":"HalfPeriodTime"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsFlashing"},{"value":"0","type":"Number","unit":"Second","label":"Flash duration","description":"Use \"0\" to keep flashing until stopped","group":"","extraInformation":[],"hidden":true,"name":"FlashDuration"},{"value":"","type":"String","label":"Name of effect","description":"","group":"","extraInformation":[],"hidden":true,"name":"EffectName"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"Arthur Pacaud (arthuro555)","category":"General","extensionNamespace":"","fullName":"Array tools","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjExIiB5MT0iNyIgeDI9IjI5IiB5Mj0iNyIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjExIiB5MT0iMTYiIHgyPSIyMiIgeTI9IjE2Ii8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMTEiIHkxPSIyNSIgeDI9IjI5IiB5Mj0iMjUiLz4NCjxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjUiIGN5PSI3IiByPSIyIi8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI1IiBjeT0iMTYiIHI9IjIiLz4NCjxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjUiIGN5PSIyNSIgcj0iMiIvPg0KPC9zdmc+DQo=","name":"ArrayTools","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Text Editing/9bfb52500e68d0fd164b1e30bc696e40566187245b80c345848379f40bb6fad7_Text Editing_bullet_points_list.svg","shortDescription":"A collection of utilities and tools for working with arrays.","version":"2.0.0","description":["> Note: The v2.0.0 is not compatible with v1.0.0. If you update, you wil have to update ALL USAGES of the extension.","","This extension adds features like:","- Combining arrays (concatenate into new array, append all children to another array)","- Finding a value in an array (find index expression, contains condition)","- Reversing arrays","- Get a portion of an array (slice)","- Add and remove lots of children at specific indices at once (fill, splice, shift, pop, add at index)","- Randomness (shuffle children, get a random child)","- Mathematical operations using arrays (sum of all numbers, biggest/smallest number, average number, median number)","- Sort numbers in an array","- String inter-operation (split string into array, join array array children to string)"],"origin":{"identifier":"ArrayTools","name":"gdevelop-extension-store"},"tags":["array","variable","index","tool","math","string","sort","find","slice","cut","random","copy","combine","concat","append","insert"],"authorIds":["ZgrsWuRTAkXgeuPV9bo0zuEcA2w1"],"dependencies":[],"eventsFunctions":[{"description":"The index of the first variable that equals to a specific number in an array.","fullName":"Index of number","functionType":"ExpressionAndCondition","group":"Scene variables/Array search","name":"IndexOf","sentence":"The first index where _PARAM2_ can be found in _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findIndex(child => child.getAsNumber() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to search the value in","name":"Array","type":"scenevar"},{"description":"Number to search in the array","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"The index of the first variable that equals to a specific text in an array.","fullName":"Index of text","functionType":"ExpressionAndCondition","group":"Scene variables/Array search","name":"IndexOfStr","sentence":"The first index where _PARAM2_ can be found in _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findIndex(child => child.getAsString() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to search the value in","name":"Array","type":"scenevar"},{"description":"String to search in the array","name":"Value","type":"string"}],"objectGroups":[]},{"description":"The index of the last variable that equals to a specific number in an array.","fullName":"Last index of number","functionType":"ExpressionAndCondition","group":"Scene variables/Array search","name":"LastIndexOf","sentence":"The last index where _PARAM2_ can be found in _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue = ","    array.getAllChildrenArray().findLastIndex(child => child.getAsNumber() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to search the value in","name":"Array","type":"scenevar"},{"description":"Number to search in the array","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"The index of the last variable that equals to a specific text in an array.","fullName":"Last index of text","functionType":"ExpressionAndCondition","group":"Scene variables/Array search","name":"LastIndexOfStr","sentence":"The last index where _PARAM2_ can be found in _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findLastIndex(child => child.getAsString() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to search the value in","name":"Array","type":"scenevar"},{"description":"String to search in the array","name":"Value","type":"string"}],"objectGroups":[]},{"description":"Returns a random number of an array of numbers.","fullName":"Random number in array","functionType":"ExpressionAndCondition","group":"Scene variables/Array access","name":"RandomNumberInArray","sentence":"A randomly picked number of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const internalArray = array.getAllChildrenArray();","","eventsFunctionContext.returnValue = internalArray.length === 0","    ? 0","    : internalArray[Math.floor(Math.random() * internalArray.length)].getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to get a number from","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"a random string of an array of strings.","fullName":"Random string in array","functionType":"ExpressionAndCondition","group":"Scene variables/Array access","name":"RandomStringInArray","sentence":"A randomly picked string of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const internalArray = array.getAllChildrenArray();","","eventsFunctionContext.returnValue = internalArray.length === 0","    ? \"\"","    : internalArray[Math.floor(Math.random() * internalArray.length)].getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"Array to get a string from","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and return it as a number.","fullName":"Get and remove last variable from array (as number)","functionType":"ExpressionAndCondition","group":"Scene variables/Array access","name":"PopNumber","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().pop().getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to pop a child from","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and return it as a string.","fullName":"Pop string from array","functionType":"StringExpression","group":"Scene variables/Array access","name":"PopString","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().pop().getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"Array to pop a child from","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and return it as a number.","fullName":"Shift number from array","functionType":"Expression","group":"Scene variables/Array access","name":"ShiftNumber","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().shift().getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to shift a child from","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and return it as a string.","fullName":"Shift string from array","functionType":"StringExpression","group":"Scene variables/Array access","name":"ShiftString","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().shift().getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"Array to shift a child from","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Checks if an array contains a specific number.","fullName":"Array has number","functionType":"Condition","group":"Scene variables/Array search","name":"HasNumber","sentence":"Array _PARAM1_ has number _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CopyArgumentToVariable"},"parameters":["\"Array\"","__ArrayTools.Temp"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["ArrayTools::IndexOf(__ArrayTools.Temp, GetArgumentAsNumber(\"Value\"))","!=","-1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Array to search the value in","name":"Array","type":"scenevar"},{"description":"The number to search","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Checks if an array contains a specific string.","fullName":"Array has string","functionType":"Condition","group":"Scene variables/Array search","name":"HasString","sentence":"Array _PARAM1_ has string _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CopyArgumentToVariable"},"parameters":["\"Array\"","__ArrayTools.Temp"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["ArrayTools::IndexOfStr(__ArrayTools.Temp, GetArgumentAsString(\"Value\"))","!=","-1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Array to search the value in","name":"Array","type":"scenevar"},{"description":"The text to search","name":"Value","type":"string"}],"objectGroups":[]},{"description":"Copies a portion of a scene array variable into a new scene array variable.","fullName":"Slice an array","functionType":"Action","group":"Scene variables/Array creation","name":"Slice","sentence":"Slice array _PARAM1_ from indices _PARAM3_ to _PARAM4_ into _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Ensure the target is a clean new array","target.castTo(\"array\");","target.clearChildren();","","// Slice the original array","const slice = array","    .getAllChildrenArray()","    .slice(","        eventsFunctionContext.getArgument(\"Begin\"),","        // The `|| undefined` replaces 0 with undefined, as having the argument as 0 ","        // would make the array empty and is therefore useless.","        // With undefined though, it doesn't stop until the end of the array,","        // which is purposeful.","        eventsFunctionContext.getArgument(\"End\") || undefined","    );","","// Copy each variable of the slice into the new array","for (const variable of slice)","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to take a slice from","name":"Array","type":"scenevar"},{"description":"The array to store the slice into","name":"Target","type":"scenevar"},{"description":"The index to start the slice from","name":"Begin","type":"expression"},{"description":"The index to end the slice at","longDescription":"Set to 0 to copy all of the array. If you use a negative value, the index will be selected beginning from the end.  \nFor example, slicing an array with 5 elements from 0 to -1 would take only elements from indices 0 to 3.","name":"End","type":"expression"}],"objectGroups":[]},{"description":"Cuts a portion of an array off.","fullName":"Splice an array","functionType":"Action","group":"Scene variables/Array manipulation","name":"Splice","sentence":"Remove _PARAM3_ items from array _PARAM1_ starting from index _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","","internalArray.splice(","    eventsFunctionContext.getArgument(\"Begin\"),","    // Replaces 0 with the legth of the array, as having the argument as 0 ","    // would not remove anything and is therefore useless.","    eventsFunctionContext.getArgument(\"Count\") || internalArray.length",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to remove items from","name":"Array","type":"scenevar"},{"description":"The index to start removing from","longDescription":"If you use a negative value, the index will be selected beginning from the end.","name":"Begin","type":"expression"},{"description":"The amount of elements to remove","longDescription":"Set to 0 to remove until the end of the array.","name":"Count","type":"expression"}],"objectGroups":[]},{"description":"Combines all elements of 2 scene arrays into one new scene array.","fullName":"Combine 2 arrays","functionType":"Action","group":"Scene variables/Array creation","name":"Concatenate","sentence":"Combine array _PARAM1_ and _PARAM2_ into _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const otherArray = eventsFunctionContext.getArgument(\"OtherArray\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Ensure the target is a clean new array","target.castTo(\"array\");","target.clearChildren();","","// Copy both arrays inside the new one","for (const variable of array.getAllChildrenArray())","    target.pushVariableCopy(variable);","","for (const variable of otherArray.getAllChildrenArray())","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The first array","name":"Array","type":"scenevar"},{"description":"The second array","name":"OtherArray","type":"scenevar"},{"description":"The variable to store the new array in","name":"Target","type":"scenevar"}],"objectGroups":[]},{"description":"Appends a copy of all variables of one array to another array.","fullName":"Append all variable to another array","functionType":"Action","group":"Scene variables/Array manipulation","name":"AppendAll","sentence":"Append all elements from array _PARAM1_ into _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Copy both arrays inside the new one","for (const variable of array.getAllChildrenArray())","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to get the variables from","name":"Array","type":"scenevar"},{"description":"The variable to append the variables in","name":"Target","type":"scenevar"}],"objectGroups":[]},{"description":"Reverses children of an array. The first array child becomes the last, and the last array child becomes the first.","fullName":"Reverse an array","functionType":"Action","group":"Scene variables/Array manipulation","name":"Reverse","sentence":"Reverse array _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray().reverse();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to reverse","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Fill an element with a number.","fullName":"Fill array with number","functionType":"Action","group":"Scene variables/Array creation","name":"FillNumber","sentence":"Fill array _PARAM1_ with _PARAM2_ from index _PARAM3_ to index _PARAM4_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","const end = eventsFunctionContext.getArgument(\"End\") || internalArray.length - 1;","const value = eventsFunctionContext.getArgument(\"Value\");","","for (let i = eventsFunctionContext.getArgument(\"Begin\"); i <= end; i++)","    internalArray[i] = new gdjs.Variable({","        type: \"number\",","        value,","    });",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to fill","name":"Array","type":"scenevar"},{"description":"The number to fill","name":"Value","type":"expression"},{"description":"The index to start filling from","name":"Begin","type":"expression"},{"description":"The index to stop filling at","longDescription":"Set to 0 to fill until the end of the array.","name":"End","type":"expression"}],"objectGroups":[]},{"description":"Shuffles all children of an array.","fullName":"Shuffle array","functionType":"Action","group":"Scene variables/Array manipulation","name":"Shuffle","sentence":"Shuffle array _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray().sort(() => Math.random() - 0.5);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to shuffle","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Replaces all arrays inside of an array with their children. For example, [[1,2], [3,4]] becomes [1,2,3,4].","fullName":"Flatten array","functionType":"Action","group":"Scene variables/Array manipulation","name":"Flatten","sentence":"Flatten array _PARAM1_ (Deeply flatten: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","const deep = eventsFunctionContext.getArgument(\"Deep\");","","for (let i = 0; i < internalArray.length; i++) {","    if (internalArray[i].getType() === \"array\") {","        const childArray = internalArray[i].getAllChildrenArray();","        // At the position of the array (i), remove 1 element (the array), ","        // and insert elements of b (the contents of the array) in-place of the array.","        internalArray.splice(i, 1, ...childArray);","        // Skip over the elements that were just added as we are flattening only 1 level deep ","        if (!deep) i += childArray.length;","        // If deep, the current element has been replaced with another, we need to recheck it on next iteration.","        // If not deep, the current element is now the one after the array elements and needs to be checked too.","        // In both case, decreasing by 1 is necessary.","        i--;","    }","}",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to flatten","name":"Array","type":"scenevar"},{"description":"Deeply flatten","longDescription":"If yes, will continue flattening until there is no arrays in the array anymore.","name":"Deep","type":"yesorno"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and stores it in another variable.","fullName":"Pop array child","functionType":"Action","group":"Scene variables/Array access","name":"Pop","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","gdjs.Variable.copy(array.getAllChildrenArray().pop(), target, false);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to pop a child from","name":"Array","type":"scenevar"},{"description":"The variable to store the popped value into","name":"Target","type":"scenevar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and stores it in another variable.","fullName":"Shift array child","functionType":"Action","group":"Scene variables/Array access","name":"Shift","sentence":"Remove first child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","gdjs.Variable.copy(array.getAllChildrenArray().shift(), target, false);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to shift a child from","name":"Array","type":"scenevar"},{"description":"The variable to store the shifted value into","name":"Target","type":"scenevar"}],"objectGroups":[]},{"description":"Insert a variable at a specific index of an array.","fullName":"Insert variable at","functionType":"Action","group":"Scene variables/Array manipulation","name":"InsertAt","sentence":"Insert variable _PARAM3_ in _PARAM1_ at index _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */\r","const array = eventsFunctionContext.getArgument(\"Array\");\r","/** @type {gdjs.Variable} */\r","const target = eventsFunctionContext.getArgument(\"Target\");\r","\r","// Cast to array to ensure getAllChildrenArray returns the real array\r","array.castTo(\"array\");\r","\r","array\r","    .getAllChildrenArray()\r","    .splice(eventsFunctionContext.getArgument(\"Index\"), 0, target.clone());\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to insert a variable in","name":"Array","type":"scenevar"},{"description":"The index to insert the variable at","name":"Index","type":"expression"},{"description":"The name of the variable to insert","name":"Target","type":"scenevar"}],"objectGroups":[]},{"description":"Split a string into an array of strings via a separator.","fullName":"Split string into array","functionType":"Action","group":"Scene variables/Array creation","name":"SplitString","sentence":"Split string _PARAM1_ via separator _PARAM2_ into array _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const stringToSplit = eventsFunctionContext.getArgument(\"String\");","const separator = eventsFunctionContext.getArgument(\"Separator\");","","// Ensure the target is a clean new array","array.castTo(\"array\");","array.clearChildren();","","for (const stringFragment of stringToSplit.split(separator))","    array.pushValue(stringFragment);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The string to split","name":"String","type":"string"},{"description":"The separator to use to split the string","longDescription":"For example, if you have a string \"Hello World\", and the separator is a space (\" \"), the resulting array would be [\"Hello\", \"World\"]. If the separator is an empty string (\"\"), it will make an element per character ([\"H\", \"e\", \"l\", \"l\", \"o\", \" \", \"W\", \"o\", \"r\", \"l\", \"d\"]).","name":"Separator","type":"string"},{"description":"Array where to store the results","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Returns a string made from all strings in an array.","fullName":"Join all elements of an array together into a string","functionType":"StringExpression","group":"Scene variables/String arrays","name":"Join","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */\r","const array = eventsFunctionContext.getArgument(\"Array\");\r","const separator = eventsFunctionContext.getArgument(\"Separator\");\r","\r","eventsFunctionContext.returnValue = array\r","    .getAllChildrenArray()\r","    .reduce((accumulator, current) => accumulator + separator + current.getAsString(), \"\")\r","    // Remove first separator as it should be only between the strings\r","    .slice(separator.length);\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"The name of the array to join into a string","name":"Array","type":"scenevar"},{"description":"Optional separator text between each element","name":"Separator","type":"string"}],"objectGroups":[]},{"description":"Get the sum of all numbers in an array.","fullName":"Sum of array children","functionType":"Expression","group":"Scene variables/Number arrays","name":"Sum","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    eventsFunctionContext.getArgument(\"Array\")","        .getAllChildrenArray()","        .reduce((accumulator, current) => accumulator + current.getAsNumber(), 0);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Gets the smallest number in an array.","fullName":"Smallest value","functionType":"Expression","group":"Scene variables/Number arrays","name":"Min","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","const len = internalArray.length;\r","\r","if (len === 0) {\r","    eventsFunctionContext.returnValue = 0;\r","    return;\r","}\r","\r","let min = internalArray[0].getAsNumber();\r","\r","if (len === 1) {\r","    eventsFunctionContext.returnValue = min;\r","    return;\r","}\r","\r","for (let i = 1; i < len; i++) {\r","    const num = internalArray[i].getAsNumber();\r","    if (num < min) min = num;\r","}\r","\r","eventsFunctionContext.returnValue = min;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Gets the biggest number in an array.","fullName":"Biggest value","functionType":"Expression","group":"Scene variables/Number arrays","name":"Max","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","const len = internalArray.length;\r","\r","if (len === 0) {\r","    eventsFunctionContext.returnValue = 0;\r","    return;\r","}\r","\r","let max = internalArray[0].getAsNumber();\r","\r","if (len === 1) {\r","    eventsFunctionContext.returnValue = max;\r","    return;\r","}\r","\r","for (let i = 1; i < len; i++) {\r","    const num = internalArray[i].getAsNumber();\r","    if (num > max) max = num;\r","}\r","\r","eventsFunctionContext.returnValue = max;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Gets the average number in an array.","fullName":"Average value","functionType":"Expression","group":"Scene variables/Number arrays","name":"Mean","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","\r","eventsFunctionContext.returnValue =\r","    internalArray.reduce(\r","        (accumulator, current) => accumulator + current.getAsNumber(), 0\r","    ) / internalArray.length;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Gets the median number in an array.","fullName":"Median value","functionType":"Expression","group":"Scene variables/Number arrays","name":"Median","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","\r","const sortedCopy = internalArray.slice().sort((a, b) => {\r","    const na = a.getAsNumber();\r","    const nb = b.getAsNumber();\r","    return na < nb ? -1 : na > nb ? 1 : 0;\r","})\r","const i = sortedCopy.length / 2;\r","\r","eventsFunctionContext.returnValue =\r","    i % 1 === 0\r","        ? (sortedCopy[i - 1].getAsNumber() + sortedCopy[i].getAsNumber()) / 2\r","        : sortedCopy[Math.trunc(i)].getAsNumber();\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"Sort an array of number from smallest to biggest.","fullName":"Sort an array","functionType":"Action","group":"Scene variables/Number arrays","name":"Sort","sentence":"Sort array _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray()","    .sort((a, b) => {","        const na = a.getAsNumber();","        const nb = b.getAsNumber();","        return na < nb ? -1 : na > nb ? 1 : 0;","    });",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The array to sort","name":"Array","type":"scenevar"}],"objectGroups":[]},{"description":"The index of the first variable that equals to a specific number in an array.","fullName":"Index of number","functionType":"ExpressionAndCondition","group":"Global variables/Array search","name":"GlobalIndexOf","sentence":"The first index where _PARAM2_ can be found in _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findIndex(child => child.getAsNumber() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to search the value in","name":"Array","type":"globalvar"},{"description":"Number to search in the array","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"The index of the first variable that equals to a specific text in an array.","fullName":"Index of text","functionType":"ExpressionAndCondition","group":"Global variables/Array search","name":"GlobalIndexOfStr","sentence":"The first index where _PARAM2_ can be found in _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findIndex(child => child.getAsString() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to search the value in","name":"Array","type":"globalvar"},{"description":"String to search in the array","name":"Value","type":"string"}],"objectGroups":[]},{"description":"The index of the last variable that equals to a specific number in an array.","fullName":"Last index of number","functionType":"ExpressionAndCondition","group":"Global variables/Array search","name":"GlobalLastIndexOf","sentence":"The last index where _PARAM2_ can be found in _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue = ","    array.getAllChildrenArray().findLastIndex(child => child.getAsNumber() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to search the value in","name":"Array","type":"globalvar"},{"description":"Number to search in the array","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"The index of the last variable that equals to a specific text in an array.","fullName":"Last index of text","functionType":"ExpressionAndCondition","group":"Global variables/Array search","name":"GlobalLastIndexOfStr","sentence":"The last index where _PARAM2_ can be found in _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findLastIndex(child => child.getAsString() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to search the value in","name":"Array","type":"globalvar"},{"description":"String to search in the array","name":"Value","type":"string"}],"objectGroups":[]},{"description":"Returns a random number of an array of numbers.","fullName":"Random number in array","functionType":"ExpressionAndCondition","group":"Global variables/Array access","name":"GlobalRandomNumberInArray","sentence":"A randomly picked number of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const internalArray = array.getAllChildrenArray();","","eventsFunctionContext.returnValue = internalArray.length === 0","    ? 0","    : internalArray[Math.floor(Math.random() * internalArray.length)].getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to get a number from","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"a random string of an array of strings.","fullName":"Random string in array","functionType":"ExpressionAndCondition","group":"Global variables/Array access","name":"GlobalRandomStringInArray","sentence":"A randomly picked string of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const internalArray = array.getAllChildrenArray();","","eventsFunctionContext.returnValue = internalArray.length === 0","    ? \"\"","    : internalArray[Math.floor(Math.random() * internalArray.length)].getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"Array to get a string from","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and return it as a number.","fullName":"Get and remove last variable from array (as number)","functionType":"ExpressionAndCondition","group":"Global variables/Array access","name":"GlobalPopNumber","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().pop().getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to pop a child from","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and return it as a string.","fullName":"Pop string from array","functionType":"StringExpression","group":"Global variables/Array access","name":"GlobalPopString","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().pop().getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"Array to pop a child from","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and return it as a number.","fullName":"Shift number from array","functionType":"Expression","group":"Global variables/Array access","name":"GlobalShiftNumber","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().shift().getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"Array to shift a child from","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and return it as a string.","fullName":"Shift string from array","functionType":"StringExpression","group":"Global variables/Array access","name":"GlobalShiftString","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().shift().getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"Array to shift a child from","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Checks if an array contains a specific number.","fullName":"Array has number","functionType":"Condition","group":"Global variables/Array search","name":"GlobalHasNumber","sentence":"Array _PARAM1_ has number _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CopyArgumentToVariable"},"parameters":["\"Array\"","__ArrayTools.Temp"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["ArrayTools::IndexOf(__ArrayTools.Temp, GetArgumentAsNumber(\"Value\"))","!=","-1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Array to search the value in","name":"Array","type":"globalvar"},{"description":"The number to search","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Checks if an array contains a specific string.","fullName":"Array has string","functionType":"Condition","group":"Global variables/Array search","name":"GlobalHasString","sentence":"Array _PARAM1_ has string _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CopyArgumentToVariable"},"parameters":["\"Array\"","__ArrayTools.Temp"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["ArrayTools::IndexOfStr(__ArrayTools.Temp, GetArgumentAsString(\"Value\"))","!=","-1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Array to search the value in","name":"Array","type":"globalvar"},{"description":"The text to search","name":"Value","type":"string"}],"objectGroups":[]},{"description":"Copies a portion of a scene array variable into a new scene array variable.","fullName":"Slice an array","functionType":"Action","group":"Global variables/Array creation","name":"GlobalSlice","sentence":"Slice array _PARAM1_ from indices _PARAM3_ to _PARAM4_ into _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Ensure the target is a clean new array","target.castTo(\"array\");","target.clearChildren();","","// Slice the original array","const slice = array","    .getAllChildrenArray()","    .slice(","        eventsFunctionContext.getArgument(\"Begin\"),","        // The `|| undefined` replaces 0 with undefined, as having the argument as 0 ","        // would make the array empty and is therefore useless.","        // With undefined though, it doesn't stop until the end of the array,","        // which is purposeful.","        eventsFunctionContext.getArgument(\"End\") || undefined","    );","","// Copy each variable of the slice into the new array","for (const variable of slice)","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to take a slice from","name":"Array","type":"globalvar"},{"description":"The array to store the slice into","name":"Target","type":"globalvar"},{"description":"The index to start the slice from","name":"Begin","type":"expression"},{"description":"The index to end the slice at","longDescription":"Set to 0 to copy all of the array. If you use a negative value, the index will be selected beginning from the end.  \nFor example, slicing an array with 5 elements from 0 to -1 would take only elements from indices 0 to 3.","name":"End","type":"expression"}],"objectGroups":[]},{"description":"Cuts a portion of an array off.","fullName":"Splice an array","functionType":"Action","group":"Global variables/Array manipulation","name":"GlobalSplice","sentence":"Remove _PARAM3_ items from array _PARAM1_ starting from index _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","","internalArray.splice(","    eventsFunctionContext.getArgument(\"Begin\"),","    // Replaces 0 with the legth of the array, as having the argument as 0 ","    // would not remove anything and is therefore useless.","    eventsFunctionContext.getArgument(\"Count\") || internalArray.length",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to remove items from","name":"Array","type":"globalvar"},{"description":"The index to start removing from","longDescription":"If you use a negative value, the index will be selected beginning from the end.","name":"Begin","type":"expression"},{"description":"The amount of elements to remove","longDescription":"Set to 0 to remove until the end of the array.","name":"Count","type":"expression"}],"objectGroups":[]},{"description":"Combines all elements of 2 scene arrays into one new scene array.","fullName":"Combine 2 arrays","functionType":"Action","group":"Global variables/Array creation","name":"GlobalConcatenate","sentence":"Combine array _PARAM1_ and _PARAM2_ into _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const otherArray = eventsFunctionContext.getArgument(\"OtherArray\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Ensure the target is a clean new array","target.castTo(\"array\");","target.clearChildren();","","// Copy both arrays inside the new one","for (const variable of array.getAllChildrenArray())","    target.pushVariableCopy(variable);","","for (const variable of otherArray.getAllChildrenArray())","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The first array","name":"Array","type":"globalvar"},{"description":"The second array","name":"OtherArray","type":"globalvar"},{"description":"The variable to store the new array in","name":"Target","type":"globalvar"}],"objectGroups":[]},{"description":"Appends a copy of all variables of one array to another array.","fullName":"Append all variable to another array","functionType":"Action","group":"Global variables/Array manipulation","name":"GlobalAppendAll","sentence":"Append all elements from array _PARAM1_ into _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Copy both arrays inside the new one","for (const variable of array.getAllChildrenArray())","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to get the variables from","name":"Array","type":"globalvar"},{"description":"The variable to append the variables in","name":"Target","type":"globalvar"}],"objectGroups":[]},{"description":"Reverses children of an array. The first array child becomes the last, and the last array child becomes the first.","fullName":"Reverse an array","functionType":"Action","group":"Global variables/Array manipulation","name":"GlobalReverse","sentence":"Reverse array _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray().reverse();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to reverse","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Fill an element with a number.","fullName":"Fill array with number","functionType":"Action","group":"Global variables/Array creation","name":"GlobalFillNumber","sentence":"Fill array _PARAM1_ with _PARAM2_ from index _PARAM3_ to index _PARAM4_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","const end = eventsFunctionContext.getArgument(\"End\") || internalArray.length - 1;","const value = eventsFunctionContext.getArgument(\"Value\");","","for (let i = eventsFunctionContext.getArgument(\"Begin\"); i <= end; i++)","    internalArray[i] = new gdjs.Variable({","        type: \"number\",","        value,","    });",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to fill","name":"Array","type":"globalvar"},{"description":"The number to fill","name":"Value","type":"expression"},{"description":"The index to start filling from","name":"Begin","type":"expression"},{"description":"The index to stop filling at","longDescription":"Set to 0 to fill until the end of the array.","name":"End","type":"expression"}],"objectGroups":[]},{"description":"Shuffles all children of an array.","fullName":"Shuffle array","functionType":"Action","group":"Global variables/Array manipulation","name":"GlobalShuffle","sentence":"Shuffle array _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray().sort(() => Math.random() - 0.5);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to shuffle","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Replaces all arrays inside of an array with their children. For example, [[1,2], [3,4]] becomes [1,2,3,4].","fullName":"Flatten array","functionType":"Action","group":"Global variables/Array manipulation","name":"GlobalFlatten","sentence":"Flatten array _PARAM1_ (Deeply flatten: _PARAM2_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","const deep = eventsFunctionContext.getArgument(\"Deep\");","","for (let i = 0; i < internalArray.length; i++) {","    if (internalArray[i].getType() === \"array\") {","        const childArray = internalArray[i].getAllChildrenArray();","        // At the position of the array (i), remove 1 element (the array), ","        // and insert elements of b (the contents of the array) in-place of the array.","        internalArray.splice(i, 1, ...childArray);","        // Skip over the elements that were just added as we are flattening only 1 level deep ","        if (!deep) i += childArray.length;","        // If deep, the current element has been replaced with another, we need to recheck it on next iteration.","        // If not deep, the current element is now the one after the array elements and needs to be checked too.","        // In both case, decreasing by 1 is necessary.","        i--;","    }","}",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to flatten","name":"Array","type":"globalvar"},{"description":"Deeply flatten","longDescription":"If yes, will continue flattening until there is no arrays in the array anymore.","name":"Deep","type":"yesorno"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and stores it in another variable.","fullName":"Pop array child","functionType":"Action","group":"Global variables/Array access","name":"GlobalPop","sentence":"Remove last child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","gdjs.Variable.copy(array.getAllChildrenArray().pop(), target, false);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to pop a child from","name":"Array","type":"globalvar"},{"description":"The variable to store the popped value into","name":"Target","type":"globalvar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and stores it in another variable.","fullName":"Shift array child","functionType":"Action","group":"Global variables/Array access","name":"GlobalShift","sentence":"Remove first child of _PARAM1_ and store it in _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","gdjs.Variable.copy(array.getAllChildrenArray().shift(), target, false);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to shift a child from","name":"Array","type":"globalvar"},{"description":"The variable to store the shifted value into","name":"Target","type":"globalvar"}],"objectGroups":[]},{"description":"Insert a variable at a specific index of an array.","fullName":"Insert variable at","functionType":"Action","group":"Global variables/Array manipulation","name":"GlobalInsertAt","sentence":"Insert variable _PARAM3_ in _PARAM1_ at index _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */\r","const array = eventsFunctionContext.getArgument(\"Array\");\r","/** @type {gdjs.Variable} */\r","const target = eventsFunctionContext.getArgument(\"Target\");\r","\r","// Cast to array to ensure getAllChildrenArray returns the real array\r","array.castTo(\"array\");\r","\r","array\r","    .getAllChildrenArray()\r","    .splice(eventsFunctionContext.getArgument(\"Index\"), 0, target.clone());\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The array to insert a variable in","name":"Array","type":"globalvar"},{"description":"The index to insert the variable at","name":"Index","type":"expression"},{"description":"The name of the variable to insert","name":"Target","type":"globalvar"}],"objectGroups":[]},{"description":"Split a string into an array of strings via a separator.","fullName":"Split string into array","functionType":"Action","group":"Global variables/Array creation","name":"GlobalSplitString","sentence":"Split string _PARAM1_ via separator _PARAM2_ into array _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const stringToSplit = eventsFunctionContext.getArgument(\"String\");","const separator = eventsFunctionContext.getArgument(\"Separator\");","","// Ensure the target is a clean new array","array.castTo(\"array\");","array.clearChildren();","","for (const stringFragment of stringToSplit.split(separator))","    array.pushValue(stringFragment);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The string to split","name":"String","type":"string"},{"description":"The separator to use to split the string","longDescription":"For example, if you have a string \"Hello World\", and the separator is a space (\" \"), the resulting array would be [\"Hello\", \"World\"]. If the separator is an empty string (\"\"), it will make an element per character ([\"H\", \"e\", \"l\", \"l\", \"o\", \" \", \"W\", \"o\", \"r\", \"l\", \"d\"]).","name":"Separator","type":"string"},{"description":"Array where to store the results","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Returns a string made from all strings in an array.","fullName":"Join all elements of an array together into a string","functionType":"StringExpression","group":"Global variables/String arrays","name":"GlobalJoin","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */\r","const array = eventsFunctionContext.getArgument(\"Array\");\r","const separator = eventsFunctionContext.getArgument(\"Separator\");\r","\r","eventsFunctionContext.returnValue = array\r","    .getAllChildrenArray()\r","    .reduce((accumulator, current) => accumulator + separator + current.getAsString(), \"\")\r","    // Remove first separator as it should be only between the strings\r","    .slice(separator.length);\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"The name of the array to join into a string","name":"Array","type":"globalvar"},{"description":"Optional separator text between each element","name":"Separator","type":"string"}],"objectGroups":[]},{"description":"Get the sum of all numbers in an array.","fullName":"Sum of array children","functionType":"Expression","group":"Global variables/Number arrays","name":"GlobalSum","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    eventsFunctionContext.getArgument(\"Array\")","        .getAllChildrenArray()","        .reduce((accumulator, current) => accumulator + current.getAsNumber(), 0);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Gets the smallest number in an array.","fullName":"Smallest value","functionType":"Expression","group":"Global variables/Number arrays","name":"GlobalMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","const len = internalArray.length;\r","\r","if (len === 0) {\r","    eventsFunctionContext.returnValue = 0;\r","    return;\r","}\r","\r","let min = internalArray[0].getAsNumber();\r","\r","if (len === 1) {\r","    eventsFunctionContext.returnValue = min;\r","    return;\r","}\r","\r","for (let i = 1; i < len; i++) {\r","    const num = internalArray[i].getAsNumber();\r","    if (num < min) min = num;\r","}\r","\r","eventsFunctionContext.returnValue = min;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Gets the biggest number in an array.","fullName":"Biggest value","functionType":"Expression","group":"Global variables/Number arrays","name":"GlobalMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","const len = internalArray.length;\r","\r","if (len === 0) {\r","    eventsFunctionContext.returnValue = 0;\r","    return;\r","}\r","\r","let max = internalArray[0].getAsNumber();\r","\r","if (len === 1) {\r","    eventsFunctionContext.returnValue = max;\r","    return;\r","}\r","\r","for (let i = 1; i < len; i++) {\r","    const num = internalArray[i].getAsNumber();\r","    if (num > max) max = num;\r","}\r","\r","eventsFunctionContext.returnValue = max;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Gets the average number in an array.","fullName":"Average value","functionType":"Expression","group":"Global variables/Number arrays","name":"GlobalMean","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","\r","eventsFunctionContext.returnValue =\r","    internalArray.reduce(\r","        (accumulator, current) => accumulator + current.getAsNumber(), 0\r","    ) / internalArray.length;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Gets the median number in an array.","fullName":"Median value","functionType":"Expression","group":"Global variables/Number arrays","name":"GlobalMedian","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","\r","const sortedCopy = internalArray.slice().sort((a, b) => {\r","    const na = a.getAsNumber();\r","    const nb = b.getAsNumber();\r","    return na < nb ? -1 : na > nb ? 1 : 0;\r","})\r","const i = sortedCopy.length / 2;\r","\r","eventsFunctionContext.returnValue =\r","    i % 1 === 0\r","        ? (sortedCopy[i - 1].getAsNumber() + sortedCopy[i].getAsNumber()) / 2\r","        : sortedCopy[Math.trunc(i)].getAsNumber();\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The array","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"Sort an array of number from smallest to biggest.","fullName":"Sort an array","functionType":"Action","group":"Global variables/Number arrays","name":"GlobalSort","sentence":"Sort array _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray()","    .sort((a, b) => {","        const na = a.getAsNumber();","        const nb = b.getAsNumber();","        return na < nb ? -1 : na > nb ? 1 : 0;","    });",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The array to sort","name":"Array","type":"globalvar"}],"objectGroups":[]},{"description":"The index of the first variable that equals to a specific number in an array.","fullName":"Index of number","functionType":"ExpressionAndCondition","group":"Object variables/Array search","name":"ObjectIndexOf","sentence":"The first index where _PARAM3_ can be found in _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findIndex(child => child.getAsNumber() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to search the value in","name":"Array","type":"objectvar"},{"description":"Number to search in the array","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"The index of the first variable that equals to a specific text in an array.","fullName":"Index of text","functionType":"ExpressionAndCondition","group":"Object variables/Array search","name":"ObjectIndexOfStr","sentence":"The first index where _PARAM3_ can be found in _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findIndex(child => child.getAsString() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to search the value in","name":"Array","type":"objectvar"},{"description":"String to search in the array","name":"Value","type":"string"}],"objectGroups":[]},{"description":"The index of the last variable that equals to a specific number in an array.","fullName":"Last index of number","functionType":"ExpressionAndCondition","group":"Object variables/Array search","name":"ObjectLastIndexOf","sentence":"The last index where _PARAM3_ can be found in _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue = ","    array.getAllChildrenArray().findLastIndex(child => child.getAsNumber() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to search the value in","name":"Array","type":"objectvar"},{"description":"Number to search in the array","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"The index of the last variable that equals to a specific text in an array.","fullName":"Last index of text","functionType":"ExpressionAndCondition","group":"Object variables/Array search","name":"ObjectLastIndexOfStr","sentence":"The last index where _PARAM3_ can be found in _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const value = eventsFunctionContext.getArgument(\"Value\");","","eventsFunctionContext.returnValue =","    array.getAllChildrenArray().findLastIndex(child => child.getAsString() === value);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to search the value in","name":"Array","type":"objectvar"},{"description":"String to search in the array","name":"Value","type":"string"}],"objectGroups":[]},{"description":"Returns a random number of an array of numbers.","fullName":"Random number in array","functionType":"ExpressionAndCondition","group":"Object variables/Array access","name":"ObjectRandomNumberInArray","sentence":"A randomly picked number of _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const internalArray = array.getAllChildrenArray();","","eventsFunctionContext.returnValue = internalArray.length === 0","    ? 0","    : internalArray[Math.floor(Math.random() * internalArray.length)].getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to get a number from","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"a random string of an array of strings.","fullName":"Random string in array","functionType":"ExpressionAndCondition","group":"Object variables/Array access","name":"ObjectRandomStringInArray","sentence":"A randomly picked string of _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const internalArray = array.getAllChildrenArray();","","eventsFunctionContext.returnValue = internalArray.length === 0","    ? \"\"","    : internalArray[Math.floor(Math.random() * internalArray.length)].getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to get a string from","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and return it as a number.","fullName":"Get and remove last variable from array (as number)","functionType":"ExpressionAndCondition","group":"Object variables/Array access","name":"ObjectPopNumber","sentence":"Remove last child of _PARAM2_ of _PARAM1_ and store it in _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().pop().getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to pop a child from","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and return it as a string.","fullName":"Pop string from array","functionType":"StringExpression","group":"Object variables/Array access","name":"ObjectPopString","sentence":"Remove last child of _PARAM2_ of _PARAM1_ and store it in _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().pop().getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to pop a child from","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and return it as a number.","fullName":"Shift number from array","functionType":"Expression","group":"Object variables/Array access","name":"ObjectShiftNumber","sentence":"Remove last child of _PARAM2_ of _PARAM1_ and store it in _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().shift().getAsNumber();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to shift a child from","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and return it as a string.","fullName":"Shift string from array","functionType":"StringExpression","group":"Object variables/Array access","name":"ObjectShiftString","sentence":"Remove last child of _PARAM2_ of _PARAM1_ and store it in _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","eventsFunctionContext.returnValue = array.getAllChildrenArray().shift().getAsString();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to shift a child from","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Checks if an array contains a specific number.","fullName":"Array has number","functionType":"Condition","group":"Object variables/Array search","name":"ObjectHasNumber","sentence":"Array _PARAM2_ of _PARAM1_ has number _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CopyArgumentToVariable"},"parameters":["\"Array\"","__ArrayTools.Temp"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["ArrayTools::IndexOf(__ArrayTools.Temp, GetArgumentAsNumber(\"Value\"))","!=","-1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to search the value in","name":"Array","type":"objectvar"},{"description":"The number to search","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Checks if an array contains a specific string.","fullName":"Array has string","functionType":"Condition","group":"Object variables/Array search","name":"ObjectHasString","sentence":"Array _PARAM2_ of _PARAM1_ has string _PARAM3_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CopyArgumentToVariable"},"parameters":["\"Array\"","__ArrayTools.Temp"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["ArrayTools::IndexOfStr(__ArrayTools.Temp, GetArgumentAsString(\"Value\"))","!=","-1"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array to search the value in","name":"Array","type":"objectvar"},{"description":"The text to search","name":"Value","type":"string"}],"objectGroups":[]},{"description":"Copies a portion of a scene array variable into a new scene array variable.","fullName":"Slice an array","functionType":"Action","group":"Object variables/Array creation","name":"ObjectSlice","sentence":"Slice array _PARAM2_ of _PARAM1_ from indices _PARAM5_ to _PARAM6_ into _PARAM4_ of _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Ensure the target is a clean new array","target.castTo(\"array\");","target.clearChildren();","","// Slice the original array","const slice = array","    .getAllChildrenArray()","    .slice(","        eventsFunctionContext.getArgument(\"Begin\"),","        // The `|| undefined` replaces 0 with undefined, as having the argument as 0 ","        // would make the array empty and is therefore useless.","        // With undefined though, it doesn't stop until the end of the array,","        // which is purposeful.","        eventsFunctionContext.getArgument(\"End\") || undefined","    );","","// Copy each variable of the slice into the new array","for (const variable of slice)","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to take a slice from","name":"Array","type":"objectvar"},{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to store the slice into","name":"Target","type":"objectvar"},{"description":"The index to start the slice from","name":"Begin","type":"expression"},{"description":"The index to end the slice at","longDescription":"Set to 0 to copy all of the array. If you use a negative value, the index will be selected beginning from the end.  \nFor example, slicing an array with 5 elements from 0 to -1 would take only elements from indices 0 to 3.","name":"End","type":"expression"}],"objectGroups":[]},{"description":"Cuts a portion of an array off.","fullName":"Splice an array","functionType":"Action","group":"Object variables/Array manipulation","name":"ObjectSplice","sentence":"Remove _PARAM4_ items from array _PARAM2_ of _PARAM1_ starting from index _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","","internalArray.splice(","    eventsFunctionContext.getArgument(\"Begin\"),","    // Replaces 0 with the legth of the array, as having the argument as 0 ","    // would not remove anything and is therefore useless.","    eventsFunctionContext.getArgument(\"Count\") || internalArray.length",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to remove items from","name":"Array","type":"objectvar"},{"description":"The index to start removing from","longDescription":"If you use a negative value, the index will be selected beginning from the end.","name":"Begin","type":"expression"},{"description":"The amount of elements to remove","longDescription":"Set to 0 to remove until the end of the array.","name":"Count","type":"expression"}],"objectGroups":[]},{"description":"Combines all elements of 2 scene arrays into one new scene array.","fullName":"Combine 2 arrays","functionType":"Action","group":"Object variables/Array creation","name":"ObjectConcatenate","sentence":"Combine array _PARAM2_ of _PARAM1_ and _PARAM4_ of _PARAM3_ into _PARAM6_ of _PARAM5_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const otherArray = eventsFunctionContext.getArgument(\"OtherArray\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Ensure the target is a clean new array","target.castTo(\"array\");","target.clearChildren();","","// Copy both arrays inside the new one","for (const variable of array.getAllChildrenArray())","    target.pushVariableCopy(variable);","","for (const variable of otherArray.getAllChildrenArray())","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The first array","name":"Array","type":"objectvar"},{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The second array","name":"OtherArray","type":"objectvar"},{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The variable to store the new array in","name":"Target","type":"objectvar"}],"objectGroups":[]},{"description":"Appends a copy of all variables of one array to another array.","fullName":"Append all variable to another array","functionType":"Action","group":"Object variables/Array manipulation","name":"ObjectAppendAll","sentence":"Append all elements from array _PARAM2_ of _PARAM1_ into _PARAM4_ of _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Copy both arrays inside the new one","for (const variable of array.getAllChildrenArray())","    target.pushVariableCopy(variable);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to get the variables from","name":"Array","type":"objectvar"},{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The variable to append the variables in","name":"Target","type":"objectvar"}],"objectGroups":[]},{"description":"Reverses children of an array. The first array child becomes the last, and the last array child becomes the first.","fullName":"Reverse an array","functionType":"Action","group":"Object variables/Array manipulation","name":"ObjectReverse","sentence":"Reverse array _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray().reverse();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to reverse","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Fill an element with a number.","fullName":"Fill array with number","functionType":"Action","group":"Object variables/Array creation","name":"ObjectFillNumber","sentence":"Fill array _PARAM2_ of _PARAM1_ with _PARAM3_ from index _PARAM4_ to index _PARAM5_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","const end = eventsFunctionContext.getArgument(\"End\") || internalArray.length - 1;","const value = eventsFunctionContext.getArgument(\"Value\");","","for (let i = eventsFunctionContext.getArgument(\"Begin\"); i <= end; i++)","    internalArray[i] = new gdjs.Variable({","        type: \"number\",","        value,","    });",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to fill","name":"Array","type":"objectvar"},{"description":"The number to fill","name":"Value","type":"expression"},{"description":"The index to start filling from","name":"Begin","type":"expression"},{"description":"The index to stop filling at","longDescription":"Set to 0 to fill until the end of the array.","name":"End","type":"expression"}],"objectGroups":[]},{"description":"Shuffles all children of an array.","fullName":"Shuffle array","functionType":"Action","group":"Object variables/Array manipulation","name":"ObjectShuffle","sentence":"Shuffle array _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray().sort(() => Math.random() - 0.5);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to shuffle","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Replaces all arrays inside of an array with their children. For example, [[1,2], [3,4]] becomes [1,2,3,4].","fullName":"Flatten array","functionType":"Action","group":"Object variables/Array manipulation","name":"ObjectFlatten","sentence":"Flatten array _PARAM2_ of _PARAM1_ (Deeply flatten: _PARAM3_)","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","const internalArray = array.getAllChildrenArray();","const deep = eventsFunctionContext.getArgument(\"Deep\");","","for (let i = 0; i < internalArray.length; i++) {","    if (internalArray[i].getType() === \"array\") {","        const childArray = internalArray[i].getAllChildrenArray();","        // At the position of the array (i), remove 1 element (the array), ","        // and insert elements of b (the contents of the array) in-place of the array.","        internalArray.splice(i, 1, ...childArray);","        // Skip over the elements that were just added as we are flattening only 1 level deep ","        if (!deep) i += childArray.length;","        // If deep, the current element has been replaced with another, we need to recheck it on next iteration.","        // If not deep, the current element is now the one after the array elements and needs to be checked too.","        // In both case, decreasing by 1 is necessary.","        i--;","    }","}",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to flatten","name":"Array","type":"objectvar"},{"description":"Deeply flatten","longDescription":"If yes, will continue flattening until there is no arrays in the array anymore.","name":"Deep","type":"yesorno"}],"objectGroups":[]},{"description":"Removes the last array child of an array, and stores it in another variable.","fullName":"Pop array child","functionType":"Action","group":"Object variables/Array access","name":"ObjectPop","sentence":"Remove last child of _PARAM2_ of _PARAM1_ and store it in _PARAM4_ of _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","gdjs.Variable.copy(array.getAllChildrenArray().pop(), target, false);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to pop a child from","name":"Array","type":"objectvar"},{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The variable to store the popped value into","name":"Target","type":"objectvar"}],"objectGroups":[]},{"description":"Removes the first array child of an array, and stores it in another variable.","fullName":"Shift array child","functionType":"Action","group":"Object variables/Array access","name":"ObjectShift","sentence":"Remove first child of _PARAM2_ of _PARAM1_ and store it in _PARAM4_ of _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","/** @type {gdjs.Variable} */","const target = eventsFunctionContext.getArgument(\"Target\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","gdjs.Variable.copy(array.getAllChildrenArray().shift(), target, false);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to shift a child from","name":"Array","type":"objectvar"},{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The variable to store the shifted value into","name":"Target","type":"objectvar"}],"objectGroups":[]},{"description":"Insert a variable at a specific index of an array.","fullName":"Insert variable at","functionType":"Action","group":"Object variables/Array manipulation","name":"ObjectInsertAt","sentence":"Insert variable _PARAM5_ of _PARAM4_ in _PARAM2_ of _PARAM1_ at index _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */\r","const array = eventsFunctionContext.getArgument(\"Array\");\r","/** @type {gdjs.Variable} */\r","const target = eventsFunctionContext.getArgument(\"Target\");\r","\r","// Cast to array to ensure getAllChildrenArray returns the real array\r","array.castTo(\"array\");\r","\r","array\r","    .getAllChildrenArray()\r","    .splice(eventsFunctionContext.getArgument(\"Index\"), 0, target.clone());\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to insert a variable in","name":"Array","type":"objectvar"},{"description":"The index to insert the variable at","name":"Index","type":"expression"},{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The name of the variable to insert","name":"Target","type":"objectvar"}],"objectGroups":[]},{"description":"Split a string into an array of strings via a separator.","fullName":"Split string into array","functionType":"Action","group":"Object variables/Array creation","name":"ObjectSplitString","sentence":"Split string _PARAM1_ via separator _PARAM2_ into array _PARAM4_ of _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","const stringToSplit = eventsFunctionContext.getArgument(\"String\");","const separator = eventsFunctionContext.getArgument(\"Separator\");","","// Ensure the target is a clean new array","array.castTo(\"array\");","array.clearChildren();","","for (const stringFragment of stringToSplit.split(separator))","    array.pushValue(stringFragment);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"The string to split","name":"String","type":"string"},{"description":"The separator to use to split the string","longDescription":"For example, if you have a string \"Hello World\", and the separator is a space (\" \"), the resulting array would be [\"Hello\", \"World\"]. If the separator is an empty string (\"\"), it will make an element per character ([\"H\", \"e\", \"l\", \"l\", \"o\", \" \", \"W\", \"o\", \"r\", \"l\", \"d\"]).","name":"Separator","type":"string"},{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"Array where to store the results","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Returns a string made from all strings in an array.","fullName":"Join all elements of an array together into a string","functionType":"StringExpression","group":"Object variables/String arrays","name":"ObjectJoin","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */\r","const array = eventsFunctionContext.getArgument(\"Array\");\r","const separator = eventsFunctionContext.getArgument(\"Separator\");\r","\r","eventsFunctionContext.returnValue = array\r","    .getAllChildrenArray()\r","    .reduce((accumulator, current) => accumulator + separator + current.getAsString(), \"\")\r","    // Remove first separator as it should be only between the strings\r","    .slice(separator.length);\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"string"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The name of the array to join into a string","name":"Array","type":"objectvar"},{"description":"Optional separator text between each element","name":"Separator","type":"string"}],"objectGroups":[]},{"description":"Get the sum of all numbers in an array.","fullName":"Sum of array children","functionType":"Expression","group":"Object variables/Number arrays","name":"ObjectSum","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["eventsFunctionContext.returnValue =","    eventsFunctionContext.getArgument(\"Array\")","        .getAllChildrenArray()","        .reduce((accumulator, current) => accumulator + current.getAsNumber(), 0);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Gets the smallest number in an array.","fullName":"Smallest value","functionType":"Expression","group":"Object variables/Number arrays","name":"ObjectMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","const len = internalArray.length;\r","\r","if (len === 0) {\r","    eventsFunctionContext.returnValue = 0;\r","    return;\r","}\r","\r","let min = internalArray[0].getAsNumber();\r","\r","if (len === 1) {\r","    eventsFunctionContext.returnValue = min;\r","    return;\r","}\r","\r","for (let i = 1; i < len; i++) {\r","    const num = internalArray[i].getAsNumber();\r","    if (num < min) min = num;\r","}\r","\r","eventsFunctionContext.returnValue = min;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Gets the biggest number in an array.","fullName":"Biggest value","functionType":"Expression","group":"Object variables/Number arrays","name":"ObjectMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","const len = internalArray.length;\r","\r","if (len === 0) {\r","    eventsFunctionContext.returnValue = 0;\r","    return;\r","}\r","\r","let max = internalArray[0].getAsNumber();\r","\r","if (len === 1) {\r","    eventsFunctionContext.returnValue = max;\r","    return;\r","}\r","\r","for (let i = 1; i < len; i++) {\r","    const num = internalArray[i].getAsNumber();\r","    if (num > max) max = num;\r","}\r","\r","eventsFunctionContext.returnValue = max;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Gets the average number in an array.","fullName":"Average value","functionType":"Expression","group":"Object variables/Number arrays","name":"ObjectMean","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","\r","eventsFunctionContext.returnValue =\r","    internalArray.reduce(\r","        (accumulator, current) => accumulator + current.getAsNumber(), 0\r","    ) / internalArray.length;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Gets the median number in an array.","fullName":"Median value","functionType":"Expression","group":"Object variables/Number arrays","name":"ObjectMedian","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable[]} */\r","const internalArray = eventsFunctionContext.getArgument(\"Array\").getAllChildrenArray();\r","\r","const sortedCopy = internalArray.slice().sort((a, b) => {\r","    const na = a.getAsNumber();\r","    const nb = b.getAsNumber();\r","    return na < nb ? -1 : na > nb ? 1 : 0;\r","})\r","const i = sortedCopy.length / 2;\r","\r","eventsFunctionContext.returnValue =\r","    i % 1 === 0\r","        ? (sortedCopy[i - 1].getAsNumber() + sortedCopy[i].getAsNumber()) / 2\r","        : sortedCopy[Math.trunc(i)].getAsNumber();\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"expressionType":{"type":"expression"},"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array","name":"Array","type":"objectvar"}],"objectGroups":[]},{"description":"Sort an array of number from smallest to biggest.","fullName":"Sort an array","functionType":"Action","group":"Object variables/Number arrays","name":"ObjectSort","sentence":"Sort array _PARAM2_ of _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.Variable} */","const array = eventsFunctionContext.getArgument(\"Array\");","","// Cast to array to ensure getAllChildrenArray returns the real array","array.castTo(\"array\");","","array.getAllChildrenArray()","    .sort((a, b) => {","        const na = a.getAsNumber();","        const nb = b.getAsNumber();","        return na < nb ? -1 : na > nb ? 1 : 0;","    });",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"The object the variable is from","name":"Object","type":"objectList"},{"description":"The array to sort","name":"Array","type":"objectvar"}],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[]},{"author":"","category":"Game mechanic","extensionNamespace":"","fullName":"Object spawner area","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXBsdXMtb25lIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEwLDhWMTJIMTRWMTRIMTBWMThIOFYxNEg0VjEySDhWOEgxME0xNC41LDYuMDhMMTksNVYxOEgxN1Y3LjRMMTQuNSw3LjlWNi4wOFoiIC8+PC9zdmc+","name":"ObjectSpawner","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/plus-one.svg","shortDescription":"Spawn (create) objects periodically.","version":"1.0.0","description":["Spawn objects periodically based on the location of the spawner.  ","","If \"random position\" is enabled, objects will spawn in a random position inside the spawner object. ","This allows the size of the spawner object to define an area that objects will spawn.","","It can be used to create:","- Enemies","- NPCs","- Environmental objects","","Note: Offset properties were deprecated in version 1.0.0."],"origin":{"identifier":"ObjectSpawner","name":"gdevelop-extension-store"},"tags":["spawn","spawner","objects","create","timer"],"authorIds":["gqDaZjCfevOOxBYkK6zlhtZnXCg1"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Spawn (create) objects periodically.","fullName":"Object spawner","name":"ObjectSpawner","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__ObjectSpawner.SpawnTimer\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"UnPauseObjectTimer"},"parameters":["Object","\"__ObjectSpawner.SpawnTimer\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDeActivate","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PauseObjectTimer"},"parameters":["Object","\"__ObjectSpawner.SpawnTimer\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"Spawn (create) objects periodically. This action must be run every frame to work. When the max quantity is reached and an instance is deleted, the spawner waits the duration of the spawn period before creating another instance. Spawned objects are automatically linked to the spawner.","fullName":"Spawn objects periodically","functionType":"Action","name":"SpawnObject","sentence":"Periodically spawn (create) a _PARAM2_ located at spawner _PARAM0_ ","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Max Alive check","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyMaxQuantityReached"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Check if max number of instances per spawner has been reached. Always spawn objects if quantity is set to \"0\""},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::PropertyMaxQuantity"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"LinkedObjects::PickObjectsLinkedTo"},"parameters":["","ObjectToSpawn","Object",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Prevent objects from being spawned immediately after deleting an object while at max quantity alive"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["PickedInstancesCount(ObjectToSpawn)","<","Object.Behavior::PropertyMaxQuantity()"]},{"type":{"value":"BuiltinCommonInstructions::Once"},"parameters":[]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__ObjectSpawner.SpawnTimer\""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Check if max number of instances per spawner has been reached"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"Egal"},"parameters":["PickedInstancesCount(ObjectToSpawn)",">=","Object.Behavior::PropertyMaxQuantity()"]}],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyMaxQuantityReached"},"parameters":["Object","Behavior","yes"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Spawning","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Reset spawn detection"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyJustSpawnedAnObject"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Spawn an object when conditions are met. Spawned objects are linked to the spawner that made them"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ObjectSpawner::ObjectSpawner::PropertyMaxQuantityReached"},"parameters":["Object","Behavior"]},{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"__ObjectSpawner.SpawnTimer\"",">","Object.Behavior::PropertySpawnPeriod()"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::UnlimitedObjectCapacity"},"parameters":["Object","Behavior",""]},{"type":{"value":"ObjectSpawner::ObjectSpawner::SpawnerCapacity"},"parameters":["Object","Behavior",">","0",""]}]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__ObjectSpawner.SpawnTimer\""]},{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertySpawnerCapacity"},"parameters":["Object","Behavior","-","1"]},{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyJustSpawnedAnObject"},"parameters":["Object","Behavior","yes"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Spawn at Center Position"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"Create"},"parameters":["","ObjectToSpawn","Object.BoundingBoxCenterX()","Object.BoundingBoxCenterY()","Object.Layer()"]},{"type":{"value":"LinkedObjects::LinkObjects"},"parameters":["","ObjectToSpawn","Object"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":205,"g":211,"r":33,"textB":0,"textG":0,"textR":0},"comment":"Legacy action that supports deprecated offsets"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::PropertyOffsetX"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"ObjectSpawner::ObjectSpawner::PropertyOffsetY"},"parameters":["Object","Behavior","!=","0"]}]}],"actions":[{"type":{"value":"SetCenter"},"parameters":["ObjectToSpawn","=","Object.BoundingBoxCenterX() + Object.Behavior::PropertyOffsetX()","=","Object.BoundingBoxCenterY() + Object.Behavior::PropertyOffsetY()"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Move to a Random Position (if enabled)"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::RandomPosition"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SetCenter"},"parameters":["ObjectToSpawn","=","Object.BoundingBoxLeft() + Random(Object.Width())\n","=","Object.BoundingBoxTop() + Random(Object.Height())\n"]}]}]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"},{"description":"Object that will be created","name":"ObjectToSpawn","type":"objectList"}],"objectGroups":[]},{"description":"Change the offset X relative to the center of spawner (in pixels).","fullName":"Offset on X axis (deprecated)","functionType":"Action","name":"SetOffsetX","private":true,"sentence":"Change the offset X of _PARAM0_ to _PARAM2_ pixels","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyOffsetX"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the offset Y relative to the center of spawner (in pixels).","fullName":"Offset on Y axis (deprecated)","functionType":"Action","name":"SetOffsetY","private":true,"sentence":"Change the offset Y of _PARAM0_ to _PARAM2_ pixels","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyOffsetY"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Change the spawn period (in seconds).","fullName":"Spawn period","functionType":"Action","name":"SetSpawnPeriod","sentence":"Change the spawn period of _PARAM0_ to _PARAM2_ seconds","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertySpawnPeriod"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Return the offset X relative to the center of spawner (in pixels).","fullName":"Offset X (deprecated)","functionType":"Expression","name":"OffsetX","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyOffsetX()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Return the offset Y relative to the center of spawner (in pixels).","fullName":"Offset Y (deprecated)","functionType":"Expression","name":"OffsetY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyOffsetY()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"},{"description":"Value","name":"Value","type":"expression"}],"objectGroups":[]},{"description":"Return the spawn period (in seconds).","fullName":"Spawn period","functionType":"Expression","name":"SpawnPeriod","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertySpawnPeriod()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"Restart the cooldown of a spawner.","fullName":"Restart spawning cooldown","functionType":"Action","name":"ResetSpawnTimer","sentence":"Restart the cooldown of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__ObjectSpawner.SpawnTimer\""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"Return the remaining time before the next spawn (in seconds). Useful for triggering visual and sound effects.","fullName":"Time before the next spawn","functionType":"Expression","name":"TimeBeforeSpawn","sentence":"_PARAM0_ just spawned an object","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::PropertyMaxQuantityReached"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::UnlimitedObjectCapacity"},"parameters":["Object","Behavior",""]},{"type":{"value":"ObjectSpawner::ObjectSpawner::SpawnerCapacity"},"parameters":["Object","Behavior",">","0",""]}]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertySpawnPeriod()"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ObjectSpawner::ObjectSpawner::PropertyMaxQuantityReached"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertySpawnPeriod() - Object.ObjectTimerElapsedTime(\"__ObjectSpawner.SpawnTimer\")"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"Check if an object has just been created by this spawner. Useful for triggering visual and sound effects.","fullName":"Object was just spawned","functionType":"Condition","name":"ObjectWasJustSpawned","sentence":"_PARAM0_ just spawned an object","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::PropertyJustSpawnedAnObject"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"the max objects in the scene (per spawner) of the object. Limits the number of objects in the scene that were created by this spawner. Set this to 0 for no limit.","fullName":"Max objects in the scene (per spawner)","functionType":"ExpressionAndCondition","group":"Object spawner configuration","name":"MaxQuantity","sentence":"the max objects in the scene (per spawner)","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyMaxQuantity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"MaxQuantity","name":"SetMaxQuantity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyMaxQuantity"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"Check if spawner has unlimited capacity.","fullName":"Unlimited capacity","functionType":"Condition","group":"Object spawner configuration","name":"UnlimitedObjectCapacity","sentence":"_PARAM0_ has unlimited capacity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::PropertyUnlimitedCapacity"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"Change unlimited capacity of spawner.","fullName":"Unlimited object capacity","functionType":"Action","group":"Object spawner configuration","name":"SetUnlimitedObjectCapacity","sentence":"_PARAM0_ unlimited capacity: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyUnlimitedCapacity"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyUnlimitedCapacity"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"},{"defaultValue":"yes","description":"UnlimitedObjectCapacity","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"the number of objects that can be created by this spawner. This is reduced everytime an objects is spawned.","fullName":"Spawner capacity","functionType":"ExpressionAndCondition","group":"Object spawner configuration","name":"SpawnerCapacity","sentence":"the spawner capacity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertySpawnerCapacity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"SpawnerCapacity","name":"SetSpawnerCapacity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertySpawnerCapacity"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"Check if using random positions. Useful for making large spawner areas.","fullName":"Use random positions","functionType":"Condition","group":"Object spawner configuration","name":"RandomPosition","sentence":"Use random positions inside _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::PropertyRandomPosition"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"}],"objectGroups":[]},{"description":"Enable (or disable) random positions. Useful for making large spawner areas.","fullName":"Use random positions","functionType":"Action","group":"Object spawner configuration","name":"SetRandomPosition","sentence":"Use random positions inside _PARAM0_: _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyRandomPosition"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ObjectSpawner::ObjectSpawner::SetPropertyRandomPosition"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ObjectSpawner::ObjectSpawner","type":"behavior"},{"defaultValue":"yes","description":"RandomPosition","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"1","type":"Number","unit":"Second","label":"Spawn period","description":"","group":"","extraInformation":[],"name":"SpawnPeriod"},{"value":"0","type":"Number","unit":"Pixel","label":"Offset X (relative to position of spawner)","description":"","group":"","extraInformation":[],"hidden":true,"name":"OffsetX"},{"value":"0","type":"Number","unit":"Pixel","label":"Offset Y (relative to position of spawner)","description":"","group":"","extraInformation":[],"hidden":true,"name":"OffsetY"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"JustSpawnedAnObject"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"MaxQuantityReached"},{"value":"0","type":"Number","label":"Max objects in the scene (per spawner)","description":"Limits the number of objects in the scene that were created by this spawner. Set this to 0 for no limit.","group":"","extraInformation":[],"name":"MaxQuantity"},{"value":"0","type":"Number","label":"Spawner capacity","description":"Number of objects that can be created by this spawner. This is reduced everytime an objects is spawned.","group":"","extraInformation":[],"name":"SpawnerCapacity"},{"value":"true","type":"Boolean","label":"Unlimited capacity","description":"","group":"","extraInformation":[],"name":"UnlimitedCapacity"},{"value":"false","type":"Boolean","label":"Use random positions","description":"Objects will be created at a random position inside the spawner. Useful for making large spawner areas.","group":"","extraInformation":[],"name":"RandomPosition"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Visual effect","extensionNamespace":"","fullName":"3D particle emitter","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWZpcmUiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTcuNjYgMTEuMkMxNy40MyAxMC45IDE3LjE1IDEwLjY0IDE2Ljg5IDEwLjM4QzE2LjIyIDkuNzggMTUuNDYgOS4zNSAxNC44MiA4LjcyQzEzLjMzIDcuMjYgMTMgNC44NSAxMy45NSAzQzEzIDMuMjMgMTIuMTcgMy43NSAxMS40NiA0LjMyQzguODcgNi40IDcuODUgMTAuMDcgOS4wNyAxMy4yMkM5LjExIDEzLjMyIDkuMTUgMTMuNDIgOS4xNSAxMy41NUM5LjE1IDEzLjc3IDkgMTMuOTcgOC44IDE0LjA1QzguNTcgMTQuMTUgOC4zMyAxNC4wOSA4LjE0IDEzLjkzQzguMDggMTMuODggOC4wNCAxMy44MyA4IDEzLjc2QzYuODcgMTIuMzMgNi42OSAxMC4yOCA3LjQ1IDguNjRDNS43OCAxMCA0Ljg3IDEyLjMgNSAxNC40N0M1LjA2IDE0Ljk3IDUuMTIgMTUuNDcgNS4yOSAxNS45N0M1LjQzIDE2LjU3IDUuNyAxNy4xNyA2IDE3LjdDNy4wOCAxOS40MyA4Ljk1IDIwLjY3IDEwLjk2IDIwLjkyQzEzLjEgMjEuMTkgMTUuMzkgMjAuOCAxNy4wMyAxOS4zMkMxOC44NiAxNy42NiAxOS41IDE1IDE4LjU2IDEyLjcyTDE4LjQzIDEyLjQ2QzE4LjIyIDEyIDE3LjY2IDExLjIgMTcuNjYgMTEuMk0xNC41IDE3LjVDMTQuMjIgMTcuNzQgMTMuNzYgMTggMTMuNCAxOC4xQzEyLjI4IDE4LjUgMTEuMTYgMTcuOTQgMTAuNSAxNy4yOEMxMS42OSAxNyAxMi40IDE2LjEyIDEyLjYxIDE1LjIzQzEyLjc4IDE0LjQzIDEyLjQ2IDEzLjc3IDEyLjMzIDEzQzEyLjIxIDEyLjI2IDEyLjIzIDExLjYzIDEyLjUgMTAuOTRDMTIuNjkgMTEuMzIgMTIuODkgMTEuNyAxMy4xMyAxMkMxMy45IDEzIDE1LjExIDEzLjQ0IDE1LjM3IDE0LjhDMTUuNDEgMTQuOTQgMTUuNDMgMTUuMDggMTUuNDMgMTUuMjNDMTUuNDYgMTYuMDUgMTUuMSAxNi45NSAxNC41IDE3LjVIMTQuNVoiIC8+PC9zdmc+","name":"ParticleEmitter3D","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/f2e5a34bf465f781866677762d385d6c8e9e8d203383f2df9a3b7e0fad6a2cb5_fire.svg","shortDescription":"Display a large number of particles to create visual effects.","version":"2.0.0","description":["Particle emitters can be used to display:","- Fire","- Smoke","- Splashes","- Lights","","Breaking change","- 2.0.0","  - Object properties for position and rotation have been removed. They must be set with the instance editor or the action.","- 1.0.0","  - Particles were 3 times too small"],"origin":{"identifier":"ParticleEmitter3D","name":"gdevelop-extension-store"},"tags":["3d","particle","explosion","fire","smoke","splash","light"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Define helper classes JavaScript code.","fullName":"Define helper classes","functionType":"Action","name":"DefineHelperClasses","private":true,"sentence":"Define helper classes JavaScript code","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GlobalVariableAsBoolean"},"parameters":["_ParticleEmmiter3DExtension_ClassesDefined",""]}],"actions":[{"type":{"value":"SetGlobalVariableAsBoolean"},"parameters":["_ParticleEmmiter3DExtension_ClassesDefined","True"]}],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["gdjs.__particleEmmiter3DExtension = gdjs.__particleEmmiter3DExtension || {};","","class ParticleEmitter3DRenderer extends gdjs.CustomRuntimeObject3DRenderer {","    constructor(","      object,","      instanceContainer,","      parent","    ) {","        super(object, instanceContainer, parent);","    }","","    _updateThreeGroup() {","      const threeObject3D = this.get3DRendererObject();","","      threeObject3D.rotation.set(","        gdjs.toRad(this._object.getRotationX()),","        gdjs.toRad(this._object.getRotationY()),","        -gdjs.toRad(this._object.angle)","      );","","      threeObject3D.position.set(","        this._object.getX(),","        -this._object.getY(),","        this._object.getZ()","      );","","      threeObject3D.scale.set(","        this._object.isFlippedX() ? -1 : 1,","        this._object.isFlippedY() ? -1 : 1,","        this._object.isFlippedZ() ? -1 : 1","      );","","      threeObject3D.visible = !this._object.hidden;","","      this._isContainerDirty = true;","    }","}","","gdjs.__particleEmmiter3DExtension.ParticleEmitter3DRenderer = ParticleEmitter3DRenderer;","","/**"," * @param {string} colorString"," * @param {THREE.Vector4} threeColor"," */","const setThreeColor = (colorString, threeColor = new THREE.Vector4()) => {","    const integerColor = gdjs.rgbOrHexToRGBColor(colorString);","    threeColor.x = integerColor[0] / 255;","    threeColor.y = integerColor[1] / 255;","    threeColor.z = integerColor[2] / 255;","};","","/**"," * @param {string} integerOpacity"," * @param {THREE.Vector4} threeColor"," */","const setThreeOpacity = (integerOpacity, threeColor = new THREE.Vector4()) => {","    threeColor.w = integerOpacity / 255;","};","","class ParticleEmitterAdapter {","    /**","     * @param particleSystem {ParticleSystem}","     * @param colorOverLife {ColorOverLife}","     * @param sizeOverLife {SizeOverLife}","     * @param applyForce {ApplyForce}","     */","    constructor(particleSystem, colorOverLife, sizeOverLife, applyForce) {","        this.particleSystem = particleSystem;","        this.colorOverLife = colorOverLife;","        this.sizeOverLife = sizeOverLife;","        this.applyForce = applyForce;","    }","","    /**","     * @param startColor {string}","     */","    setStartColor(startColor) {","        setThreeColor(startColor, this.colorOverLife.color.color.keys[0][0]);","    }","","    /**","     * @param endColor {string}","     */","    setEndColor(endColor) {","        setThreeColor(endColor, this.colorOverLife.color.color.keys[1][0]);","    }","","    /**","     * @param startOpacity {number}","     */","    setStartOpacity(startOpacity) {","        this.colorOverLife.color.alpha.keys[0][0] = startOpacity / 255;","    }","","    /**","     * @param endOpacity {number}","     */","    setEndOpacity(endOpacity) {","        this.colorOverLife.color.alpha.keys[1][0] = endOpacity / 255;","    }","","    /**","     * @param flow {number}","     */","    setFlow(flow) {","        this.particleSystem.emissionOverTime.value = flow;","    }","","    /**","     * @param startMinSize {number}","     */","    setStartMinSize(startMinSize) {","        this.particleSystem.startSize.a = startMinSize;","    }","","    /**","     * @param startMaxSize {number}","     */","    setStartMaxSize(startMaxSize) {","        this.particleSystem.startSize.b = startMaxSize;","    }","","    /**","     * @param endScale {number}","     */","    setEndScale(endScale) {","        /** @type Bezier */","        const bezier = this.sizeOverLife.size.functions[0][0];","        bezier.p[0] = 1;","        bezier.p[1] = gdjs.evtTools.common.lerp(1, endScale, 1 / 3);","        bezier.p[2] = gdjs.evtTools.common.lerp(1, endScale, 2 / 3);","        bezier.p[3] = endScale;","    }","","    /**","     * @param startSpeedMin {number}","     */","    setStartSpeedMin(startSpeedMin) {","        this.particleSystem.startSpeed.a = startSpeedMin;","    }","","    /**","     * @param startSpeedMax {number}","     */","    setStartSpeedMax(startSpeedMax) {","        this.particleSystem.startSpeed.b = startSpeedMax;","    }","","    /**","     * @param lifespanMin {number}","     */","    setLifespanMin(lifespanMin) {","        this.particleSystem.startLife.a = lifespanMin;","    }","","    /**","     * @param lifespanMax {number}","     */","    setLifespanMax(lifespanMax) {","        this.particleSystem.startLife.b = lifespanMax;","    }","","    /**","     * @param duration {number}","     */","    setDuration(duration) {","        this.particleSystem.duration = duration || Number.POSITIVE_INFINITY;","    }","","    /**","     * @param areParticlesRelative {boolean}","     */","    setParticlesRelative(areParticlesRelative) {","        this.particleSystem.worldSpace = !areParticlesRelative;","    }","","    /**","     * @param sprayConeAngle {number}","     */","    setSprayConeAngle(sprayConeAngle) {","        if (0 < sprayConeAngle && sprayConeAngle <= 180) {","            if (!this.particleSystem.emitterShape.angle) {","                this.particleSystem.emitterShape = new ConeEmitter({ radius: 0.1, angle: Math.PI / 8 });","            }","            this.particleSystem.emitterShape.angle = sprayConeAngle * Math.PI / 180;","        }","        else {","            if (this.particleSystem.emitterShape.angle) {","                this.particleSystem.emitterShape = new PointEmitter();","            }","        }","    }","","    /**","     * @param blending {string}","     */","    setBlending(blendingString) {","        const blending =","            blendingString === \"Additive\" ? THREE.AdditiveBlending :","                blendingString === \"Normal\" ? THREE.NormalBlending :","                    blendingString === \"Subtractive\" ? THREE.SubtractiveBlending :","                        blendingString === \"Multiply\" ? THREE.MultiplyBlending :","                            blendingString === \"None\" ? THREE.NoBlending :","                                THREE.AdditiveBlending;","        // TODO This doesn't work.","        this.particleSystem.blending = blending;","    }","","    /**","     * @param gravity {number}","     */","    setGravity(gravity) {","        this.applyForce.magnitude.value = gravity;","    }","","    /**","     * @param gravityTop {string}","     */","    setGravityTop(gravityTop) {","        // TODO Make gravity absolute even when \"relative\" is enabled. ","        switch (gravityTop) {","            case \"Z+\":","                this.applyForce.direction.set(0, 0, -1);","                break;","","            case \"Y-\":","                this.applyForce.direction.set(0, 1, 0);","                break;","        }","    }","}","","gdjs.__particleEmmiter3DExtension.ParticleEmitterAdapter = ParticleEmitterAdapter;","","","/**"," * three.quarks v0.11.2 build Mon Jan 22 2024"," * https://github.com/Alchemist0823/three.quarks#readme"," * Copyright 2024 Alchemist0823 <the.forrest.sun@gmail.com>, MIT"," */","","class ParticleEmitter extends THREE.Object3D {","    constructor(system) {","        super();","        this.type = 'ParticleEmitter';","        this.system = system;","    }","    clone() {","        const system = this.system.clone();","        system.emitter.copy(this, true);","        return system.emitter;","    }","    dispose() { }","    extractFromCache(cache) {","        const values = [];","        for (const key in cache) {","            const data = cache[key];","            delete data.metadata;","            values.push(data);","        }","        return values;","    }","    toJSON(meta, options = {}) {","        const isRootObject = meta === undefined || typeof meta === 'string';","        const output = {};","        if (isRootObject) {","            meta = {","                geometries: {},","                materials: {},","                textures: {},","                images: {},","                shapes: {},","                skeletons: {},","                animations: {},","                nodes: {},","            };","            output.metadata = {","                version: 4.5,","                type: 'Object',","                generator: 'Object3D.toJSON',","            };","        }","        const object = {};","        object.uuid = this.uuid;","        object.type = this.type;","        if (this.name !== '')","            object.name = this.name;","        if (this.castShadow === true)","            object.castShadow = true;","        if (this.receiveShadow === true)","            object.receiveShadow = true;","        if (this.visible === false)","            object.visible = false;","        if (this.frustumCulled === false)","            object.frustumCulled = false;","        if (this.renderOrder !== 0)","            object.renderOrder = this.renderOrder;","        if (JSON.stringify(this.userData) !== '{}')","            object.userData = this.userData;","        object.layers = this.layers.mask;","        object.matrix = this.matrix.toArray();","        if (this.matrixAutoUpdate === false)","            object.matrixAutoUpdate = false;","        if (this.system !== null)","            object.ps = this.system.toJSON(meta, options);","        if (this.children.length > 0) {","            object.children = [];","            for (let i = 0; i < this.children.length; i++) {","                if (this.children[i].type !== 'ParticleSystemPreview') {","                    object.children.push(this.children[i].toJSON(meta).object);","                }","            }","        }","        if (isRootObject) {","            const geometries = this.extractFromCache(meta.geometries);","            const materials = this.extractFromCache(meta.materials);","            const textures = this.extractFromCache(meta.textures);","            const images = this.extractFromCache(meta.images);","            if (geometries.length > 0)","                output.geometries = geometries;","            if (materials.length > 0)","                output.materials = materials;","            if (textures.length > 0)","                output.textures = textures;","            if (images.length > 0)","                output.images = images;","        }","        output.object = object;","        return output;","    }","}","","class LinkedListNode {","    constructor(data) {","        this.data = data;","        this.next = null;","        this.prev = null;","    }","    hasPrev() {","        return this.prev !== null;","    }","    hasNext() {","        return this.next !== null;","    }","}","class LinkedList {","    constructor() {","        this.length = 0;","        this.head = this.tail = null;","    }","    isEmpty() {","        return this.head === null;","    }","    clear() {","        this.length = 0;","        this.head = this.tail = null;","    }","    front() {","        if (this.head === null)","            return null;","        return this.head.data;","    }","    back() {","        if (this.tail === null)","            return null;","        return this.tail.data;","    }","    dequeue() {","        if (this.head) {","            const value = this.head.data;","            this.head = this.head.next;","            if (!this.head) {","                this.tail = null;","            }","            else {","                this.head.prev = null;","            }","            this.length--;","            return value;","        }","        return undefined;","    }","    pop() {","        if (this.tail) {","            const value = this.tail.data;","            this.tail = this.tail.prev;","            if (!this.tail) {","                this.head = null;","            }","            else {","                this.tail.next = null;","            }","            this.length--;","            return value;","        }","        return undefined;","    }","    queue(data) {","        const node = new LinkedListNode(data);","        if (!this.tail) {","            this.tail = node;","        }","        if (this.head) {","            this.head.prev = node;","            node.next = this.head;","        }","        this.head = node;","        this.length++;","    }","    push(data) {","        const node = new LinkedListNode(data);","        if (!this.head) {","            this.head = node;","        }","        if (this.tail) {","            this.tail.next = node;","            node.prev = this.tail;","        }","        this.tail = node;","        this.length++;","    }","    insertBefore(node, data) {","        const newNode = new LinkedListNode(data);","        newNode.next = node;","        newNode.prev = node.prev;","        if (newNode.prev !== null) {","            newNode.prev.next = newNode;","        }","        newNode.next.prev = newNode;","        if (node == this.head) {","            this.head = newNode;","        }","        this.length++;","    }","    remove(data) {","        if (this.head === null || this.tail === null) {","            return;","        }","        let tempNode = this.head;","        if (data === this.head.data) {","            this.head = this.head.next;","        }","        if (data === this.tail.data) {","            this.tail = this.tail.prev;","        }","        while (tempNode.next !== null && tempNode.data !== data) {","            tempNode = tempNode.next;","        }","        if (tempNode.data === data) {","            if (tempNode.prev !== null)","                tempNode.prev.next = tempNode.next;","            if (tempNode.next !== null)","                tempNode.next.prev = tempNode.prev;","            this.length--;","        }","    }","    *values() {","        let current = this.head;","        while (current !== null) {","            yield current.data;","            current = current.next;","        }","    }","}","","class NodeParticle {","    constructor() {","        this.position = new THREE.Vector3();","        this.velocity = new THREE.Vector3();","        this.age = 0;","        this.life = 1;","        this.size = 1;","        this.rotation = 0;","        this.color = new THREE.Vector4(1, 1, 1, 1);","        this.uvTile = 0;","    }","    get died() {","        return this.age >= this.life;","    }","    reset() {","        this.position.set(0, 0, 0);","        this.velocity.set(0, 0, 0);","        this.age = 0;","        this.life = 1;","        this.size = 1;","        this.rotation = 0;","        this.color.set(1, 1, 1, 1);","        this.uvTile = 0;","    }","}","class SpriteParticle {","    constructor() {","        this.startSpeed = 0;","        this.startColor = new THREE.Vector4();","        this.startSize = 1;","        this.position = new THREE.Vector3();","        this.velocity = new THREE.Vector3();","        this.age = 0;","        this.life = 1;","        this.size = 1;","        this.speedModifier = 1;","        this.rotation = 0;","        this.color = new THREE.Vector4();","        this.uvTile = 0;","    }","    get died() {","        return this.age >= this.life;","    }","}","class RecordState {","    constructor(position, size, color) {","        this.position = position;","        this.size = size;","        this.color = color;","    }","}","class TrailParticle {","    constructor() {","        this.startSpeed = 0;","        this.startColor = new THREE.Vector4();","        this.startSize = 1;","        this.position = new THREE.Vector3();","        this.velocity = new THREE.Vector3();","        this.age = 0;","        this.life = 1;","        this.size = 1;","        this.length = 100;","        this.speedModifier = 1;","        this.color = new THREE.Vector4();","        this.previous = new LinkedList();","        this.uvTile = 0;","    }","    update() {","        if (this.age <= this.life) {","            this.previous.push(new RecordState(this.position.clone(), this.size, this.color.clone()));","        }","        else {","            if (this.previous.length > 0) {","                this.previous.dequeue();","            }","        }","        while (this.previous.length > this.length) {","            this.previous.dequeue();","        }","    }","    get died() {","        return this.age >= this.life;","    }","    reset() {","        this.previous.clear();","    }","}","","class Bezier {","    constructor(p1, p2, p3, p4) {","        this.p = [p1, p2, p3, p4];","    }","    genValue(t) {","        const t2 = t * t;","        const t3 = t * t * t;","        const mt = 1 - t;","        const mt2 = mt * mt;","        const mt3 = mt2 * mt;","        return this.p[0] * mt3 + this.p[1] * mt2 * t * 3 + this.p[2] * mt * t2 * 3 + this.p[3] * t3;","    }","    derivativeCoefficients(points) {","        const dpoints = [];","        for (let p = points, c = p.length - 1; c > 0; c--) {","            const list = [];","            for (let j = 0; j < c; j++) {","                const dpt = c * (p[j + 1] - p[j]);","                list.push(dpt);","            }","            dpoints.push(list);","            p = list;","        }","        return dpoints;","    }","    getSlope(t) {","        const p = this.derivativeCoefficients(this.p)[0];","        const mt = 1 - t;","        const a = mt * mt;","        const b = mt * t * 2;","        const c = t * t;","        return a * p[0] + b * p[1] + c * p[2];","    }","    controlCurve(d0, d1) {","        this.p[1] = d0 / 3 + this.p[0];","        this.p[2] = this.p[3] - d1 / 3;","    }","    hull(t) {","        let p = this.p;","        let _p = [], pt, idx = 0, i = 0, l = 0;","        const q = [];","        q[idx++] = p[0];","        q[idx++] = p[1];","        q[idx++] = p[2];","        q[idx++] = p[3];","        while (p.length > 1) {","            _p = [];","            for (i = 0, l = p.length - 1; i < l; i++) {","                pt = t * p[i] + (1 - t) * p[i + 1];","                q[idx++] = pt;","                _p.push(pt);","            }","            p = _p;","        }","        return q;","    }","    split(t) {","        const q = this.hull(t);","        const result = {","            left: new Bezier(q[0], q[4], q[7], q[9]),","            right: new Bezier(q[9], q[8], q[6], q[3]),","            span: q","        };","        return result;","    }","    clone() {","        return new Bezier(this.p[0], this.p[1], this.p[2], this.p[3]);","    }","    toJSON() {","        return {","            p0: this.p[0],","            p1: this.p[1],","            p2: this.p[2],","            p3: this.p[3],","        };","    }","    static fromJSON(json) {","        return new Bezier(json.p0, json.p1, json.p2, json.p3);","    }","}","","const ColorToJSON = (color) => {","    return { r: color.x, g: color.y, b: color.z, a: color.w };","};","const JSONToColor = (json) => {","    return new THREE.Vector4(json.r, json.g, json.b, json.a);","};","const JSONToValue = (json, type) => {","    switch (type) {","        case 'Vector3':","            return new THREE.Vector3(json.x, json.y, json.z);","        case 'Vector4':","            return new THREE.Vector4(json.x, json.y, json.z, json.w);","        case 'Color':","            return new THREE.Vector3(json.r, json.g, json.b);","        case 'Number':","            return json;","        default:","            return json;","    }","};","const ValueToJSON = (value, type) => {","    switch (type) {","        case 'Vector3':","            return { x: value.x, y: value.y, z: value.z };","        case 'Vector4':","            return { x: value.x, y: value.y, z: value.z, w: value.w };","        case 'Color':","            return { r: value.x, g: value.y, b: value.z };","        case 'Number':","            return value;","        default:","            return value;","    }","};","","class RandomColor {","    constructor(a, b) {","        this.a = a;","        this.b = b;","        this.type = \"value\";","    }","    genColor(color) {","        const rand = Math.random();","        return color.copy(this.a).lerp(this.b, rand);","    }","    toJSON() {","        return {","            type: \"RandomColor\",","            a: ColorToJSON(this.a),","            b: ColorToJSON(this.b),","        };","    }","    static fromJSON(json) {","        return new RandomColor(JSONToColor(json.a), JSONToColor(json.b));","    }","    clone() {","        return new RandomColor(this.a.clone(), this.b.clone());","    }","}","","class ColorRange {","    constructor(a, b) {","        this.a = a;","        this.b = b;","        this.type = 'value';","    }","    genColor(color, t) {","        return color.copy(this.a).lerp(this.b, Math.random());","    }","    toJSON() {","        return {","            type: 'ColorRange',","            a: ColorToJSON(this.a),","            b: ColorToJSON(this.b),","        };","    }","    static fromJSON(json) {","        return new ColorRange(JSONToColor(json.a), JSONToColor(json.b));","    }","    clone() {","        return new ColorRange(this.a.clone(), this.b.clone());","    }","}","","class ContinuousLinearFunction {","    constructor(keys, subType) {","        this.subType = subType;","        this.type = 'function';","        this.keys = keys;","    }","    findKey(t) {","        let mid = 0;","        let left = 0, right = this.keys.length - 1;","        while (left + 1 < right) {","            mid = Math.floor((left + right) / 2);","            if (t < this.getStartX(mid))","                right = mid - 1;","            else if (t > this.getEndX(mid))","                left = mid + 1;","            else","                return mid;","        }","        for (let i = left; i <= right; i++) {","            if (t >= this.getStartX(i) && t <= this.getEndX(i))","                return i;","        }","        return -1;","    }","    getStartX(index) {","        return this.keys[index][1];","    }","    getEndX(index) {","        if (index + 1 < this.keys.length)","            return this.keys[index + 1][1];","        return 1;","    }","    genValue(value, t) {","        const index = this.findKey(t);","        if (this.subType === 'Number') {","            if (index === -1) {","                return this.keys[0][0];","            }","            else if (index + 1 >= this.keys.length) {","                return this.keys[this.keys.length - 1][0];","            }","            return ((this.keys[index + 1][0] - this.keys[index][0]) *","                ((t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index))) +","                this.keys[index][0]);","        }","        else {","            if (index === -1) {","                return value.copy(this.keys[0][0]);","            }","            if (index + 1 >= this.keys.length) {","                return value.copy(this.keys[this.keys.length - 1][0]);","            }","            return value","                .copy(this.keys[index][0])","                .lerp(this.keys[index + 1][0], (t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index)));","        }","    }","    toJSON() {","        this.keys[0][0].constructor.name;","        return {","            type: 'CLinearFunction',","            subType: this.subType,","            keys: this.keys.map(([color, pos]) => ({ value: ValueToJSON(color, this.subType), pos: pos })),","        };","    }","    static fromJSON(json) {","        return new ContinuousLinearFunction(json.keys.map((pair) => [JSONToValue(pair.value, json.subType), pair.pos]), json.subType);","    }","    clone() {","        if (this.subType === 'Number') {","            return new ContinuousLinearFunction(this.keys.map(([value, pos]) => [value, pos]), this.subType);","        }","        else {","            return new ContinuousLinearFunction(this.keys.map(([value, pos]) => [value.clone(), pos]), this.subType);","        }","    }","}","","const tempVec3 = new THREE.Vector3();","class Gradient {","    constructor(color = [","        [new THREE.Vector3(0, 0, 0), 0],","        [new THREE.Vector3(1, 1, 1), 0],","    ], alpha = [","        [1, 0],","        [1, 1],","    ]) {","        this.type = 'function';","        this.color = new ContinuousLinearFunction(color, 'Color');","        this.alpha = new ContinuousLinearFunction(alpha, 'Number');","    }","    genColor(color, t) {","        this.color.genValue(tempVec3, t);","        return color.set(tempVec3.x, tempVec3.y, tempVec3.z, this.alpha.genValue(1, t));","    }","    toJSON() {","        return {","            type: 'Gradient',","            color: this.color.toJSON(),","            alpha: this.alpha.toJSON(),","        };","    }","    static fromJSON(json) {","        if (json.functions) {","            const keys = json.functions.map((func) => [ColorRange.fromJSON(func.function).a, func.start]);","            if (json.functions.length > 0) {","                keys.push([ColorRange.fromJSON(json.functions[json.functions.length - 1].function).b, 1]);","            }","            return new Gradient(keys.map((key) => [new THREE.Vector3(key[0].x, key[0].y, key[0].z), key[1]]), keys.map((key) => [key[0].w, key[1]]));","        }","        else {","            const gradient = new Gradient();","            gradient.alpha = ContinuousLinearFunction.fromJSON(json.alpha);","            gradient.color = ContinuousLinearFunction.fromJSON(json.color);","            return gradient;","        }","    }","    clone() {","        const gradient = new Gradient();","        gradient.alpha = this.alpha.clone();","        gradient.color = this.color.clone();","        return gradient;","    }","}","","const tempColor = new THREE.Vector4();","class RandomColorBetweenGradient {","    constructor(gradient1, gradient2) {","        this.type = 'memorizedFunction';","        this.gradient1 = gradient1;","        this.gradient2 = gradient2;","    }","    startGen(memory) {","        memory.rand = Math.random();","    }","    genColor(color, t, memory) {","        this.gradient1.genColor(color, t);","        this.gradient2.genColor(tempColor, t);","        if (memory && memory.rand) {","            color.lerp(tempColor, memory.rand);","        }","        else {","            color.lerp(tempColor, Math.random());","        }","        return color;","    }","    toJSON() {","        return {","            type: 'RandomColorBetweenGradient',","            gradient1: this.gradient1.toJSON(),","            gradient2: this.gradient2.toJSON(),","        };","    }","    static fromJSON(json) {","        return new RandomColorBetweenGradient(Gradient.fromJSON(json.gradient1), Gradient.fromJSON(json.gradient2));","    }","    clone() {","        return new RandomColorBetweenGradient(this.gradient1.clone(), this.gradient2.clone());","    }","}","","class ConstantColor {","    constructor(color) {","        this.color = color;","        this.type = 'value';","    }","    genColor(color) {","        return color.copy(this.color);","    }","    toJSON() {","        return {","            type: 'ConstantColor',","            color: ColorToJSON(this.color),","        };","    }","    static fromJSON(json) {","        return new ConstantColor(JSONToColor(json.color));","    }","    clone() {","        return new ConstantColor(this.color.clone());","    }","}","function ColorGeneratorFromJSON(json) {","    switch (json.type) {","        case 'ConstantColor':","            return ConstantColor.fromJSON(json);","        case 'ColorRange':","            return ColorRange.fromJSON(json);","        case 'RandomColor':","            return RandomColor.fromJSON(json);","        case 'Gradient':","            return Gradient.fromJSON(json);","        case 'RandomColorBetweenGradient':","            return RandomColorBetweenGradient.fromJSON(json);","        default:","            return new ConstantColor(new THREE.Vector4(1, 1, 1, 1));","    }","}","","class ConstantValue {","    constructor(value) {","        this.value = value;","        this.type = 'value';","    }","    genValue() {","        return this.value;","    }","    toJSON() {","        return {","            type: \"ConstantValue\",","            value: this.value","        };","    }","    static fromJSON(json) {","        return new ConstantValue(json.value);","    }","    clone() {","        return new ConstantValue(this.value);","    }","}","","class IntervalValue {","    constructor(a, b) {","        this.a = a;","        this.b = b;","        this.type = 'value';","    }","    genValue() {","        return THREE.MathUtils.lerp(this.a, this.b, Math.random());","    }","    toJSON() {","        return {","            type: 'IntervalValue',","            a: this.a,","            b: this.b,","        };","    }","    static fromJSON(json) {","        return new IntervalValue(json.a, json.b);","    }","    clone() {","        return new IntervalValue(this.a, this.b);","    }","}","","class PiecewiseFunction {","    constructor() {","        this.functions = new Array();","    }","    findFunction(t) {","        let mid = 0;","        let left = 0, right = this.functions.length - 1;","        while (left + 1 < right) {","            mid = Math.floor((left + right) / 2);","            if (t < this.getStartX(mid))","                right = mid - 1;","            else if (t > this.getEndX(mid))","                left = mid + 1;","            else","                return mid;","        }","        for (let i = left; i <= right; i++) {","            if (t >= this.functions[i][1] && t <= this.getEndX(i))","                return i;","        }","        return -1;","    }","    getStartX(index) {","        return this.functions[index][1];","    }","    setStartX(index, x) {","        if (index > 0)","            this.functions[index][1] = x;","    }","    getEndX(index) {","        if (index + 1 < this.functions.length)","            return this.functions[index + 1][1];","        return 1;","    }","    setEndX(index, x) {","        if (index + 1 < this.functions.length)","            this.functions[index + 1][1] = x;","    }","    insertFunction(t, func) {","        const index = this.findFunction(t);","        this.functions.splice(index + 1, 0, [func, t]);","    }","    removeFunction(index) {","        return this.functions.splice(index, 1)[0][0];","    }","    getFunction(index) {","        return this.functions[index][0];","    }","    setFunction(index, func) {","        this.functions[index][0] = func;","    }","    get numOfFunctions() {","        return this.functions.length;","    }","}","","class PiecewiseBezier extends PiecewiseFunction {","    constructor(curves = [[new Bezier(0, 1.0 / 3, 1.0 / 3 * 2, 1), 0]]) {","        super();","        this.type = \"function\";","        this.functions = curves;","    }","    genValue(t = 0) {","        const index = this.findFunction(t);","        if (index === -1) {","            return 0;","        }","        return this.functions[index][0].genValue((t - this.getStartX(index)) / (this.getEndX(index) - this.getStartX(index)));","    }","    toSVG(length, segments) {","        if (segments < 1)","            return \"\";","        let result = [\"M\", 0, this.functions[0][0].p[0]].join(\" \");","        for (let i = 1.0 / segments; i <= 1; i += 1.0 / segments) {","            result = [result, \"L\", i * length, this.genValue(i)].join(\" \");","        }","        return result;","    }","    toJSON() {","        return {","            type: \"PiecewiseBezier\",","            functions: this.functions.map(([bezier, start]) => ({ function: bezier.toJSON(), start: start })),","        };","    }","    static fromJSON(json) {","        return new PiecewiseBezier(json.functions.map((piecewiseFunction) => ([Bezier.fromJSON(piecewiseFunction.function), piecewiseFunction.start])));","    }","    clone() {","        return new PiecewiseBezier(this.functions.map(([bezier, start]) => ([bezier.clone(), start])));","    }","}","","function ValueGeneratorFromJSON(json) {","    switch (json.type) {","        case 'ConstantValue':","            return ConstantValue.fromJSON(json);","        case 'IntervalValue':","            return IntervalValue.fromJSON(json);","        case 'PiecewiseBezier':","            return PiecewiseBezier.fromJSON(json);","        default:","            return new ConstantValue(0);","    }","}","","class RandomQuatGenerator {","    constructor() {","        this.type = \"rotation\";","    }","    genValue(quat, t) {","        let x, y, z, u, v, w;","        do {","            x = Math.random() * 2 - 1;","            y = Math.random() * 2 - 1;","            z = x * x + y * y;","        } while (z > 1);","        do {","            u = Math.random() * 2 - 1;","            v = Math.random() * 2 - 1;","            w = u * u + v * v;","        } while (w > 1);","        const s = Math.sqrt((1 - z) / w);","        quat.set(x, y, s * u, s * v);","        return quat;","    }","    toJSON() {","        return {","            type: \"RandomQuat\"","        };","    }","    static fromJSON(json) {","        return new RandomQuatGenerator();","    }","    clone() {","        return new RandomQuatGenerator();","    }","}","","class AxisAngleGenerator {","    constructor(axis, angle) {","        this.axis = axis;","        this.angle = angle;","        this.type = 'rotation';","    }","    genValue(quat, t) {","        return quat.setFromAxisAngle(this.axis, this.angle.genValue(t));","    }","    toJSON() {","        return {","            type: 'AxisAngle',","            axis: { x: this.axis.x, y: this.axis.y, z: this.axis.z },","            angle: this.angle.toJSON(),","        };","    }","    static fromJSON(json) {","        return new AxisAngleGenerator(new THREE.Vector3(json.axis.x, json.axis.y, json.axis.z), ValueGeneratorFromJSON(json.angle));","    }","    clone() {","        return new AxisAngleGenerator(this.axis.clone(), this.angle.clone());","    }","}","","class EulerGenerator {","    constructor(angleX, angleY, angleZ, eulerOrder) {","        this.angleX = angleX;","        this.angleY = angleY;","        this.angleZ = angleZ;","        this.type = 'rotation';","        this.eular = new THREE.Euler(0, 0, 0, eulerOrder);","    }","    genValue(quat, t) {","        this.eular.set(this.angleX.genValue(t), this.angleY.genValue(t), this.angleZ.genValue(t));","        return quat.setFromEuler(this.eular);","    }","    toJSON() {","        return {","            type: 'Euler',","            angleX: this.angleX.toJSON(),","            angleY: this.angleY.toJSON(),","            angleZ: this.angleZ.toJSON(),","            eulerOrder: this.eular.order,","        };","    }","    static fromJSON(json) {","        return new EulerGenerator(ValueGeneratorFromJSON(json.angleX), ValueGeneratorFromJSON(json.angleY), ValueGeneratorFromJSON(json.angleZ), json.eulerOrder);","    }","    clone() {","        return new EulerGenerator(this.angleX, this.angleY, this.angleZ, this.eular.order);","    }","}","","function RotationGeneratorFromJSON(json) {","    switch (json.type) {","        case 'AxisAngle':","            return AxisAngleGenerator.fromJSON(json);","        case 'Euler':","            return EulerGenerator.fromJSON(json);","        case 'RandomQuat':","            return RandomQuatGenerator.fromJSON(json);","        default:","            return new RandomQuatGenerator();","    }","}","","function GeneratorFromJSON(json) {","    switch (json.type) {","        case 'ConstantValue':","        case 'IntervalValue':","        case 'PiecewiseBezier':","            return ValueGeneratorFromJSON(json);","        case 'AxisAngle':","        case 'RandomQuat':","        case 'Euler':","            return RotationGeneratorFromJSON(json);","        default:","            return new ConstantValue(0);","    }","}","","class ColorOverLife {","    constructor(color) {","        this.color = color;","        this.type = 'ColorOverLife';","    }","    initialize(particle) {","        if (this.color.type === 'memorizedFunction') {","            particle.colorOverLifeMemory = {};","            this.color.startGen(particle.colorOverLifeMemory);","        }","    }","    update(particle, delta) {","        if (this.color.type === 'memorizedFunction') {","            this.color.genColor(particle.color, particle.age / particle.life, particle.colorOverLifeMemory);","        }","        else {","            this.color.genColor(particle.color, particle.age / particle.life);","        }","        particle.color.x *= particle.startColor.x;","        particle.color.y *= particle.startColor.y;","        particle.color.z *= particle.startColor.z;","        particle.color.w *= particle.startColor.w;","    }","    frameUpdate(delta) { }","    toJSON() {","        return {","            type: this.type,","            color: this.color.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ColorOverLife(ColorGeneratorFromJSON(json.color));","    }","    clone() {","        return new ColorOverLife(this.color.clone());","    }","    reset() { }","}","","class RotationOverLife {","    constructor(angularVelocity) {","        this.angularVelocity = angularVelocity;","        this.type = 'RotationOverLife';","        this.dynamic = !(angularVelocity instanceof ConstantValue || angularVelocity instanceof IntervalValue);","    }","    initialize(particle) {","        this.dynamic = !(this.angularVelocity instanceof ConstantValue || this.angularVelocity instanceof IntervalValue);","        if (!this.dynamic && typeof particle.rotation === 'number') {","            particle.angularVelocity = this.angularVelocity.genValue();","        }","    }","    update(particle, delta) {","        if (!this.dynamic) {","            if (typeof particle.rotation === 'number') {","                particle.rotation += delta * particle.angularVelocity;","            }","        }","        else {","            if (typeof particle.rotation === 'number') {","                particle.rotation +=","                    delta * this.angularVelocity.genValue(particle.age / particle.life);","            }","        }","    }","    toJSON() {","        return {","            type: this.type,","            angularVelocity: this.angularVelocity.toJSON(),","        };","    }","    static fromJSON(json) {","        return new RotationOverLife(ValueGeneratorFromJSON(json.angularVelocity));","    }","    frameUpdate(delta) { }","    clone() {","        return new RotationOverLife(this.angularVelocity.clone());","    }","    reset() { }","}","","const IdentityQuaternion = new THREE.Quaternion();","class Rotation3DOverLife {","    constructor(angularVelocity) {","        this.angularVelocity = angularVelocity;","        this.type = 'Rotation3DOverLife';","        this.tempQuat = new THREE.Quaternion();","        this.dynamic = !(angularVelocity instanceof RandomQuatGenerator);","    }","    initialize(particle) {","        this.dynamic = !(this.angularVelocity instanceof RandomQuatGenerator);","        if (particle.rotation instanceof THREE.Quaternion) {","            particle.angularVelocity = new THREE.Quaternion();","            this.angularVelocity.genValue(particle.angularVelocity);","        }","    }","    update(particle, delta) {","        if (particle.rotation instanceof THREE.Quaternion) {","            if (!this.dynamic) {","                this.tempQuat.slerpQuaternions(IdentityQuaternion, particle.angularVelocity, delta);","                particle.rotation.multiply(this.tempQuat);","            }","            else {","                this.angularVelocity.genValue(this.tempQuat, particle.age / particle.life);","                this.tempQuat.slerpQuaternions(IdentityQuaternion, this.tempQuat, delta);","                particle.rotation.multiply(this.tempQuat);","            }","        }","    }","    toJSON() {","        return {","            type: this.type,","            angularVelocity: this.angularVelocity.toJSON(),","        };","    }","    static fromJSON(json) {","        return new Rotation3DOverLife(RotationGeneratorFromJSON(json.angularVelocity));","    }","    frameUpdate(delta) { }","    clone() {","        return new Rotation3DOverLife(this.angularVelocity.clone());","    }","    reset() { }","}","","class ForceOverLife {","    initialize(particle) { }","    constructor(x, y, z) {","        this.x = x;","        this.y = y;","        this.z = z;","        this.type = 'ForceOverLife';","        this._temp = new THREE.Vector3();","    }","    update(particle, delta) {","        this._temp.set(this.x.genValue(particle.age / particle.life), this.y.genValue(particle.age / particle.life), this.z.genValue(particle.age / particle.life));","        particle.velocity.addScaledVector(this._temp, delta);","    }","    toJSON() {","        return {","            type: this.type,","            x: this.x.toJSON(),","            y: this.y.toJSON(),","            z: this.z.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ForceOverLife(ValueGeneratorFromJSON(json.x), ValueGeneratorFromJSON(json.y), ValueGeneratorFromJSON(json.z));","    }","    frameUpdate(delta) { }","    clone() {","        return new ForceOverLife(this.x.clone(), this.y.clone(), this.z.clone());","    }","    reset() { }","}","","class SizeOverLife {","    initialize(particle) {","    }","    constructor(size) {","        this.size = size;","        this.type = 'SizeOverLife';","    }","    update(particle) {","        particle.size = particle.startSize * this.size.genValue(particle.age / particle.life);","    }","    toJSON() {","        return {","            type: this.type,","            size: this.size.toJSON(),","        };","    }","    static fromJSON(json) {","        return new SizeOverLife(ValueGeneratorFromJSON(json.size));","    }","    frameUpdate(delta) {","    }","    clone() {","        return new SizeOverLife(this.size.clone());","    }","    reset() {","    }","}","","class SpeedOverLife {","    initialize(particle) {","    }","    constructor(speed) {","        this.speed = speed;","        this.type = 'SpeedOverLife';","    }","    update(particle) {","        particle.speedModifier = this.speed.genValue(particle.age / particle.life);","    }","    toJSON() {","        return {","            type: this.type,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new SpeedOverLife(ValueGeneratorFromJSON(json.speed));","    }","    frameUpdate(delta) {","    }","    clone() {","        return new SpeedOverLife(this.speed.clone());","    }","    reset() {","    }","}","","class FrameOverLife {","    constructor(frame) {","        this.frame = frame;","        this.type = 'FrameOverLife';","    }","    initialize(particle) {","        if (!(this.frame instanceof PiecewiseBezier)) {","            particle.uvTile = Math.floor(this.frame.genValue(0) + 0.001);","        }","    }","    update(particle, delta) {","        if (this.frame instanceof PiecewiseBezier) {","            particle.uvTile = Math.floor(this.frame.genValue(particle.age / particle.life) + 0.001);","        }","    }","    frameUpdate(delta) { }","    toJSON() {","        return {","            type: this.type,","            frame: this.frame.toJSON(),","        };","    }","    static fromJSON(json) {","        return new FrameOverLife(ValueGeneratorFromJSON(json.frame));","    }","    clone() {","        return new FrameOverLife(this.frame.clone());","    }","    reset() { }","}","","new THREE.Vector3(0, 0, 1);","class OrbitOverLife {","    constructor(orbitSpeed, axis = new THREE.Vector3(0, 1, 0)) {","        this.orbitSpeed = orbitSpeed;","        this.axis = axis;","        this.type = 'OrbitOverLife';","        this.temp = new THREE.Vector3();","        this.rotation = new THREE.Quaternion();","        this.line = new THREE.Line3();","    }","    initialize(particle) {","    }","    update(particle, delta) {","        this.line.set(new THREE.Vector3(0, 0, 0), this.axis);","        this.line.closestPointToPoint(particle.position, false, this.temp);","        this.rotation.setFromAxisAngle(this.axis, this.orbitSpeed.genValue(particle.age / particle.life) * delta);","        particle.position.sub(this.temp);","        particle.position.applyQuaternion(this.rotation);","        particle.position.add(this.temp);","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            orbitSpeed: this.orbitSpeed.toJSON(),","            axis: [this.axis.x, this.axis.y, this.axis.z],","        };","    }","    static fromJSON(json) {","        return new OrbitOverLife(ValueGeneratorFromJSON(json.orbitSpeed), json.axis ? new THREE.Vector3(json.axis[0], json.axis[1], json.axis[2]) : undefined);","    }","    clone() {","        return new OrbitOverLife(this.orbitSpeed.clone());","    }","    reset() {","    }","}","","class WidthOverLength {","    initialize(particle) {","    }","    constructor(width) {","        this.width = width;","        this.type = 'WidthOverLength';","    }","    update(particle) {","        if (particle instanceof TrailParticle) {","            const iter = particle.previous.values();","            for (let i = 0; i < particle.previous.length; i++) {","                const cur = iter.next();","                cur.value.size = this.width.genValue((particle.previous.length - i) / particle.length);","            }","        }","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            width: this.width.toJSON(),","        };","    }","    static fromJSON(json) {","        return new WidthOverLength(ValueGeneratorFromJSON(json.width));","    }","    clone() {","        return new WidthOverLength(this.width.clone());","    }","    reset() {","    }","}","","class ApplyForce {","    constructor(direction, magnitude) {","        this.direction = direction;","        this.magnitude = magnitude;","        this.type = 'ApplyForce';","        this.magnitudeValue = this.magnitude.genValue();","    }","    initialize(particle) {","    }","    update(particle, delta) {","        particle.velocity.addScaledVector(this.direction, this.magnitudeValue * delta);","    }","    frameUpdate(delta) {","        this.magnitudeValue = this.magnitude.genValue();","    }","    toJSON() {","        return {","            type: this.type,","            direction: [this.direction.x, this.direction.y, this.direction.z],","            magnitude: this.magnitude.toJSON(),","        };","    }","    static fromJSON(json) {","        var _a;","        return new ApplyForce(new THREE.Vector3(json.direction[0], json.direction[1], json.direction[2]), ValueGeneratorFromJSON((_a = json.magnitude) !== null && _a !== void 0 ? _a : json.force));","    }","    clone() {","        return new ApplyForce(this.direction.clone(), this.magnitude.clone());","    }","    reset() {","    }","}","","class GravityForce {","    constructor(center, magnitude) {","        this.center = center;","        this.magnitude = magnitude;","        this.type = 'GravityForce';","        this.temp = new THREE.Vector3();","    }","    initialize(particle) {","    }","    update(particle, delta) {","        this.temp.copy(this.center).sub(particle.position).normalize();","        particle.velocity.addScaledVector(this.temp, this.magnitude / particle.position.distanceToSquared(this.center) * delta);","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            center: [this.center.x, this.center.y, this.center.z],","            magnitude: this.magnitude,","        };","    }","    static fromJSON(json) {","        return new GravityForce(new THREE.Vector3(json.center[0], json.center[1], json.center[2]), json.magnitude);","    }","    clone() {","        return new GravityForce(this.center.clone(), this.magnitude);","    }","    reset() {","    }","}","","new THREE.Vector3(0, 0, 1);","class ChangeEmitDirection {","    constructor(angle) {","        this.angle = angle;","        this.type = 'ChangeEmitDirection';","        this._temp = new THREE.Vector3();","        this._q = new THREE.Quaternion();","    }","    initialize(particle) {","        const len = particle.velocity.length();","        if (len == 0)","            return;","        particle.velocity.normalize();","        if (particle.velocity.x === 0 && particle.velocity.y === 0) {","            this._temp.set(0, particle.velocity.z, 0);","        }","        else {","            this._temp.set(-particle.velocity.y, particle.velocity.x, 0);","        }","        this._q.setFromAxisAngle(this._temp.normalize(), this.angle.genValue());","        this._temp.copy(particle.velocity);","        particle.velocity.applyQuaternion(this._q);","        this._q.setFromAxisAngle(this._temp, Math.random() * Math.PI * 2);","        particle.velocity.applyQuaternion(this._q);","        particle.velocity.setLength(len);","    }","    update(particle, delta) {","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            angle: this.angle.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ChangeEmitDirection(ValueGeneratorFromJSON(json.angle));","    }","    clone() {","        return new ChangeEmitDirection(this.angle);","    }","    reset() {","    }","}","","const VECTOR_ONE = new THREE.Vector3(1, 1, 1);","const VECTOR_Z = new THREE.Vector3(0, 0, 1);","gdjs.__particleEmmiter3DExtension.SubParticleEmitMode = void 0;","(function (SubParticleEmitMode) {","    SubParticleEmitMode[SubParticleEmitMode[\"Death\"] = 0] = \"Death\";","    SubParticleEmitMode[SubParticleEmitMode[\"Birth\"] = 1] = \"Birth\";","    SubParticleEmitMode[SubParticleEmitMode[\"Frame\"] = 2] = \"Frame\";","})(gdjs.__particleEmmiter3DExtension.SubParticleEmitMode || (gdjs.__particleEmmiter3DExtension.SubParticleEmitMode = {}));","class EmitSubParticleSystem {","    constructor(particleSystem, useVelocityAsBasis, subParticleSystem, mode = gdjs.__particleEmmiter3DExtension.SubParticleEmitMode.Frame, emitProbability = 1) {","        this.particleSystem = particleSystem;","        this.useVelocityAsBasis = useVelocityAsBasis;","        this.subParticleSystem = subParticleSystem;","        this.mode = mode;","        this.emitProbability = emitProbability;","        this.type = 'EmitSubParticleSystem';","        this.q_ = new THREE.Quaternion();","        this.v_ = new THREE.Vector3();","        this.v2_ = new THREE.Vector3();","        this.subEmissions = new Array();","        if (this.subParticleSystem && this.subParticleSystem.system) {","            this.subParticleSystem.system.onlyUsedByOther = true;","        }","    }","    initialize(particle) {","    }","    update(particle, delta) {","        if (this.mode === gdjs.__particleEmmiter3DExtension.SubParticleEmitMode.Frame) {","            this.emit(particle, delta);","        }","        else if (this.mode === gdjs.__particleEmmiter3DExtension.SubParticleEmitMode.Birth && particle.age === 0) {","            this.emit(particle, delta);","        }","        else if (this.mode === gdjs.__particleEmmiter3DExtension.SubParticleEmitMode.Death && particle.age + delta >= particle.life) {","            this.emit(particle, delta);","        }","    }","    emit(particle, delta) {","        if (!this.subParticleSystem)","            return;","        if (Math.random() > this.emitProbability) {","            return;","        }","        const m = new THREE.Matrix4();","        this.setMatrixFromParticle(m, particle);","        this.subEmissions.push({","            burstIndex: 0,","            burstWaveIndex: 0,","            time: 0,","            waitEmiting: 0,","            matrix: m,","            travelDistance: 0,","            particle: particle,","        });","    }","    frameUpdate(delta) {","        if (!this.subParticleSystem)","            return;","        for (let i = 0; i < this.subEmissions.length; i++) {","            if (this.subEmissions[i].time >= this.subParticleSystem.system.duration) {","                this.subEmissions[i] = this.subEmissions[this.subEmissions.length - 1];","                this.subEmissions.length = this.subEmissions.length - 1;","                i--;","            }","            else {","                let subEmissionState = this.subEmissions[i];","                if (subEmissionState.particle && subEmissionState.particle.age < subEmissionState.particle.life) {","                    this.setMatrixFromParticle(subEmissionState.matrix, subEmissionState.particle);","                }","                else {","                    subEmissionState.particle = undefined;","                }","                this.subParticleSystem.system.emit(delta, subEmissionState, subEmissionState.matrix);","            }","        }","    }","    toJSON() {","        return {","            type: this.type,","            subParticleSystem: this.subParticleSystem ? this.subParticleSystem.uuid : '',","            useVelocityAsBasis: this.useVelocityAsBasis,","            mode: this.mode,","            emitProbability: this.emitProbability,","        };","    }","    static fromJSON(json, particleSystem) {","        return new EmitSubParticleSystem(particleSystem, json.useVelocityAsBasis, json.subParticleSystem, json.mode, json.emitProbability);","    }","    clone() {","        return new EmitSubParticleSystem(this.particleSystem, this.useVelocityAsBasis, this.subParticleSystem, this.mode, this.emitProbability);","    }","    reset() { }","    setMatrixFromParticle(m, particle) {","        let rotation;","        if (particle.rotation === undefined || this.useVelocityAsBasis) {","            if (particle.velocity.x === 0 &&","                particle.velocity.y === 0 &&","                (particle.velocity.z === 1 || particle.velocity.z === 0)) {","                m.set(1, 0, 0, particle.position.x, 0, 1, 0, particle.position.y, 0, 0, 1, particle.position.z, 0, 0, 0, 1);","            }","            else {","                this.v_.copy(VECTOR_Z).cross(particle.velocity);","                this.v2_.copy(particle.velocity).cross(this.v_);","                const len = this.v_.length();","                const len2 = this.v2_.length();","                m.set(this.v_.x / len, this.v2_.x / len2, particle.velocity.x, particle.position.x, this.v_.y / len, this.v2_.y / len2, particle.velocity.y, particle.position.y, this.v_.z / len, this.v2_.z / len2, particle.velocity.z, particle.position.z, 0, 0, 0, 1);","            }","        }","        else {","            if (particle.rotation instanceof THREE.Quaternion) {","                rotation = particle.rotation;","            }","            else {","                this.q_.setFromAxisAngle(VECTOR_Z, particle.rotation);","                rotation = this.q_;","            }","            m.compose(particle.position, rotation, VECTOR_ONE);","        }","        if (!this.particleSystem.worldSpace) {","            m.multiplyMatrices(this.particleSystem.emitter.matrixWorld, m);","        }","    }","}","","const F2 = 0.5 * (Math.sqrt(3.0) - 1.0);","const G2 = (3.0 - Math.sqrt(3.0)) / 6.0;","const F3 = 1.0 / 3.0;","const G3 = 1.0 / 6.0;","const F4 = (Math.sqrt(5.0) - 1.0) / 4.0;","const G4 = (5.0 - Math.sqrt(5.0)) / 20.0;","const grad3 = new Float32Array([1, 1, 0,","    -1, 1, 0,","    1, -1, 0,","    -1, -1, 0,","    1, 0, 1,","    -1, 0, 1,","    1, 0, -1,","    -1, 0, -1,","    0, 1, 1,","    0, -1, 1,","    0, 1, -1,","    0, -1, -1]);","const grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,","    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,","    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,","    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,","    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,","    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,","    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,","    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);","class SimplexNoise {","    constructor(randomOrSeed = Math.random) {","        const random = typeof randomOrSeed == 'function' ? randomOrSeed : alea(randomOrSeed);","        this.p = buildPermutationTable(random);","        this.perm = new Uint8Array(512);","        this.permMod12 = new Uint8Array(512);","        for (let i = 0; i < 512; i++) {","            this.perm[i] = this.p[i & 255];","            this.permMod12[i] = this.perm[i] % 12;","        }","    }","    noise2D(x, y) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0 = 0;","        let n1 = 0;","        let n2 = 0;","        const s = (x + y) * F2;","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const t = (i + j) * G2;","        const X0 = i - t;","        const Y0 = j - t;","        const x0 = x - X0;","        const y0 = y - Y0;","        let i1, j1;","        if (x0 > y0) {","            i1 = 1;","            j1 = 0;","        }","        else {","            i1 = 0;","            j1 = 1;","        }","        const x1 = x0 - i1 + G2;","        const y1 = y0 - j1 + G2;","        const x2 = x0 - 1.0 + 2.0 * G2;","        const y2 = y0 - 1.0 + 2.0 * G2;","        const ii = i & 255;","        const jj = j & 255;","        let t0 = 0.5 - x0 * x0 - y0 * y0;","        if (t0 >= 0) {","            const gi0 = permMod12[ii + perm[jj]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0);","        }","        let t1 = 0.5 - x1 * x1 - y1 * y1;","        if (t1 >= 0) {","            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);","        }","        let t2 = 0.5 - x2 * x2 - y2 * y2;","        if (t2 >= 0) {","            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);","        }","        return 70.0 * (n0 + n1 + n2);","    }","    noise3D(x, y, z) {","        const permMod12 = this.permMod12;","        const perm = this.perm;","        let n0, n1, n2, n3;","        const s = (x + y + z) * F3;","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const t = (i + j + k) * G3;","        const X0 = i - t;","        const Y0 = j - t;","        const Z0 = k - t;","        const x0 = x - X0;","        const y0 = y - Y0;","        const z0 = z - Z0;","        let i1, j1, k1;","        let i2, j2, k2;","        if (x0 >= y0) {","            if (y0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            }","            else if (x0 >= z0) {","                i1 = 1;","                j1 = 0;","                k1 = 0;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            }","            else {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 1;","                j2 = 0;","                k2 = 1;","            }","        }","        else {","            if (y0 < z0) {","                i1 = 0;","                j1 = 0;","                k1 = 1;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            }","            else if (x0 < z0) {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 0;","                j2 = 1;","                k2 = 1;","            }","            else {","                i1 = 0;","                j1 = 1;","                k1 = 0;","                i2 = 1;","                j2 = 1;","                k2 = 0;","            }","        }","        const x1 = x0 - i1 + G3;","        const y1 = y0 - j1 + G3;","        const z1 = z0 - k1 + G3;","        const x2 = x0 - i2 + 2.0 * G3;","        const y2 = y0 - j2 + 2.0 * G3;","        const z2 = z0 - k2 + 2.0 * G3;","        const x3 = x0 - 1.0 + 3.0 * G3;","        const y3 = y0 - 1.0 + 3.0 * G3;","        const z3 = z0 - 1.0 + 3.0 * G3;","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;","            t0 *= t0;","            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;","            t1 *= t1;","            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;","            t2 *= t2;","            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;","            t3 *= t3;","            n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);","        }","        return 32.0 * (n0 + n1 + n2 + n3);","    }","    noise4D(x, y, z, w) {","        const perm = this.perm;","        let n0, n1, n2, n3, n4;","        const s = (x + y + z + w) * F4;","        const i = Math.floor(x + s);","        const j = Math.floor(y + s);","        const k = Math.floor(z + s);","        const l = Math.floor(w + s);","        const t = (i + j + k + l) * G4;","        const X0 = i - t;","        const Y0 = j - t;","        const Z0 = k - t;","        const W0 = l - t;","        const x0 = x - X0;","        const y0 = y - Y0;","        const z0 = z - Z0;","        const w0 = w - W0;","        let rankx = 0;","        let ranky = 0;","        let rankz = 0;","        let rankw = 0;","        if (x0 > y0)","            rankx++;","        else","            ranky++;","        if (x0 > z0)","            rankx++;","        else","            rankz++;","        if (x0 > w0)","            rankx++;","        else","            rankw++;","        if (y0 > z0)","            ranky++;","        else","            rankz++;","        if (y0 > w0)","            ranky++;","        else","            rankw++;","        if (z0 > w0)","            rankz++;","        else","            rankw++;","        const i1 = rankx >= 3 ? 1 : 0;","        const j1 = ranky >= 3 ? 1 : 0;","        const k1 = rankz >= 3 ? 1 : 0;","        const l1 = rankw >= 3 ? 1 : 0;","        const i2 = rankx >= 2 ? 1 : 0;","        const j2 = ranky >= 2 ? 1 : 0;","        const k2 = rankz >= 2 ? 1 : 0;","        const l2 = rankw >= 2 ? 1 : 0;","        const i3 = rankx >= 1 ? 1 : 0;","        const j3 = ranky >= 1 ? 1 : 0;","        const k3 = rankz >= 1 ? 1 : 0;","        const l3 = rankw >= 1 ? 1 : 0;","        const x1 = x0 - i1 + G4;","        const y1 = y0 - j1 + G4;","        const z1 = z0 - k1 + G4;","        const w1 = w0 - l1 + G4;","        const x2 = x0 - i2 + 2.0 * G4;","        const y2 = y0 - j2 + 2.0 * G4;","        const z2 = z0 - k2 + 2.0 * G4;","        const w2 = w0 - l2 + 2.0 * G4;","        const x3 = x0 - i3 + 3.0 * G4;","        const y3 = y0 - j3 + 3.0 * G4;","        const z3 = z0 - k3 + 3.0 * G4;","        const w3 = w0 - l3 + 3.0 * G4;","        const x4 = x0 - 1.0 + 4.0 * G4;","        const y4 = y0 - 1.0 + 4.0 * G4;","        const z4 = z0 - 1.0 + 4.0 * G4;","        const w4 = w0 - 1.0 + 4.0 * G4;","        const ii = i & 255;","        const jj = j & 255;","        const kk = k & 255;","        const ll = l & 255;","        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;","        if (t0 < 0)","            n0 = 0.0;","        else {","            const gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;","            t0 *= t0;","            n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);","        }","        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;","        if (t1 < 0)","            n1 = 0.0;","        else {","            const gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;","            t1 *= t1;","            n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);","        }","        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;","        if (t2 < 0)","            n2 = 0.0;","        else {","            const gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;","            t2 *= t2;","            n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);","        }","        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;","        if (t3 < 0)","            n3 = 0.0;","        else {","            const gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;","            t3 *= t3;","            n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);","        }","        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;","        if (t4 < 0)","            n4 = 0.0;","        else {","            const gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;","            t4 *= t4;","            n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);","        }","        return 27.0 * (n0 + n1 + n2 + n3 + n4);","    }","}","function buildPermutationTable(random) {","    const p = new Uint8Array(256);","    for (let i = 0; i < 256; i++) {","        p[i] = i;","    }","    for (let i = 0; i < 255; i++) {","        const r = i + ~~(random() * (256 - i));","        const aux = p[i];","        p[i] = p[r];","        p[r] = aux;","    }","    return p;","}","function alea(seed) {","    let s0 = 0;","    let s1 = 0;","    let s2 = 0;","    let c = 1;","    const mash = masher();","    s0 = mash(' ');","    s1 = mash(' ');","    s2 = mash(' ');","    s0 -= mash(seed);","    if (s0 < 0) {","        s0 += 1;","    }","    s1 -= mash(seed);","    if (s1 < 0) {","        s1 += 1;","    }","    s2 -= mash(seed);","    if (s2 < 0) {","        s2 += 1;","    }","    return function () {","        const t = 2091639 * s0 + c * 2.3283064365386963e-10;","        s0 = s1;","        s1 = s2;","        return s2 = t - (c = t | 0);","    };","}","function masher() {","    let n = 0xefc8249d;","    return function (data) {","        data = data.toString();","        for (let i = 0; i < data.length; i++) {","            n += data.charCodeAt(i);","            let h = 0.02519603282416938 * n;","            n = h >>> 0;","            h -= n;","            h *= n;","            n = h >>> 0;","            h -= n;","            n += h * 0x100000000;","        }","        return (n >>> 0) * 2.3283064365386963e-10;","    };","}","","class TurbulenceField {","    constructor(scale, octaves, velocityMultiplier, timeScale) {","        this.scale = scale;","        this.octaves = octaves;","        this.velocityMultiplier = velocityMultiplier;","        this.timeScale = timeScale;","        this.type = 'TurbulenceField';","        this.generator = new SimplexNoise();","        this.timeOffset = new THREE.Vector3();","        this.temp = new THREE.Vector3();","        this.temp2 = new THREE.Vector3();","        this.timeOffset.x = Math.random() / this.scale.x * this.timeScale.x;","        this.timeOffset.y = Math.random() / this.scale.y * this.timeScale.y;","        this.timeOffset.z = Math.random() / this.scale.z * this.timeScale.z;","    }","    initialize(particle) {","    }","    update(particle, delta) {","        const x = particle.position.x / this.scale.x;","        const y = particle.position.y / this.scale.y;","        const z = particle.position.z / this.scale.z;","        this.temp.set(0, 0, 0);","        let lvl = 1;","        for (let i = 0; i < this.octaves; i++) {","            this.temp2.set(this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.x * lvl) / lvl, this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.y * lvl) / lvl, this.generator.noise4D(x * lvl, y * lvl, z * lvl, this.timeOffset.z * lvl) / lvl);","            this.temp.add(this.temp2);","            lvl *= 2;","        }","        this.temp.multiply(this.velocityMultiplier);","        particle.velocity.addScaledVector(this.temp, delta);","    }","    toJSON() {","        return {","            type: this.type,","            scale: [this.scale.x, this.scale.y, this.scale.z],","            octaves: this.octaves,","            velocityMultiplier: [this.velocityMultiplier.x, this.velocityMultiplier.y, this.velocityMultiplier.z],","            timeScale: [this.timeScale.x, this.timeScale.y, this.timeScale.z],","        };","    }","    frameUpdate(delta) {","        this.timeOffset.x += delta * this.timeScale.x;","        this.timeOffset.y += delta * this.timeScale.y;","        this.timeOffset.z += delta * this.timeScale.z;","    }","    static fromJSON(json) {","        return new TurbulenceField(new THREE.Vector3(json.scale[0], json.scale[1], json.scale[2]), json.octaves, new THREE.Vector3(json.velocityMultiplier[0], json.velocityMultiplier[1], json.velocityMultiplier[2]), new THREE.Vector3(json.timeScale[0], json.timeScale[1], json.timeScale[2]));","    }","    clone() {","        return new TurbulenceField(this.scale.clone(), this.octaves, this.velocityMultiplier.clone(), this.timeScale.clone());","    }","    reset() {","    }","}","","function randomInt(a, b) {","    return Math.floor(Math.random() * (b - a)) + a;","}","","const generators = [];","const tempV$2 = new THREE.Vector3();","const tempQ$2 = new THREE.Quaternion();","class Noise {","    constructor(frequency, power, positionAmount = new ConstantValue(1), rotationAmount = new ConstantValue(0)) {","        this.frequency = frequency;","        this.power = power;","        this.positionAmount = positionAmount;","        this.rotationAmount = rotationAmount;","        this.type = 'Noise';","        this.duration = 0;","        if (generators.length === 0) {","            for (let i = 0; i < 100; i++) {","                generators.push(new SimplexNoise());","            }","        }","    }","    initialize(particle) {","        particle.lastPosNoise = new THREE.Vector3();","        if (typeof particle.rotation === 'number') {","            particle.lastRotNoise = 0;","        }","        else {","            particle.lastRotNoise = new THREE.Quaternion();","        }","        particle.generatorIndex = [randomInt(0, 100), randomInt(0, 100), randomInt(0, 100), randomInt(0, 100)];","    }","    update(particle, _) {","        let frequency = this.frequency.genValue(particle.age / particle.life);","        let power = this.power.genValue(particle.age / particle.life);","        let positionAmount = this.positionAmount.genValue(particle.age / particle.life);","        let rotationAmount = this.rotationAmount.genValue(particle.age / particle.life);","        if (positionAmount > 0 && particle.lastPosNoise !== undefined) {","            particle.position.sub(particle.lastPosNoise);","            tempV$2.set(generators[particle.generatorIndex[0]].noise2D(0, particle.age * frequency) *","                power *","                positionAmount, generators[particle.generatorIndex[1]].noise2D(0, particle.age * frequency) *","                power *","                positionAmount, generators[particle.generatorIndex[2]].noise2D(0, particle.age * frequency) *","                power *","                positionAmount);","            particle.position.add(tempV$2);","            particle.lastPosNoise.copy(tempV$2);","        }","        if (rotationAmount > 0 && particle.lastRotNoise !== undefined) {","            if (typeof particle.rotation === 'number') {","                particle.rotation -= particle.lastRotNoise;","                particle.rotation +=","                    generators[particle.generatorIndex[3]].noise2D(0, particle.age * frequency) *","                    Math.PI *","                    power *","                    rotationAmount;","            }","            else {","                particle.lastRotNoise.invert();","                particle.rotation.multiply(particle.lastRotNoise);","                tempQ$2","                    .set(generators[particle.generatorIndex[0]].noise2D(0, particle.age * frequency) *","                        power *","                        rotationAmount, generators[particle.generatorIndex[1]].noise2D(0, particle.age * frequency) *","                        power *","                        rotationAmount, generators[particle.generatorIndex[2]].noise2D(0, particle.age * frequency) *","                        power *","                        rotationAmount, generators[particle.generatorIndex[3]].noise2D(0, particle.age * frequency) *","                        power *","                        rotationAmount)","                    .normalize();","                particle.rotation.multiply(tempQ$2);","                particle.lastRotNoise.copy(tempQ$2);","            }","        }","    }","    toJSON() {","        return {","            type: this.type,","            frequency: this.frequency.toJSON(),","            power: this.power.toJSON(),","            positionAmount: this.positionAmount.toJSON(),","            rotationAmount: this.rotationAmount.toJSON(),","        };","    }","    frameUpdate(delta) {","        this.duration += delta;","    }","    static fromJSON(json) {","        return new Noise(ValueGeneratorFromJSON(json.frequency), ValueGeneratorFromJSON(json.power), ValueGeneratorFromJSON(json.positionAmount), ValueGeneratorFromJSON(json.rotationAmount));","    }","    clone() {","        return new Noise(this.frequency.clone(), this.power.clone(), this.positionAmount.clone(), this.rotationAmount.clone());","    }","    reset() { }","}","","class TextureSequencer {","    constructor(scaleX = 0, scaleY = 0, position = new THREE.Vector3()) {","        this.scaleX = scaleX;","        this.scaleY = scaleY;","        this.position = position;","        this.locations = [];","    }","    transform(position, index) {","        position.x = this.locations[index % this.locations.length].x * this.scaleX + this.position.x;","        position.y = this.locations[index % this.locations.length].y * this.scaleY + this.position.y;","        position.z = this.position.z;","    }","    static fromJSON(json) {","        const textureSequencer = new TextureSequencer(json.scaleX, json.scaleY, new THREE.Vector3(json.position[0], json.position[1], json.position[2]));","        textureSequencer.locations = json.locations.map((loc) => new THREE.Vector2(loc.x, loc.y));","        return textureSequencer;","    }","    clone() {","        const textureSequencer = new TextureSequencer(this.scaleX, this.scaleY, this.position.clone());","        textureSequencer.locations = this.locations.map(loc => loc.clone());","        return textureSequencer;","    }","    toJSON() {","        return {","            scaleX: this.scaleX,","            scaleY: this.scaleY,","            position: this.position,","            locations: this.locations.map(loc => ({","                x: loc.x,","                y: loc.y,","            }))","        };","    }","    fromImage(img, threshold) {","        const canvas = document.createElement(\"canvas\");","        canvas.width = img.width;","        canvas.height = img.height;","        const ctx = canvas.getContext(\"2d\");","        if (!ctx) {","            return;","        }","        ctx.drawImage(img, 0, 0);","        const data = ctx.getImageData(0, 0, canvas.width, canvas.height, { colorSpace: \"srgb\" });","        canvas.remove();","        this.locations.length = 0;","        for (let i = 0; i < data.height; i++) {","            for (let j = 0; j < data.width; j++) {","                if (data.data[(i * data.width + j) * 4 + 3] > threshold) {","                    this.locations.push(new THREE.Vector2(j, data.height - i));","                }","            }","        }","    }","}","","function SequencerFromJSON(json) {","    switch (json.type) {","        case 'TextureSequencer':","            return TextureSequencer.fromJSON(json);","        default:","            return new TextureSequencer();","    }","}","","class ApplySequences {","    constructor(delayBetweenParticles) {","        this.type = 'ApplySequences';","        this.sequencers = [];","        this.time = 0;","        this.index = 0;","        this.pCount = 0;","        this.tempV = new THREE.Vector3();","        this.delay = delayBetweenParticles;","    }","    initialize(particle) {","        particle.id = this.pCount;","        particle.dst = new THREE.Vector3();","        particle.begin = new THREE.Vector3();","        particle.inMotion = false;","        this.pCount++;","    }","    reset() {","        this.time = 0;","        this.index = 0;","        this.pCount = 0;","    }","    update(particle, delta) {","        const sequencer = this.sequencers[this.index];","        const delay = particle.id * this.delay;","        if (this.time >= sequencer[0].a + delay && this.time <= sequencer[0].b + delay) {","            if (!particle.inMotion) {","                particle.inMotion = true;","                particle.begin.copy(particle.position);","                sequencer[1].transform(particle.dst, particle.id);","            }","            particle.position.lerpVectors(particle.begin, particle.dst, ApplySequences.BEZIER.genValue((this.time - sequencer[0].a - delay) / (sequencer[0].b - sequencer[0].a)));","        }","        else if (this.time > sequencer[0].b + delay) {","            particle.inMotion = false;","        }","    }","    frameUpdate(delta) {","        while (this.index + 1 < this.sequencers.length && this.time >= this.sequencers[this.index + 1][0].a) {","            this.index++;","        }","        this.time += delta;","    }","    appendSequencer(range, sequencer) {","        this.sequencers.push([range, sequencer]);","    }","    toJSON() {","        return {","            type: this.type,","            delay: this.delay,","            sequencers: this.sequencers.map(([range, sequencer]) => ({","                range: range.toJSON(),","                sequencer: sequencer.toJSON(),","            })),","        };","    }","    static fromJSON(json) {","        const seq = new ApplySequences(json.delay);","        json.sequencers.forEach((sequencerJson) => {","            seq.sequencers.push([ValueGeneratorFromJSON(sequencerJson.range), SequencerFromJSON(sequencerJson.sequencer)]);","        });","        return seq;","    }","    clone() {","        const applySequences = new ApplySequences(this.delay);","        applySequences.sequencers = this.sequencers.map(seq => [seq[0].clone(), seq[1].clone()]);","        return applySequences;","    }","}","ApplySequences.BEZIER = new Bezier(0, 0, 1, 1);","","let physicsResolver;","function setPhysicsResolver(resolver) {","    physicsResolver = resolver;","}","function getPhysicsResolver() {","    return physicsResolver;","}","class ApplyCollision {","    constructor(resolver, bounce) {","        this.resolver = resolver;","        this.bounce = bounce;","        this.type = 'ApplyCollision';","        this.tempV = new THREE.Vector3();","    }","    initialize(particle) {","    }","    update(particle, delta) {","        if (this.resolver.resolve(particle.position, this.tempV)) {","            particle.velocity.reflect(this.tempV).multiplyScalar(this.bounce);","        }","    }","    frameUpdate(delta) {","    }","    toJSON() {","        return {","            type: this.type,","            bounce: this.bounce,","        };","    }","    static fromJSON(json) {","        return new ApplyCollision(getPhysicsResolver(), json.bounce);","    }","    clone() {","        return new ApplyCollision(this.resolver, this.bounce);","    }","    reset() {","    }","}","","class ColorBySpeed {","    constructor(color, speedRange) {","        this.color = color;","        this.speedRange = speedRange;","        this.type = 'ColorBySpeed';","    }","    initialize(particle) {","        if (this.color.type === 'memorizedFunction') {","            particle.colorOverLifeMemory = {};","            this.color.startGen(particle.colorOverLifeMemory);","        }","    }","    update(particle, delta) {","        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);","        if (this.color.type === 'memorizedFunction') {","            this.color.genColor(particle.color, t, particle.colorOverLifeMemory);","        }","        else {","            this.color.genColor(particle.color, t);","        }","        particle.color.x *= particle.startColor.x;","        particle.color.y *= particle.startColor.y;","        particle.color.z *= particle.startColor.z;","        particle.color.w *= particle.startColor.w;","    }","    frameUpdate(delta) { }","    toJSON() {","        return {","            type: this.type,","            color: this.color.toJSON(),","            speedRange: this.speedRange.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ColorBySpeed(ColorGeneratorFromJSON(json.color), IntervalValue.fromJSON(json.speedRange));","    }","    clone() {","        return new ColorBySpeed(this.color.clone(), this.speedRange.clone());","    }","    reset() { }","}","","class SizeBySpeed {","    initialize(particle) { }","    constructor(size, speedRange) {","        this.size = size;","        this.speedRange = speedRange;","        this.type = 'SizeBySpeed';","    }","    update(particle) {","        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);","        particle.size = particle.startSize * this.size.genValue(t);","    }","    toJSON() {","        return {","            type: this.type,","            size: this.size.toJSON(),","            speedRange: this.speedRange.toJSON(),","        };","    }","    static fromJSON(json) {","        return new SizeBySpeed(ValueGeneratorFromJSON(json.size), IntervalValue.fromJSON(json.speedRange));","    }","    frameUpdate(delta) { }","    clone() {","        return new SizeBySpeed(this.size.clone(), this.speedRange.clone());","    }","    reset() { }","}","","class RotationBySpeed {","    constructor(angularVelocity, speedRange) {","        this.angularVelocity = angularVelocity;","        this.speedRange = speedRange;","        this.type = 'RotationBySpeed';","        this.tempQuat = new THREE.Quaternion();","    }","    initialize(particle) { }","    update(particle, delta) {","        const t = (particle.startSpeed - this.speedRange.a) / (this.speedRange.b - this.speedRange.a);","        particle.rotation += delta * this.angularVelocity.genValue(t);","    }","    toJSON() {","        return {","            type: this.type,","            angularVelocity: this.angularVelocity.toJSON(),","            speedRange: this.speedRange.toJSON(),","        };","    }","    static fromJSON(json) {","        return new RotationBySpeed(ValueGeneratorFromJSON(json.angularVelocity), IntervalValue.fromJSON(json.speedRange));","    }","    frameUpdate(delta) { }","    clone() {","        return new RotationBySpeed(this.angularVelocity.clone(), this.speedRange.clone());","    }","    reset() { }","}","","class LimitSpeedOverLife {","    initialize(particle) { }","    constructor(speed, dampen) {","        this.speed = speed;","        this.dampen = dampen;","        this.type = 'LimitSpeedOverLife';","    }","    update(particle, delta) {","        let speed = particle.velocity.length();","        let limit = this.speed.genValue(particle.age / particle.life);","        if (speed > limit) {","            const percent = (speed - limit) / speed;","            particle.velocity.multiplyScalar(1 - percent * this.dampen * delta * 20);","        }","    }","    toJSON() {","        return {","            type: this.type,","            speed: this.speed.toJSON(),","            dampen: this.dampen,","        };","    }","    static fromJSON(json) {","        return new LimitSpeedOverLife(ValueGeneratorFromJSON(json.speed), json.dampen);","    }","    frameUpdate(delta) { }","    clone() {","        return new LimitSpeedOverLife(this.speed.clone(), this.dampen);","    }","    reset() { }","}","","const BehaviorTypes = {","    ApplyForce: {","        type: 'ApplyForce',","        constructor: ApplyForce,","        params: [","            ['direction', 'vec3'],","            ['magnitude', 'value'],","        ],","        loadJSON: ApplyForce.fromJSON,","    },","    Noise: {","        type: 'Noise',","        constructor: Noise,","        params: [","            ['frequency', 'value'],","            ['power', 'value'],","            ['positionAmount', 'value'],","            ['rotationAmount', 'value'],","        ],","        loadJSON: Noise.fromJSON,","    },","    TurbulenceField: {","        type: 'TurbulenceField',","        constructor: TurbulenceField,","        params: [","            ['scale', 'vec3'],","            ['octaves', 'number'],","            ['velocityMultiplier', 'vec3'],","            ['timeScale', 'vec3'],","        ],","        loadJSON: TurbulenceField.fromJSON,","    },","    GravityForce: {","        type: 'GravityForce',","        constructor: GravityForce,","        params: [","            ['center', 'vec3'],","            ['magnitude', 'number'],","        ],","        loadJSON: GravityForce.fromJSON,","    },","    ColorOverLife: {","        type: 'ColorOverLife',","        constructor: ColorOverLife,","        params: [['color', 'colorFunc']],","        loadJSON: ColorOverLife.fromJSON,","    },","    RotationOverLife: {","        type: 'RotationOverLife',","        constructor: RotationOverLife,","        params: [['angularVelocity', 'valueFunc']],","        loadJSON: RotationOverLife.fromJSON,","    },","    Rotation3DOverLife: {","        type: 'Rotation3DOverLife',","        constructor: Rotation3DOverLife,","        params: [['angularVelocity', 'rotationFunc']],","        loadJSON: Rotation3DOverLife.fromJSON,","    },","    SizeOverLife: {","        type: 'SizeOverLife',","        constructor: SizeOverLife,","        params: [['size', 'valueFunc']],","        loadJSON: SizeOverLife.fromJSON,","    },","    ColorBySpeed: {","        type: 'ColorBySpeed',","        constructor: ColorBySpeed,","        params: [","            ['color', 'colorFunc'],","            ['speedRange', 'range'],","        ],","        loadJSON: ColorBySpeed.fromJSON,","    },","    RotationBySpeed: {","        type: 'RotationBySpeed',","        constructor: RotationBySpeed,","        params: [","            ['angularVelocity', 'valueFunc'],","            ['speedRange', 'range'],","        ],","        loadJSON: RotationBySpeed.fromJSON,","    },","    SizeBySpeed: {","        type: 'SizeBySpeed',","        constructor: SizeBySpeed,","        params: [","            ['size', 'valueFunc'],","            ['speedRange', 'range'],","        ],","        loadJSON: SizeBySpeed.fromJSON,","    },","    SpeedOverLife: {","        type: 'SpeedOverLife',","        constructor: SpeedOverLife,","        params: [['speed', 'valueFunc']],","        loadJSON: SpeedOverLife.fromJSON,","    },","    FrameOverLife: {","        type: 'FrameOverLife',","        constructor: FrameOverLife,","        params: [['frame', 'valueFunc']],","        loadJSON: FrameOverLife.fromJSON,","    },","    ForceOverLife: {","        type: 'ForceOverLife',","        constructor: ForceOverLife,","        params: [","            ['x', 'valueFunc'],","            ['y', 'valueFunc'],","            ['z', 'valueFunc'],","        ],","        loadJSON: ForceOverLife.fromJSON,","    },","    OrbitOverLife: {","        type: 'OrbitOverLife',","        constructor: OrbitOverLife,","        params: [","            ['orbitSpeed', 'valueFunc'],","            ['axis', 'vec3'],","        ],","        loadJSON: OrbitOverLife.fromJSON,","    },","    WidthOverLength: {","        type: 'WidthOverLength',","        constructor: WidthOverLength,","        params: [['width', 'valueFunc']],","        loadJSON: WidthOverLength.fromJSON,","    },","    ChangeEmitDirection: {","        type: 'ChangeEmitDirection',","        constructor: ChangeEmitDirection,","        params: [['angle', 'value']],","        loadJSON: ChangeEmitDirection.fromJSON,","    },","    EmitSubParticleSystem: {","        type: 'EmitSubParticleSystem',","        constructor: EmitSubParticleSystem,","        params: [","            ['particleSystem', 'self'],","            ['useVelocityAsBasis', 'boolean'],","            ['subParticleSystem', 'particleSystem'],","            ['mode', 'number'],","            ['emitProbability', 'number'],","        ],","        loadJSON: EmitSubParticleSystem.fromJSON,","    },","    LimitSpeedOverLife: {","        type: 'LimitSpeedOverLife',","        constructor: LimitSpeedOverLife,","        params: [","            ['speed', 'valueFunc'],","            ['dampen', 'number'],","        ],","        loadJSON: LimitSpeedOverLife.fromJSON,","    },","};","function BehaviorFromJSON(json, particleSystem) {","    return BehaviorTypes[json.type].loadJSON(json, particleSystem);","}","","gdjs.__particleEmmiter3DExtension.EmitterMode = void 0;","(function (EmitterMode) {","    EmitterMode[EmitterMode[\"Random\"] = 0] = \"Random\";","    EmitterMode[EmitterMode[\"Loop\"] = 1] = \"Loop\";","    EmitterMode[EmitterMode[\"PingPong\"] = 2] = \"PingPong\";","    EmitterMode[EmitterMode[\"Burst\"] = 3] = \"Burst\";","})(gdjs.__particleEmmiter3DExtension.EmitterMode || (gdjs.__particleEmmiter3DExtension.EmitterMode = {}));","function getValueFromEmitterMode(mode, currentValue, spread) {","    let u;","    if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random === mode) {","        currentValue = Math.random();","    }","    if (spread > 0) {","        u = Math.floor(currentValue / spread) * spread;","    }","    else {","        u = currentValue;","    }","    switch (mode) {","        case gdjs.__particleEmmiter3DExtension.EmitterMode.Loop:","            u = u % 1;","            break;","        case gdjs.__particleEmmiter3DExtension.EmitterMode.PingPong:","            u = Math.abs((u % 2) - 1);","            break;","    }","    return u;","}","","class ConeEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f, _g;","        this.type = 'cone';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.angle = (_d = parameters.angle) !== null && _d !== void 0 ? _d : Math.PI / 6;","        this.mode = (_e = parameters.mode) !== null && _e !== void 0 ? _e : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;","        this.spread = (_f = parameters.spread) !== null && _f !== void 0 ? _f : 0;","        this.speed = (_g = parameters.speed) !== null && _g !== void 0 ? _g : new ConstantValue(1);","    }","    update(system, delta) {","        if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random != this.mode) {","            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","        }","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        const r = Math.sqrt(rand);","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        p.position.x = r * cosTheta;","        p.position.y = r * sinTheta;","        p.position.z = 0;","        const angle = this.angle * r;","        p.velocity.set(0, 0, Math.cos(angle)).addScaledVector(p.position, Math.sin(angle)).multiplyScalar(p.startSpeed);","        p.position.multiplyScalar(this.radius);","    }","    toJSON() {","        return {","            type: 'cone',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            angle: this.angle,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new ConeEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            angle: json.angle,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new ConeEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            angle: this.angle,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class CircleEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f;","        this.type = 'circle';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;","        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;","        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);","    }","    update(system, delta) {","        this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const r = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        p.position.x = Math.cos(theta);","        p.position.y = Math.sin(theta);","        p.position.z = 0;","        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);","        p.position.multiplyScalar(this.radius * r);","    }","    toJSON() {","        return {","            type: 'circle',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new CircleEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new CircleEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class DonutEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f, _g;","        this.type = 'donut';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.donutRadius = (_d = parameters.donutRadius) !== null && _d !== void 0 ? _d : this.radius * 0.2;","        this.mode = (_e = parameters.mode) !== null && _e !== void 0 ? _e : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;","        this.spread = (_f = parameters.spread) !== null && _f !== void 0 ? _f : 0;","        this.speed = (_g = parameters.speed) !== null && _g !== void 0 ? _g : new ConstantValue(1);","    }","    update(system, delta) {","        if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random != this.mode) {","            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","        }","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const v = Math.random();","        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        const phi = v * Math.PI * 2;","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        p.position.x = this.radius * cosTheta;","        p.position.y = this.radius * sinTheta;","        p.position.z = 0;","        p.velocity.z = this.donutRadius * rand * Math.sin(phi);","        p.velocity.x = this.donutRadius * rand * Math.cos(phi) * cosTheta;","        p.velocity.y = this.donutRadius * rand * Math.cos(phi) * sinTheta;","        p.position.add(p.velocity);","        p.velocity.normalize().multiplyScalar(p.startSpeed);","    }","    toJSON() {","        return {","            type: 'donut',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            donutRadius: this.donutRadius,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new DonutEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            donutRadius: json.donutRadius,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new DonutEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            donutRadius: this.donutRadius,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class PointEmitter {","    constructor() {","        this.type = 'point';","    }","    update(system, delta) { }","    initialize(p) {","        const u = Math.random();","        const v = Math.random();","        const theta = u * Math.PI * 2;","        const phi = Math.acos(2.0 * v - 1.0);","        const r = Math.cbrt(Math.random());","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        const sinPhi = Math.sin(phi);","        const cosPhi = Math.cos(phi);","        p.velocity.x = r * sinPhi * cosTheta;","        p.velocity.y = r * sinPhi * sinTheta;","        p.velocity.z = r * cosPhi;","        p.velocity.multiplyScalar(p.startSpeed);","        p.position.setScalar(0);","    }","    toJSON() {","        return {","            type: 'point',","        };","    }","    static fromJSON(json) {","        return new PointEmitter();","    }","    clone() {","        return new PointEmitter();","    }","}","","class SphereEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f;","        this.type = 'sphere';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;","        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;","        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);","    }","    update(system, delta) {","        if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random != this.mode) {","            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","        }","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const v = Math.random();","        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        const phi = Math.acos(2.0 * v - 1.0);","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        const sinPhi = Math.sin(phi);","        const cosPhi = Math.cos(phi);","        p.position.x = sinPhi * cosTheta;","        p.position.y = sinPhi * sinTheta;","        p.position.z = cosPhi;","        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);","        p.position.multiplyScalar(this.radius * rand);","    }","    toJSON() {","        return {","            type: 'sphere',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new SphereEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new SphereEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class HemisphereEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d, _e, _f;","        this.type = 'sphere';","        this.currentValue = 0;","        this.radius = (_a = parameters.radius) !== null && _a !== void 0 ? _a : 10;","        this.arc = (_b = parameters.arc) !== null && _b !== void 0 ? _b : 2.0 * Math.PI;","        this.thickness = (_c = parameters.thickness) !== null && _c !== void 0 ? _c : 1;","        this.mode = (_d = parameters.mode) !== null && _d !== void 0 ? _d : gdjs.__particleEmmiter3DExtension.EmitterMode.Random;","        this.spread = (_e = parameters.spread) !== null && _e !== void 0 ? _e : 0;","        this.speed = (_f = parameters.speed) !== null && _f !== void 0 ? _f : new ConstantValue(1);","    }","    update(system, delta) {","        if (gdjs.__particleEmmiter3DExtension.EmitterMode.Random != this.mode) {","            this.currentValue += this.speed.genValue(system.emissionState.time / system.duration) * delta;","        }","    }","    initialize(p) {","        const u = getValueFromEmitterMode(this.mode, this.currentValue, this.spread);","        const v = Math.random();","        const rand = THREE.MathUtils.lerp(1 - this.thickness, 1, Math.random());","        const theta = u * this.arc;","        const phi = Math.acos(v);","        const sinTheta = Math.sin(theta);","        const cosTheta = Math.cos(theta);","        const sinPhi = Math.sin(phi);","        const cosPhi = Math.cos(phi);","        p.position.x = sinPhi * cosTheta;","        p.position.y = sinPhi * sinTheta;","        p.position.z = cosPhi;","        p.velocity.copy(p.position).multiplyScalar(p.startSpeed);","        p.position.multiplyScalar(this.radius * rand);","    }","    toJSON() {","        return {","            type: 'hemisphere',","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            spread: this.spread,","            speed: this.speed.toJSON(),","        };","    }","    static fromJSON(json) {","        return new HemisphereEmitter({","            radius: json.radius,","            arc: json.arc,","            thickness: json.thickness,","            mode: json.mode,","            speed: json.speed ? ValueGeneratorFromJSON(json.speed) : undefined,","            spread: json.spread,","        });","    }","    clone() {","        return new HemisphereEmitter({","            radius: this.radius,","            arc: this.arc,","            thickness: this.thickness,","            mode: this.mode,","            speed: this.speed.clone(),","            spread: this.spread,","        });","    }","}","","class GridEmitter {","    constructor(parameters = {}) {","        var _a, _b, _c, _d;","        this.type = 'grid';","        this.width = (_a = parameters.width) !== null && _a !== void 0 ? _a : 1;","        this.height = (_b = parameters.height) !== null && _b !== void 0 ? _b : 1;","        this.column = (_c = parameters.column) !== null && _c !== void 0 ? _c : 10;","        this.row = (_d = parameters.row) !== null && _d !== void 0 ? _d : 10;","    }","    initialize(p) {","        const r = Math.floor(Math.random() * this.row);","        const c = Math.floor(Math.random() * this.column);","        p.position.x = (c * this.width) / this.column - this.width / 2;","        p.position.y = (r * this.height) / this.row - this.height / 2;","        p.position.z = 0;","        p.velocity.set(0, 0, p.startSpeed);","    }","    toJSON() {","        return {","            type: 'grid',","            width: this.width,","            height: this.height,","            column: this.column,","            row: this.row,","        };","    }","    static fromJSON(json) {","        return new GridEmitter(json);","    }","    clone() {","        return new GridEmitter({","            width: this.width,","            height: this.height,","            column: this.column,","            row: this.row,","        });","    }","    update(system, delta) { }","}","","class MeshSurfaceEmitter {","    get geometry() {","        return this._geometry;","    }","    set geometry(geometry) {","        this._geometry = geometry;","        if (geometry === undefined) {","            return;","        }","        if (typeof geometry === 'string') {","            return;","        }","        const tri = new THREE.Triangle();","        this._triangleIndexToArea.length = 0;","        let area = 0;","        if (!geometry.getIndex()) {","            return;","        }","        const array = geometry.getIndex().array;","        const triCount = array.length / 3;","        this._triangleIndexToArea.push(0);","        for (let i = 0; i < triCount; i++) {","            tri.setFromAttributeAndIndices(geometry.getAttribute('position'), array[i * 3], array[i * 3 + 1], array[i * 3 + 2]);","            area += tri.getArea();","            this._triangleIndexToArea.push(area);","        }","        geometry.userData.triangleIndexToArea = this._triangleIndexToArea;","    }","    constructor(geometry) {","        this.type = 'mesh_surface';","        this._triangleIndexToArea = [];","        this._tempA = new THREE.Vector3();","        this._tempB = new THREE.Vector3();","        this._tempC = new THREE.Vector3();","        if (!geometry) {","            return;","        }","        this.geometry = geometry;","    }","    initialize(p) {","        const geometry = this._geometry;","        if (!geometry || geometry.getIndex() === null) {","            p.position.set(0, 0, 0);","            p.velocity.set(0, 0, 1).multiplyScalar(p.startSpeed);","            return;","        }","        const triCount = this._triangleIndexToArea.length - 1;","        let left = 0, right = triCount;","        const target = Math.random() * this._triangleIndexToArea[triCount];","        while (left + 1 < right) {","            const mid = Math.floor((left + right) / 2);","            if (target < this._triangleIndexToArea[mid]) {","                right = mid;","            }","            else {","                left = mid;","            }","        }","        let u1 = Math.random();","        let u2 = Math.random();","        if (u1 + u2 > 1) {","            u1 = 1 - u1;","            u2 = 1 - u2;","        }","        const index1 = geometry.getIndex().array[left * 3];","        const index2 = geometry.getIndex().array[left * 3 + 1];","        const index3 = geometry.getIndex().array[left * 3 + 2];","        const positionBuffer = geometry.getAttribute('position');","        this._tempA.fromBufferAttribute(positionBuffer, index1);","        this._tempB.fromBufferAttribute(positionBuffer, index2);","        this._tempC.fromBufferAttribute(positionBuffer, index3);","        this._tempB.sub(this._tempA);","        this._tempC.sub(this._tempA);","        this._tempA.addScaledVector(this._tempB, u1).addScaledVector(this._tempC, u2);","        p.position.copy(this._tempA);","        this._tempA.copy(this._tempB).cross(this._tempC).normalize();","        p.velocity.copy(this._tempA).normalize().multiplyScalar(p.startSpeed);","    }","    toJSON() {","        return {","            type: 'mesh_surface',","            mesh: this._geometry ? this._geometry.uuid : '',","        };","    }","    static fromJSON(json, meta) {","        return new MeshSurfaceEmitter(meta.geometries[json.geometry]);","    }","    clone() {","        return new MeshSurfaceEmitter(this._geometry);","    }","    update(system, delta) { }","}","","const EmitterShapes = {","    circle: {","        type: 'circle',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: CircleEmitter,","        loadJSON: CircleEmitter.fromJSON,","    },","    cone: {","        type: 'cone',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['angle', 'radian'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: ConeEmitter,","        loadJSON: ConeEmitter.fromJSON,","    },","    donut: {","        type: 'donut',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['donutRadius', 'number'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: DonutEmitter,","        loadJSON: DonutEmitter.fromJSON,","    },","    point: { type: 'point', params: [], constructor: PointEmitter, loadJSON: PointEmitter.fromJSON },","    sphere: {","        type: 'sphere',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['angle', 'radian'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: SphereEmitter,","        loadJSON: SphereEmitter.fromJSON,","    },","    hemisphere: {","        type: 'hemisphere',","        params: [","            ['radius', 'number'],","            ['arc', 'radian'],","            ['thickness', 'number'],","            ['angle', 'radian'],","            ['mode', 'emitterMode'],","            ['spread', 'number'],","            ['speed', 'valueFunc'],","        ],","        constructor: HemisphereEmitter,","        loadJSON: HemisphereEmitter.fromJSON,","    },","    grid: {","        type: 'grid',","        params: [","            ['width', 'number'],","            ['height', 'number'],","            ['rows', 'number'],","            ['column', 'number'],","        ],","        constructor: GridEmitter,","        loadJSON: GridEmitter.fromJSON,","    },","    mesh_surface: {","        type: 'mesh_surface',","        params: [['geometry', 'geometry']],","        constructor: MeshSurfaceEmitter,","        loadJSON: MeshSurfaceEmitter.fromJSON,","    },","};","function EmitterFromJSON(json, meta) {","    return EmitterShapes[json.type].loadJSON(json, meta);","}","","gdjs.__particleEmmiter3DExtension.RenderMode = void 0;","(function (RenderMode) {","    RenderMode[RenderMode[\"BillBoard\"] = 0] = \"BillBoard\";","    RenderMode[RenderMode[\"StretchedBillBoard\"] = 1] = \"StretchedBillBoard\";","    RenderMode[RenderMode[\"Mesh\"] = 2] = \"Mesh\";","    RenderMode[RenderMode[\"Trail\"] = 3] = \"Trail\";","    RenderMode[RenderMode[\"HorizontalBillBoard\"] = 4] = \"HorizontalBillBoard\";","    RenderMode[RenderMode[\"VerticalBillBoard\"] = 5] = \"VerticalBillBoard\";","})(gdjs.__particleEmmiter3DExtension.RenderMode || (gdjs.__particleEmmiter3DExtension.RenderMode = {}));","class VFXBatch extends THREE.Mesh {","    constructor(settings) {","        super();","        this.type = 'VFXBatch';","        this.maxParticles = 1000;","        this.systems = new Set();","        const layers = new THREE.Layers();","        layers.mask = settings.layers.mask;","        const newMat = settings.material.clone();","        newMat.defines = {};","        Object.assign(newMat.defines, settings.material.defines);","        this.settings = {","            instancingGeometry: settings.instancingGeometry,","            renderMode: settings.renderMode,","            renderOrder: settings.renderOrder,","            material: newMat,","            uTileCount: settings.uTileCount,","            vTileCount: settings.vTileCount,","            layers: layers,","        };","        this.frustumCulled = false;","        this.renderOrder = this.settings.renderOrder;","    }","    addSystem(system) {","        this.systems.add(system);","    }","    removeSystem(system) {","        this.systems.delete(system);","    }","}","","const UP = new THREE.Vector3(0, 0, 1);","const tempQ$1 = new THREE.Quaternion();","const tempV$1 = new THREE.Vector3();","const tempV2$1 = new THREE.Vector3();","new THREE.Vector3();","const PREWARM_FPS$1 = 60;","const DEFAULT_GEOMETRY$1 = new THREE.PlaneGeometry(1, 1, 1, 1);","class ParticleSystem {","    set time(time) {","        this.emissionState.time = time;","    }","    get time() {","        return this.emissionState.time;","    }","    get layers() {","        return this.rendererSettings.layers;","    }","    get texture() {","        return this.rendererSettings.material.map;","    }","    set texture(texture) {","        this.rendererSettings.material.map = texture;","        this.neededToUpdateRender = true;","    }","    get material() {","        return this.rendererSettings.material;","    }","    set material(material) {","        this.rendererSettings.material = material;","        this.neededToUpdateRender = true;","    }","    get uTileCount() {","        return this.rendererSettings.uTileCount;","    }","    set uTileCount(u) {","        this.rendererSettings.uTileCount = u;","        this.neededToUpdateRender = true;","    }","    get vTileCount() {","        return this.rendererSettings.vTileCount;","    }","    set vTileCount(v) {","        this.rendererSettings.vTileCount = v;","        this.neededToUpdateRender = true;","    }","    get instancingGeometry() {","        return this.rendererSettings.instancingGeometry;","    }","    set instancingGeometry(geometry) {","        this.restart();","        this.particles.length = 0;","        this.rendererSettings.instancingGeometry = geometry;","        this.neededToUpdateRender = true;","    }","    get renderMode() {","        return this.rendererSettings.renderMode;","    }","    set renderMode(renderMode) {","        if ((this.rendererSettings.renderMode != gdjs.__particleEmmiter3DExtension.RenderMode.Trail && renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) ||","            (this.rendererSettings.renderMode == gdjs.__particleEmmiter3DExtension.RenderMode.Trail && renderMode !== gdjs.__particleEmmiter3DExtension.RenderMode.Trail)) {","            this.restart();","            this.particles.length = 0;","        }","        if (this.rendererSettings.renderMode !== renderMode) {","            switch (renderMode) {","                case gdjs.__particleEmmiter3DExtension.RenderMode.Trail:","                    this.rendererEmitterSettings = {","                        startLength: new ConstantValue(30),","                        followLocalOrigin: false,","                    };","                    break;","                case gdjs.__particleEmmiter3DExtension.RenderMode.Mesh:","                    this.rendererEmitterSettings = {","                        geometry: new THREE.PlaneGeometry(1, 1),","                    };","                    this.startRotation = new AxisAngleGenerator(new THREE.Vector3(0, 1, 0), new ConstantValue(0));","                    break;","                case gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard:","                    this.rendererEmitterSettings = { speedFactor: 0, lengthFactor: 2 };","                    if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","                        this.startRotation = new ConstantValue(0);","                    }","                    break;","                case gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard:","                case gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard:","                case gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard:","                    this.rendererEmitterSettings = {};","                    if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","                        this.startRotation = new ConstantValue(0);","                    }","                    break;","            }","        }","        this.rendererSettings.renderMode = renderMode;","        this.neededToUpdateRender = true;","    }","    get renderOrder() {","        return this.rendererSettings.renderOrder;","    }","    set renderOrder(renderOrder) {","        this.rendererSettings.renderOrder = renderOrder;","        this.neededToUpdateRender = true;","    }","    get blending() {","        return this.rendererSettings.material.blending;","    }","    set blending(blending) {","        this.rendererSettings.material.blending = blending;","        this.neededToUpdateRender = true;","    }","    constructor(parameters) {","        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;","        this.temp = new THREE.Vector3();","        this.travelDistance = 0;","        this.normalMatrix = new THREE.Matrix3();","        this.firstTimeUpdate = true;","        this.autoDestroy = parameters.autoDestroy === undefined ? false : parameters.autoDestroy;","        this.duration = (_a = parameters.duration) !== null && _a !== void 0 ? _a : 1;","        this.looping = parameters.looping === undefined ? true : parameters.looping;","        this.prewarm = parameters.prewarm === undefined ? false : parameters.prewarm;","        this.startLife = (_b = parameters.startLife) !== null && _b !== void 0 ? _b : new ConstantValue(5);","        this.startSpeed = (_c = parameters.startSpeed) !== null && _c !== void 0 ? _c : new ConstantValue(0);","        this.startRotation = (_d = parameters.startRotation) !== null && _d !== void 0 ? _d : new ConstantValue(0);","        this.startSize = (_e = parameters.startSize) !== null && _e !== void 0 ? _e : new ConstantValue(1);","        this.startColor = (_f = parameters.startColor) !== null && _f !== void 0 ? _f : new ConstantColor(new THREE.Vector4(1, 1, 1, 1));","        this.emissionOverTime = (_g = parameters.emissionOverTime) !== null && _g !== void 0 ? _g : new ConstantValue(10);","        this.emissionOverDistance = (_h = parameters.emissionOverDistance) !== null && _h !== void 0 ? _h : new ConstantValue(0);","        this.emissionBursts = (_j = parameters.emissionBursts) !== null && _j !== void 0 ? _j : [];","        this.onlyUsedByOther = (_k = parameters.onlyUsedByOther) !== null && _k !== void 0 ? _k : false;","        this.emitterShape = (_l = parameters.shape) !== null && _l !== void 0 ? _l : new SphereEmitter();","        this.behaviors = (_m = parameters.behaviors) !== null && _m !== void 0 ? _m : new Array();","        this.worldSpace = (_o = parameters.worldSpace) !== null && _o !== void 0 ? _o : false;","        this.rendererEmitterSettings = (_p = parameters.rendererEmitterSettings) !== null && _p !== void 0 ? _p : {};","        if (parameters.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {","            const stretchedBillboardSettings = this.rendererEmitterSettings;","            if (parameters.speedFactor !== undefined) {","                stretchedBillboardSettings.speedFactor = parameters.speedFactor;","            }","            stretchedBillboardSettings.speedFactor = (_q = stretchedBillboardSettings.speedFactor) !== null && _q !== void 0 ? _q : 0;","            stretchedBillboardSettings.lengthFactor = (_r = stretchedBillboardSettings.lengthFactor) !== null && _r !== void 0 ? _r : 0;","        }","        this.rendererSettings = {","            instancingGeometry: (_s = parameters.instancingGeometry) !== null && _s !== void 0 ? _s : DEFAULT_GEOMETRY$1,","            renderMode: (_t = parameters.renderMode) !== null && _t !== void 0 ? _t : gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard,","            renderOrder: (_u = parameters.renderOrder) !== null && _u !== void 0 ? _u : 0,","            material: parameters.material,","            uTileCount: (_v = parameters.uTileCount) !== null && _v !== void 0 ? _v : 1,","            vTileCount: (_w = parameters.vTileCount) !== null && _w !== void 0 ? _w : 1,","            layers: (_x = parameters.layers) !== null && _x !== void 0 ? _x : new THREE.Layers(),","        };","        this.neededToUpdateRender = true;","        this.particles = new Array();","        this.startTileIndex = parameters.startTileIndex || new ConstantValue(0);","        this.emitter = new ParticleEmitter(this);","        this.paused = false;","        this.particleNum = 0;","        this.emissionState = {","            burstIndex: 0,","            burstWaveIndex: 0,","            time: 0,","            waitEmiting: 0,","            travelDistance: 0,","        };","        this.emitEnded = false;","        this.markForDestroy = false;","        this.prewarmed = false;","    }","    pause() {","        this.paused = true;","    }","    play() {","        this.paused = false;","    }","    spawn(count, emissionState, matrix) {","        tempQ$1.setFromRotationMatrix(matrix);","        const translation = tempV$1;","        const quaternion = tempQ$1;","        const scale = tempV2$1;","        matrix.decompose(translation, quaternion, scale);","        for (let i = 0; i < count; i++) {","            this.particleNum++;","            while (this.particles.length < this.particleNum) {","                if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {","                    this.particles.push(new TrailParticle());","                }","                else {","                    this.particles.push(new SpriteParticle());","                }","            }","            const particle = this.particles[this.particleNum - 1];","            particle.speedModifier = 1;","            this.startColor.genColor(particle.startColor, this.emissionState.time, {});","            particle.color.copy(particle.startColor);","            particle.startSpeed = this.startSpeed.genValue(emissionState.time / this.duration);","            particle.life = this.startLife.genValue(emissionState.time / this.duration);","            particle.age = 0;","            particle.startSize = this.startSize.genValue(emissionState.time / this.duration);","            particle.uvTile = Math.floor(this.startTileIndex.genValue() + 0.001);","            particle.size = particle.startSize;","            if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh ||","                this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard ||","                this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||","                this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||","                this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {","                const sprite = particle;","                if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","                    if (!(sprite.rotation instanceof THREE.Quaternion)) {","                        sprite.rotation = new THREE.Quaternion();","                    }","                    if (this.startRotation.type === 'rotation') {","                        this.startRotation.genValue(sprite.rotation, emissionState.time / this.duration);","                    }","                    else {","                        sprite.rotation.setFromAxisAngle(UP, this.startRotation.genValue((emissionState.time / this.duration)));","                    }","                }","                else {","                    if (this.startRotation.type === 'rotation') {","                        sprite.rotation = 0;","                    }","                    else {","                        sprite.rotation = this.startRotation.genValue(emissionState.time / this.duration);","                    }","                }","            }","            else if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {","                const trail = particle;","                trail.length = this.rendererEmitterSettings.startLength.genValue(emissionState.time / this.duration);","            }","            this.emitterShape.initialize(particle);","            if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail &&","                this.rendererEmitterSettings.followLocalOrigin) {","                const trail = particle;","                trail.localPosition = new THREE.Vector3().copy(trail.position);","            }","            if (this.worldSpace) {","                particle.position.applyMatrix4(matrix);","                particle.startSize =","                    (particle.startSize * (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z))) / 3;","                particle.size = particle.startSize;","                particle.velocity.multiply(scale).applyMatrix3(this.normalMatrix);","                if (particle.rotation && particle.rotation instanceof THREE.Quaternion) {","                    particle.rotation.multiplyQuaternions(tempQ$1, particle.rotation);","                }","            }","            else {","                if (this.onlyUsedByOther) {","                    particle.parentMatrix = matrix;","                }","            }","            for (let j = 0; j < this.behaviors.length; j++) {","                this.behaviors[j].initialize(particle);","            }","        }","    }","    endEmit() {","        this.emitEnded = true;","        if (this.autoDestroy) {","            this.markForDestroy = true;","        }","    }","    dispose() {","        if (this._renderer)","            this._renderer.deleteSystem(this);","        this.emitter.dispose();","        if (this.emitter.parent)","            this.emitter.parent.remove(this.emitter);","    }","    restart() {","        this.paused = false;","        this.particleNum = 0;","        this.emissionState.burstIndex = 0;","        this.emissionState.burstWaveIndex = 0;","        this.emissionState.time = 0;","        this.emissionState.waitEmiting = 0;","        this.behaviors.forEach((behavior) => {","            behavior.reset();","        });","        this.emitEnded = false;","        this.markForDestroy = false;","        this.prewarmed = false;","    }","    update(delta) {","        if (this.paused)","            return;","        let currentParent = this.emitter;","        while (currentParent.parent) {","            currentParent = currentParent.parent;","        }","        if (currentParent.type !== 'Scene') {","            this.dispose();","            return;","        }","        if (this.firstTimeUpdate) {","            this.firstTimeUpdate = false;","            this.emitter.updateWorldMatrix(true, false);","        }","        if (this.emitEnded && this.particleNum === 0) {","            if (this.markForDestroy && this.emitter.parent)","                this.dispose();","            return;","        }","        if (this.looping && this.prewarm && !this.prewarmed) {","            this.prewarmed = true;","            for (let i = 0; i < this.duration * PREWARM_FPS$1; i++) {","                this.update(1.0 / PREWARM_FPS$1);","            }","        }","        if (delta > 0.1) {","            delta = 0.1;","        }","        if (this.neededToUpdateRender) {","            if (this._renderer)","                this._renderer.updateSystem(this);","            this.neededToUpdateRender = false;","        }","        if (!this.onlyUsedByOther) {","            this.emit(delta, this.emissionState, this.emitter.matrixWorld);","        }","        this.emitterShape.update(this, delta);","        for (let j = 0; j < this.behaviors.length; j++) {","            for (let i = 0; i < this.particleNum; i++) {","                if (!this.particles[i].died) {","                    this.behaviors[j].update(this.particles[i], delta);","                }","            }","            this.behaviors[j].frameUpdate(delta);","        }","        for (let i = 0; i < this.particleNum; i++) {","            if (this.rendererEmitterSettings.followLocalOrigin &&","                this.particles[i].localPosition) {","                this.particles[i].position.copy(this.particles[i].localPosition);","                if (this.particles[i].parentMatrix) {","                    this.particles[i].position.applyMatrix4(this.particles[i].parentMatrix);","                }","                else {","                    this.particles[i].position.applyMatrix4(this.emitter.matrixWorld);","                }","            }","            else {","                this.particles[i].position.addScaledVector(this.particles[i].velocity, delta * this.particles[i].speedModifier);","            }","            this.particles[i].age += delta;","        }","        if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {","            for (let i = 0; i < this.particleNum; i++) {","                const particle = this.particles[i];","                particle.update();","            }","        }","        for (let i = 0; i < this.particleNum; i++) {","            const particle = this.particles[i];","            if (particle.died && (!(particle instanceof TrailParticle) || particle.previous.length === 0)) {","                this.particles[i] = this.particles[this.particleNum - 1];","                this.particles[this.particleNum - 1] = particle;","                this.particleNum--;","                i--;","            }","        }","    }","    emit(delta, emissionState, emitterMatrix) {","        if (emissionState.time > this.duration) {","            if (this.looping) {","                emissionState.time -= this.duration;","                emissionState.burstIndex = 0;","                this.behaviors.forEach((behavior) => {","                    behavior.reset();","                });","            }","            else {","                if (!this.emitEnded && !this.onlyUsedByOther) {","                    this.endEmit();","                }","            }","        }","        this.normalMatrix.getNormalMatrix(emitterMatrix);","        const totalSpawn = Math.ceil(emissionState.waitEmiting);","        this.spawn(totalSpawn, emissionState, emitterMatrix);","        emissionState.waitEmiting -= totalSpawn;","        while (emissionState.burstIndex < this.emissionBursts.length &&","            this.emissionBursts[emissionState.burstIndex].time <= emissionState.time) {","            if (Math.random() < this.emissionBursts[emissionState.burstIndex].probability) {","                const count = this.emissionBursts[emissionState.burstIndex].count.genValue(this.time);","                this.spawn(count, emissionState, emitterMatrix);","            }","            emissionState.burstIndex++;","        }","        if (!this.emitEnded) {","            emissionState.waitEmiting += delta * this.emissionOverTime.genValue(emissionState.time / this.duration);","            if (emissionState.previousWorldPos != undefined) {","                this.temp.set(emitterMatrix.elements[12], emitterMatrix.elements[13], emitterMatrix.elements[14]);","                emissionState.travelDistance += emissionState.previousWorldPos.distanceTo(this.temp);","                const emitPerMeter = this.emissionOverDistance.genValue(emissionState.time / this.duration);","                if (emissionState.travelDistance * emitPerMeter > 0) {","                    const count = Math.floor(emissionState.travelDistance * emitPerMeter);","                    emissionState.travelDistance -= count / emitPerMeter;","                    emissionState.waitEmiting += count;","                }","            }","        }","        if (emissionState.previousWorldPos === undefined)","            emissionState.previousWorldPos = new THREE.Vector3();","        emissionState.previousWorldPos.set(emitterMatrix.elements[12], emitterMatrix.elements[13], emitterMatrix.elements[14]);","        emissionState.time += delta;","    }","    toJSON(meta, options = {}) {","        const isRootObject = meta === undefined || typeof meta === 'string';","        if (isRootObject) {","            meta = {","                geometries: {},","                materials: {},","                textures: {},","                images: {},","                shapes: {},","                skeletons: {},","                animations: {},","                nodes: {},","            };","        }","        meta.materials[this.rendererSettings.material.uuid] = this.rendererSettings.material.toJSON(meta);","        if (options.useUrlForImage) {","            if (this.texture.source !== undefined) {","                const image = this.texture.source;","                meta.images[image.uuid] = {","                    uuid: image.uuid,","                    url: this.texture.image.url,","                };","            }","        }","        let rendererSettingsJSON;","        if (this.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {","            rendererSettingsJSON = {","                startLength: this.rendererEmitterSettings.startLength.toJSON(),","                followLocalOrigin: this.rendererEmitterSettings.followLocalOrigin,","            };","        }","        else if (this.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","            rendererSettingsJSON = {};","        }","        else if (this.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {","            rendererSettingsJSON = {","                speedFactor: this.rendererEmitterSettings.speedFactor,","                lengthFactor: this.rendererEmitterSettings.lengthFactor,","            };","        }","        else {","            rendererSettingsJSON = {};","        }","        const geometry = this.rendererSettings.instancingGeometry;","        if (meta.geometries && !meta.geometries[geometry.uuid]) {","            meta.geometries[geometry.uuid] = geometry.toJSON();","        }","        return {","            version: '2.0',","            autoDestroy: this.autoDestroy,","            looping: this.looping,","            prewarm: this.prewarm,","            duration: this.duration,","            shape: this.emitterShape.toJSON(),","            startLife: this.startLife.toJSON(),","            startSpeed: this.startSpeed.toJSON(),","            startRotation: this.startRotation.toJSON(),","            startSize: this.startSize.toJSON(),","            startColor: this.startColor.toJSON(),","            emissionOverTime: this.emissionOverTime.toJSON(),","            emissionOverDistance: this.emissionOverDistance.toJSON(),","            emissionBursts: this.emissionBursts.map((burst) => ({","                time: burst.time,","                count: burst.count.toJSON(),","                probability: burst.probability,","                interval: burst.interval,","                cycle: burst.cycle,","            })),","            onlyUsedByOther: this.onlyUsedByOther,","            instancingGeometry: this.rendererSettings.instancingGeometry.uuid,","            renderOrder: this.renderOrder,","            renderMode: this.renderMode,","            rendererEmitterSettings: rendererSettingsJSON,","            material: this.rendererSettings.material.uuid,","            layers: this.layers.mask,","            startTileIndex: this.startTileIndex.toJSON(),","            uTileCount: this.uTileCount,","            vTileCount: this.vTileCount,","            behaviors: this.behaviors.map((behavior) => behavior.toJSON()),","            worldSpace: this.worldSpace,","        };","    }","    static fromJSON(json, meta, dependencies) {","        var _a, _b;","        const shape = EmitterFromJSON(json.shape, meta);","        let rendererEmitterSettings;","        if (json.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {","            let trailSettings = json.rendererEmitterSettings;","            rendererEmitterSettings = {","                startLength: trailSettings.startLength != undefined","                    ? ValueGeneratorFromJSON(trailSettings.startLength)","                    : new ConstantValue(30),","                followLocalOrigin: trailSettings.followLocalOrigin,","            };","        }","        else if (json.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","            rendererEmitterSettings = {};","        }","        else if (json.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {","            rendererEmitterSettings = json.rendererEmitterSettings;","            if (json.speedFactor != undefined) {","                rendererEmitterSettings.speedFactor = json.speedFactor;","            }","        }","        else {","            rendererEmitterSettings = {};","        }","        const layers = new THREE.Layers();","        if (json.layers) {","            layers.mask = json.layers;","        }","        const ps = new ParticleSystem({","            autoDestroy: json.autoDestroy,","            looping: json.looping,","            prewarm: json.prewarm,","            duration: json.duration,","            shape: shape,","            startLife: ValueGeneratorFromJSON(json.startLife),","            startSpeed: ValueGeneratorFromJSON(json.startSpeed),","            startRotation: GeneratorFromJSON(json.startRotation),","            startSize: ValueGeneratorFromJSON(json.startSize),","            startColor: ColorGeneratorFromJSON(json.startColor),","            emissionOverTime: ValueGeneratorFromJSON(json.emissionOverTime),","            emissionOverDistance: ValueGeneratorFromJSON(json.emissionOverDistance),","            emissionBursts: (_a = json.emissionBursts) === null || _a === void 0 ? void 0 : _a.map((burst) => ({","                time: burst.time,","                count: typeof burst.count === 'number'","                    ? new ConstantValue(burst.count)","                    : ValueGeneratorFromJSON(burst.count),","                probability: burst.probability,","                interval: burst.interval,","                cycle: burst.cycle,","            })),","            onlyUsedByOther: json.onlyUsedByOther,","            instancingGeometry: meta.geometries[json.instancingGeometry],","            renderMode: json.renderMode,","            rendererEmitterSettings: rendererEmitterSettings,","            renderOrder: json.renderOrder,","            layers: layers,","            material: json.material","                ? meta.materials[json.material]","                : json.texture","                    ? new THREE.MeshBasicMaterial({","                        map: meta.textures[json.texture],","                        transparent: (_b = json.transparent) !== null && _b !== void 0 ? _b : true,","                        blending: json.blending,","                        side: THREE.DoubleSide,","                    })","                    : new THREE.MeshBasicMaterial({","                        color: 0xffffff,","                        transparent: true,","                        blending: THREE.AdditiveBlending,","                        side: THREE.DoubleSide,","                    }),","            startTileIndex: typeof json.startTileIndex === 'number'","                ? new ConstantValue(json.startTileIndex)","                : ValueGeneratorFromJSON(json.startTileIndex),","            uTileCount: json.uTileCount,","            vTileCount: json.vTileCount,","            behaviors: [],","            worldSpace: json.worldSpace,","        });","        ps.behaviors = json.behaviors.map((behaviorJson) => {","            const behavior = BehaviorFromJSON(behaviorJson, ps);","            if (behavior.type === 'EmitSubParticleSystem') {","                dependencies[behaviorJson.subParticleSystem] = behavior;","            }","            return behavior;","        });","        return ps;","    }","    addBehavior(behavior) {","        this.behaviors.push(behavior);","    }","    getRendererSettings() {","        return this.rendererSettings;","    }","    clone() {","        const newEmissionBursts = [];","        for (const emissionBurst of this.emissionBursts) {","            const newEmissionBurst = {};","            Object.assign(newEmissionBurst, emissionBurst);","            newEmissionBursts.push(newEmissionBurst);","        }","        const newBehaviors = [];","        for (const behavior of this.behaviors) {","            newBehaviors.push(behavior.clone());","        }","        let rendererEmitterSettings;","        if (this.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {","            rendererEmitterSettings = {","                startLength: this.rendererEmitterSettings.startLength.clone(),","                followLocalOrigin: this.rendererEmitterSettings.followLocalOrigin,","            };","        }","        else {","            rendererEmitterSettings = {};","        }","        const layers = new THREE.Layers();","        layers.mask = this.layers.mask;","        return new ParticleSystem({","            autoDestroy: this.autoDestroy,","            looping: this.looping,","            duration: this.duration,","            shape: this.emitterShape.clone(),","            startLife: this.startLife.clone(),","            startSpeed: this.startSpeed.clone(),","            startRotation: this.startRotation.clone(),","            startSize: this.startSize.clone(),","            startColor: this.startColor.clone(),","            emissionOverTime: this.emissionOverTime.clone(),","            emissionOverDistance: this.emissionOverDistance.clone(),","            emissionBursts: newEmissionBursts,","            onlyUsedByOther: this.onlyUsedByOther,","            instancingGeometry: this.rendererSettings.instancingGeometry,","            renderMode: this.renderMode,","            renderOrder: this.renderOrder,","            rendererEmitterSettings: rendererEmitterSettings,","            material: this.rendererSettings.material,","            startTileIndex: this.startTileIndex,","            uTileCount: this.uTileCount,","            vTileCount: this.vTileCount,","            behaviors: newBehaviors,","            worldSpace: this.worldSpace,","            layers: layers,","        });","    }","}","","var particle_frag = `","","#include <common>","#include <uv_pars_fragment>","#include <color_pars_fragment>","#include <map_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <alphatest_pars_fragment>","","void main() {","","    #include <clipping_planes_fragment>","    ","    vec3 outgoingLight = vec3( 0.0 );","    vec4 diffuseColor = vColor;","    ","    #include <logdepthbuf_fragment>","    ","    #ifdef USE_MAP","    diffuseColor *= texture2D( map, vMapUv);","    #endif","    ","    #include <alphatest_fragment>","","    outgoingLight = diffuseColor.rgb;","    ","    #ifdef USE_COLOR_AS_ALPHA","    gl_FragColor = vec4( outgoingLight, diffuseColor.r );","    #else","    gl_FragColor = vec4( outgoingLight, diffuseColor.a );","    #endif","    ","    ","    #include <tonemapping_fragment>","","}","`;","","var particle_physics_frag = `","#define STANDARD","#ifdef PHYSICAL","#define IOR","#define SPECULAR","#endif","uniform vec3 diffuse;","uniform vec3 emissive;","uniform float roughness;","uniform float metalness;","uniform float opacity;","#ifdef IOR","uniform float ior;","#endif","#ifdef SPECULAR","uniform float specularIntensity;","uniform vec3 specularColor;","#ifdef USE_SPECULARINTENSITYMAP","uniform sampler2D specularIntensityMap;","#endif","#ifdef USE_SPECULARCOLORMAP","uniform sampler2D specularColorMap;","#endif","#endif","#ifdef USE_CLEARCOAT","uniform float clearcoat;","uniform float clearcoatRoughness;","#endif","#ifdef USE_IRIDESCENCE","uniform float iridescence;","uniform float iridescenceIOR;","uniform float iridescenceThicknessMinimum;","uniform float iridescenceThicknessMaximum;","#endif","#ifdef USE_SHEEN","uniform vec3 sheenColor;","uniform float sheenRoughness;","#ifdef USE_SHEENCOLORMAP","uniform sampler2D sheenColorMap;","#endif","#ifdef USE_SHEENROUGHNESSMAP","uniform sampler2D sheenRoughnessMap;","#endif","#endif","","varying vec3 vViewPosition;","#include <common>","#include <packing>","#include <dithering_pars_fragment>","#include <color_pars_fragment>","#include <uv_pars_fragment>","#include <map_pars_fragment>","#include <alphamap_pars_fragment>","#include <alphatest_pars_fragment>","#include <aomap_pars_fragment>","#include <lightmap_pars_fragment>","#include <emissivemap_pars_fragment>","#include <bsdfs>","#include <iridescence_fragment>","#include <cube_uv_reflection_fragment>","#include <envmap_common_pars_fragment>","#include <envmap_physical_pars_fragment>","#include <fog_pars_fragment>","#include <lights_pars_begin>","#include <normal_pars_fragment>","#include <lights_physical_pars_fragment>","#include <transmission_pars_fragment>","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>","#include <clearcoat_pars_fragment>","#include <iridescence_pars_fragment>","#include <roughnessmap_pars_fragment>","#include <metalnessmap_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","","void main() {","    #include <clipping_planes_fragment>","    vec4 diffuseColor = vec4( diffuse, opacity );","    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","    vec3 totalEmissiveRadiance = emissive;","    #include <logdepthbuf_fragment>","    #include <map_fragment>","    #include <color_fragment>","    #include <alphamap_fragment>","    #include <alphatest_fragment>","    #include <roughnessmap_fragment>","    #include <metalnessmap_fragment>","    #include <normal_fragment_begin>","    #include <normal_fragment_maps>","    #include <clearcoat_normal_fragment_begin>","    #include <clearcoat_normal_fragment_maps>","    #include <emissivemap_fragment>","    // accumulation","    #include <lights_physical_fragment>","    #include <lights_fragment_begin>","    #include <lights_fragment_maps>","    #include <lights_fragment_end>","    // modulation","    #include <aomap_fragment>","    vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;","    vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;","    #include <transmission_fragment>","    vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;","    #ifdef USE_SHEEN","    // Sheen energy compensation approximation calculation can be found at the end of","        // https://drive.google.com/file/d/1T0D1VSyR4AllqIJTQAraEIzjlb5h4FKH/view?usp=sharing","        float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );","        outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;","    #endif","    #ifdef USE_CLEARCOAT","        float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );","        vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );","        outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;","    #endif","    #include <output_fragment>","    #include <tonemapping_fragment>","    #include <encodings_fragment>","    #include <fog_fragment>","    #include <premultiplied_alpha_fragment>","    #include <dithering_fragment>","}`;","","var uv_vertex_tile = `","","    #ifdef UV_TILE","        float col = mod(uvTile, tileCount.x);","        float row = (tileCount.y - floor(uvTile / tileCount.x) - 1.0);","        ","        mat3 tileTransform = mat3(","          1.0 / tileCount.x, 0.0, 0.0,","          0.0, 1.0 / tileCount.y, 0.0, ","          col / tileCount.x, row / tileCount.y, 1.0);","    #else","        mat3 tileTransform = mat3(1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0);","    #endif","","#if defined( USE_UV ) || defined( USE_ANISOTROPY )","","vUv = (tileTransform *vec3( uv, 1 )).xy;","","#endif","#ifdef USE_MAP","","vMapUv = ( tileTransform * (mapTransform * vec3( MAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_ALPHAMAP","","vAlphaMapUv = ( tileTransform * (alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_LIGHTMAP","","vLightMapUv = ( tileTransform * (lightMapTransform * vec3( LIGHTMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_AOMAP","","vAoMapUv = ( tileTransform * (aoMapTransform * vec3( AOMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_BUMPMAP","","vBumpMapUv = ( tileTransform * (bumpMapTransform * vec3( BUMPMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_NORMALMAP","","vNormalMapUv = ( tileTransform * (normalMapTransform * vec3( NORMALMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_DISPLACEMENTMAP","","vDisplacementMapUv = ( tileTransform * (displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_EMISSIVEMAP","","vEmissiveMapUv = ( tileTransform * (emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_METALNESSMAP","","vMetalnessMapUv = ( tileTransform * (metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_ROUGHNESSMAP","","vRoughnessMapUv = ( tileTransform * (roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_ANISOTROPYMAP","","vAnisotropyMapUv = ( tileTransform * (anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_CLEARCOATMAP","","vClearcoatMapUv = ( tileTransform * (clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_CLEARCOAT_NORMALMAP","","vClearcoatNormalMapUv = ( tileTransform * (clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_CLEARCOAT_ROUGHNESSMAP","","vClearcoatRoughnessMapUv = ( tileTransform * (clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_IRIDESCENCEMAP","","vIridescenceMapUv = ( tileTransform * (iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_IRIDESCENCE_THICKNESSMAP","","vIridescenceThicknessMapUv = ( tileTransform * (iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SHEEN_COLORMAP","","vSheenColorMapUv = ( tileTransform * (sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SHEEN_ROUGHNESSMAP","","vSheenRoughnessMapUv = ( tileTransform * (sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SPECULARMAP","","vSpecularMapUv = ( tileTransform * (specularMapTransform * vec3( SPECULARMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SPECULAR_COLORMAP","","vSpecularColorMapUv = ( tileTransform * (specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_SPECULAR_INTENSITYMAP","","vSpecularIntensityMapUv = ( tileTransform * (specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_TRANSMISSIONMAP","","vTransmissionMapUv = ( tileTransform * transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) )).xy;","","#endif","#ifdef USE_THICKNESSMAP","","vThicknessMapUv = ( tileTransform * thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) )).xy;","","#endif","`;","","var particle_vert = `","#include <common>","#include <color_pars_vertex>","#include <uv_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","","attribute vec3 offset;","attribute float rotation;","attribute float size;","attribute float uvTile;","","#ifdef UV_TILE","uniform vec2 tileCount;","#endif","","void main() {","","    ${uv_vertex_tile}","\t","    vec2 alignedPosition = ( position.xy ) * size;","    ","    vec2 rotatedPosition;","    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","#ifdef HORIZONTAL","    vec4 mvPosition = modelMatrix * vec4( offset, 1.0 );","    mvPosition.x += rotatedPosition.x;","    mvPosition.z -= rotatedPosition.y;","    mvPosition = viewMatrix * mvPosition;","#elif defined(VERTICAL)","    vec4 mvPosition = modelMatrix * vec4( offset, 1.0 );","    mvPosition.y += rotatedPosition.y;","    mvPosition = viewMatrix * mvPosition;","    mvPosition.x += rotatedPosition.x;","#else","    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );","    mvPosition.xy += rotatedPosition;","#endif","","\tvColor = color;","","\tgl_Position = projectionMatrix * mvPosition;","","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","","}","`;","","var local_particle_vert = `","#include <common>","#include <uv_pars_vertex>","#include <color_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","","attribute vec3 offset;","attribute vec4 rotation;","attribute float size;","// attribute vec4 color;","attribute float uvTile;","","#ifdef UV_TILE","uniform vec2 tileCount;","#endif","","void main() {","","    ${uv_vertex_tile}","    ","    float x2 = rotation.x + rotation.x, y2 = rotation.y + rotation.y, z2 = rotation.z + rotation.z;","    float xx = rotation.x * x2, xy = rotation.x * y2, xz = rotation.x * z2;","    float yy = rotation.y * y2, yz = rotation.y * z2, zz = rotation.z * z2;","    float wx = rotation.w * x2, wy = rotation.w * y2, wz = rotation.w * z2;","    float sx = size, sy = size, sz = size;","    ","    mat4 matrix = mat4(( 1.0 - ( yy + zz ) ) * sx, ( xy + wz ) * sx, ( xz - wy ) * sx, 0.0,  // 1. column","                      ( xy - wz ) * sy, ( 1.0 - ( xx + zz ) ) * sy, ( yz + wx ) * sy, 0.0,  // 2. column","                      ( xz + wy ) * sz, ( yz - wx ) * sz, ( 1.0 - ( xx + yy ) ) * sz, 0.0,  // 3. column","                      offset.x, offset.y, offset.z, 1.0);","    ","    vec4 mvPosition = modelViewMatrix * (matrix * vec4( position, 1.0 ));","","\tvColor = color;","","\tgl_Position = projectionMatrix * mvPosition;","","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","","}","`;","","var local_particle_physics_vert = `","#define STANDARD","varying vec3 vViewPosition;","#ifdef USE_TRANSMISSION","\tvarying vec3 vWorldPosition;","#endif","#include <common>","#include <uv_pars_vertex>","","attribute vec3 offset;","attribute vec4 rotation;","attribute float size;","attribute float uvTile;","","#ifdef UV_TILE","uniform vec2 tileCount;","#endif","","#include <displacementmap_pars_vertex>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <shadowmap_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","","void main() {","    ${uv_vertex_tile}","","    float x2 = rotation.x + rotation.x, y2 = rotation.y + rotation.y, z2 = rotation.z + rotation.z;","    float xx = rotation.x * x2, xy = rotation.x * y2, xz = rotation.x * z2;","    float yy = rotation.y * y2, yz = rotation.y * z2, zz = rotation.z * z2;","    float wx = rotation.w * x2, wy = rotation.w * y2, wz = rotation.w * z2;","    float sx = size, sy = size, sz = size;","","    mat4 particleMatrix = mat4(( 1.0 - ( yy + zz ) ) * sx, ( xy + wz ) * sx, ( xz - wy ) * sx, 0.0,  // 1. column","                      ( xy - wz ) * sy, ( 1.0 - ( xx + zz ) ) * sy, ( yz + wx ) * sy, 0.0,  // 2. column","                      ( xz + wy ) * sz, ( yz - wx ) * sz, ( 1.0 - ( xx + yy ) ) * sz, 0.0,  // 3. column","                      offset.x, offset.y, offset.z, 1.0);","","\t#include <color_vertex>","\t#include <morphcolor_vertex>","\t#include <beginnormal_vertex>","\t#include <morphnormal_vertex>","\t#include <skinbase_vertex>","\t#include <skinnormal_vertex>","","\t// replace defaultnormal_vertex","\tvec3 transformedNormal = objectNormal;","    mat3 m = mat3( particleMatrix );","    transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );","    transformedNormal = m * transformedNormal;","    transformedNormal = normalMatrix * transformedNormal;","    #ifdef FLIP_SIDED","        transformedNormal = - transformedNormal;","    #endif","    #ifdef USE_TANGENT","        vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;","        #ifdef FLIP_SIDED","        transformedTangent = - transformedTangent;","        #endif","    #endif","","\t#include <normal_vertex>","\t#include <begin_vertex>","\t#include <morphtarget_vertex>","\t#include <skinning_vertex>","\t#include <displacementmap_vertex>","","\t// replace include <project_vertex>","  vec4 mvPosition = vec4( transformed, 1.0 );","  mvPosition = modelViewMatrix * (particleMatrix * mvPosition);","\tgl_Position = projectionMatrix * mvPosition;","","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","\t","\tvViewPosition = - mvPosition.xyz;","\t","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>","#ifdef USE_TRANSMISSION","\tvWorldPosition = worldPosition.xyz;","#endif","}","`;","","var stretched_bb_particle_vert = `","#include <common>","#include <uv_pars_vertex>","#include <color_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","","attribute vec3 offset;","attribute float rotation;","attribute float size;","attribute vec4 velocity;","attribute float uvTile;","","#ifdef UV_TILE","uniform vec2 tileCount;","#endif","","uniform float speedFactor;","","void main() {","","    ${uv_vertex_tile}","    ","    float lengthFactor = velocity.w;","#ifdef USE_SKEW","    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );","    vec3 viewVelocity = normalMatrix * velocity.xyz;","","    vec3 scaledPos = vec3(position.xy * size, position.z);","    float vlength = length(viewVelocity);","    vec3 projVelocity =  dot(scaledPos, viewVelocity) * viewVelocity / vlength;","    mvPosition.xyz += scaledPos + projVelocity * (speedFactor / size + lengthFactor / vlength);","#else","    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );","    vec3 viewVelocity = normalMatrix * velocity.xyz;","    float vlength = length(viewVelocity); ","    mvPosition.xyz += position.y * normalize(cross(mvPosition.xyz, viewVelocity)) * size; // switch the cross to  match unity implementation","    mvPosition.xyz -= (position.x + 0.5) * viewVelocity * (1.0 + lengthFactor / vlength) * size; // minus position.x to match unity implementation","#endif","\tvColor = color;","\tgl_Position = projectionMatrix * mvPosition;","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","}","`;","","function getMaterialUVChannelName(value) {","    if (value === 0)","        return 'uv';","    return `uv${value}`;","}","","new THREE.Vector3(0, 0, 1);","class SpriteBatch extends VFXBatch {","    constructor(settings) {","        super(settings);","        this.vector_ = new THREE.Vector3();","        this.vector2_ = new THREE.Vector3();","        this.vector3_ = new THREE.Vector3();","        this.quaternion_ = new THREE.Quaternion();","        this.quaternion2_ = new THREE.Quaternion();","        this.quaternion3_ = new THREE.Quaternion();","        this.rotationMat_ = new THREE.Matrix3();","        this.rotationMat2_ = new THREE.Matrix3();","        this.maxParticles = 1000;","        this.setupBuffers();","        this.rebuildMaterial();","    }","    buildExpandableBuffers() {","        this.offsetBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 3), 3);","        this.offsetBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('offset', this.offsetBuffer);","        this.colorBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);","        this.colorBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('color', this.colorBuffer);","        if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","            this.rotationBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);","            this.rotationBuffer.setUsage(THREE.DynamicDrawUsage);","            this.geometry.setAttribute('rotation', this.rotationBuffer);","        }","        else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard ||","            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||","            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||","            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {","            this.rotationBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);","            this.rotationBuffer.setUsage(THREE.DynamicDrawUsage);","            this.geometry.setAttribute('rotation', this.rotationBuffer);","        }","        this.sizeBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);","        this.sizeBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('size', this.sizeBuffer);","        this.uvTileBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles), 1);","        this.uvTileBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('uvTile', this.uvTileBuffer);","        if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {","            this.velocityBuffer = new THREE.InstancedBufferAttribute(new Float32Array(this.maxParticles * 4), 4);","            this.velocityBuffer.setUsage(THREE.DynamicDrawUsage);","            this.geometry.setAttribute('velocity', this.velocityBuffer);","        }","    }","    setupBuffers() {","        if (this.geometry)","            this.geometry.dispose();","        this.geometry = new THREE.InstancedBufferGeometry();","        this.geometry.setIndex(this.settings.instancingGeometry.getIndex());","        if (this.settings.instancingGeometry.hasAttribute('normal')) {","            this.geometry.setAttribute('normal', this.settings.instancingGeometry.getAttribute('normal'));","        }","        this.geometry.setAttribute('position', this.settings.instancingGeometry.getAttribute('position'));","        this.geometry.setAttribute('uv', this.settings.instancingGeometry.getAttribute('uv'));","        this.buildExpandableBuffers();","    }","    expandBuffers(target) {","        while (target >= this.maxParticles) {","            this.maxParticles *= 2;","        }","        this.setupBuffers();","    }","    rebuildMaterial() {","        this.layers.mask = this.settings.layers.mask;","        let uniforms;","        const defines = {};","        if (this.settings.material.type === 'MeshStandardMaterial' ||","            this.settings.material.type === 'MeshPhysicalMaterial') {","            const mat = this.settings.material;","            uniforms = THREE.UniformsUtils.merge([","                THREE.UniformsLib.common,","                THREE.UniformsLib.envmap,","                THREE.UniformsLib.aomap,","                THREE.UniformsLib.lightmap,","                THREE.UniformsLib.emissivemap,","                THREE.UniformsLib.bumpmap,","                THREE.UniformsLib.normalmap,","                THREE.UniformsLib.displacementmap,","                THREE.UniformsLib.roughnessmap,","                THREE.UniformsLib.metalnessmap,","                THREE.UniformsLib.fog,","                THREE.UniformsLib.lights,","                {","                    emissive: { value: new THREE.Color(0x000000) },","                    roughness: { value: 1.0 },","                    metalness: { value: 0.0 },","                    envMapIntensity: { value: 1 },","                },","            ]);","            uniforms['diffuse'].value = mat.color;","            uniforms['opacity'].value = mat.opacity;","            uniforms['emissive'].value = mat.emissive;","            uniforms['roughness'].value = mat.roughness;","            uniforms['metalness'].value = mat.metalness;","            if (mat.envMap) {","                uniforms['envMap'].value = mat.envMap;","                uniforms['envMapIntensity'].value = mat.envMapIntensity;","            }","            if (mat.normalMap) {","                uniforms['normalMap'].value = mat.normalMap;","                uniforms['normalScale'].value = mat.normalScale;","            }","            if (mat.roughnessMap) {","                uniforms['roughnessMap'].value = mat.roughnessMap;","            }","            if (mat.metalnessMap) {","                uniforms['metalnessMap'].value = mat.metalnessMap;","            }","            if (mat.map) {","                uniforms['map'] = new THREE.Uniform(mat.map);","            }","        }","        else {","            uniforms = {};","            uniforms['map'] = new THREE.Uniform(this.settings.material.map);","        }","        if (this.settings.material.alphaTest) {","            defines['USE_ALPHATEST'] = '';","            uniforms['alphaTest'] = new THREE.Uniform(this.settings.material.alphaTest);","        }","        defines['USE_UV'] = '';","        const uTileCount = this.settings.uTileCount;","        const vTileCount = this.settings.vTileCount;","        if (uTileCount > 1 || vTileCount > 1) {","            defines['UV_TILE'] = '';","            uniforms['tileCount'] = new THREE.Uniform(new THREE.Vector2(uTileCount, vTileCount));","        }","        if (this.settings.material.defines &&","            this.settings.material.defines['USE_COLOR_AS_ALPHA'] !== undefined) {","            defines['USE_COLOR_AS_ALPHA'] = '';","        }","        if (this.settings.material.normalMap) {","            defines['USE_NORMALMAP'] = '';","            defines['NORMALMAP_UV'] = getMaterialUVChannelName(this.settings.material.normalMap.channel);","            uniforms['normalMapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.normalMap.matrix));","        }","        if (this.settings.material.map) {","            defines['USE_MAP'] = '';","            defines['MAP_UV'] = getMaterialUVChannelName(this.settings.material.map.channel);","            uniforms['mapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.map.matrix));","        }","        defines['USE_COLOR_ALPHA'] = '';","        let needLights = false;","        if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard ||","            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||","            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||","            this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","            let vertexShader;","            let fragmentShader;","            if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","                if (this.settings.material.type === 'MeshStandardMaterial' ||","                    this.settings.material.type === 'MeshPhysicalMaterial') {","                    defines['USE_COLOR'] = '';","                    vertexShader = local_particle_physics_vert;","                    fragmentShader = particle_physics_frag;","                    needLights = true;","                }","                else {","                    vertexShader = local_particle_vert;","                    fragmentShader = particle_frag;","                }","            }","            else {","                vertexShader = particle_vert;","                fragmentShader = particle_frag;","            }","            if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard) {","                defines['VERTICAL'] = '';","            }","            else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard) {","                defines['HORIZONTAL'] = '';","            }","            this.material = new THREE.ShaderMaterial({","                uniforms: uniforms,","                defines: defines,","                vertexShader: vertexShader,","                fragmentShader: fragmentShader,","                transparent: this.settings.material.transparent,","                depthWrite: !this.settings.material.transparent,","                blending: this.settings.material.blending,","                side: this.settings.material.side,","                alphaTest: this.settings.material.alphaTest,","                lights: needLights,","            });","        }","        else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard) {","            uniforms['speedFactor'] = new THREE.Uniform(1.0);","            this.material = new THREE.ShaderMaterial({","                uniforms: uniforms,","                defines: defines,","                vertexShader: stretched_bb_particle_vert,","                fragmentShader: particle_frag,","                transparent: this.settings.material.transparent,","                depthWrite: !this.settings.material.transparent,","                blending: this.settings.material.blending,","                side: this.settings.material.side,","                alphaTest: this.settings.material.alphaTest,","            });","        }","        else {","            throw new Error('render mode unavailable');","        }","    }","    update() {","        let index = 0;","        let particleCount = 0;","        this.systems.forEach((system) => {","            particleCount += system.particleNum;","        });","        if (particleCount > this.maxParticles) {","            this.expandBuffers(particleCount);","        }","        this.systems.forEach((system) => {","            const particles = system.particles;","            const particleNum = system.particleNum;","            const rotation = this.quaternion2_;","            const translation = this.vector2_;","            const scale = this.vector3_;","            system.emitter.matrixWorld.decompose(translation, rotation, scale);","            this.rotationMat_.setFromMatrix4(system.emitter.matrixWorld);","            for (let j = 0; j < particleNum; j++ , index++) {","                const particle = particles[j];","                if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","                    let q;","                    if (system.worldSpace) {","                        q = particle.rotation;","                    }","                    else {","                        let parentQ;","                        if (particle.parentMatrix) {","                            parentQ = this.quaternion3_.setFromRotationMatrix(particle.parentMatrix);","                        }","                        else {","                            parentQ = rotation;","                        }","                        q = this.quaternion_;","                        q.copy(particle.rotation).multiply(parentQ);","                    }","                    this.rotationBuffer.setXYZW(index, q.x, q.y, q.z, q.w);","                }","                else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard ||","                    this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||","                    this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||","                    this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard) {","                    this.rotationBuffer.setX(index, particle.rotation);","                }","                let vec;","                if (system.worldSpace) {","                    vec = particle.position;","                }","                else {","                    vec = this.vector_;","                    if (particle.parentMatrix) {","                        vec.copy(particle.position).applyMatrix4(particle.parentMatrix);","                    }","                    else {","                        vec.copy(particle.position).applyMatrix4(system.emitter.matrixWorld);","                    }","                }","                this.offsetBuffer.setXYZ(index, vec.x, vec.y, vec.z);","                this.colorBuffer.setXYZW(index, particle.color.x, particle.color.y, particle.color.z, particle.color.w);","                if (system.worldSpace) {","                    this.sizeBuffer.setX(index, particle.size);","                }","                else {","                    if (particle.parentMatrix) {","                        this.sizeBuffer.setX(index, particle.size);","                    }","                    else {","                        this.sizeBuffer.setX(index, (particle.size * (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z))) / 3);","                    }","                }","                this.uvTileBuffer.setX(index, particle.uvTile);","                if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard && this.velocityBuffer) {","                    let speedFactor = system.rendererEmitterSettings.speedFactor;","                    if (speedFactor === 0)","                        speedFactor = 0.001;","                    const lengthFactor = system.rendererEmitterSettings.lengthFactor;","                    let vec;","                    if (system.worldSpace) {","                        vec = particle.velocity;","                    }","                    else {","                        vec = this.vector_;","                        if (particle.parentMatrix) {","                            this.rotationMat2_.setFromMatrix4(particle.parentMatrix);","                            vec.copy(particle.velocity).applyMatrix3(this.rotationMat2_);","                        }","                        else {","                            vec.copy(particle.velocity).applyMatrix3(this.rotationMat_);","                        }","                    }","                    this.velocityBuffer.setXYZW(index, vec.x * speedFactor, vec.y * speedFactor, vec.z * speedFactor, lengthFactor);","                }","            }","        });","        this.geometry.instanceCount = index;","        if (index > 0) {","            this.offsetBuffer.updateRange.count = index * 3;","            this.offsetBuffer.needsUpdate = true;","            this.sizeBuffer.updateRange.count = index;","            this.sizeBuffer.needsUpdate = true;","            this.colorBuffer.updateRange.count = index * 4;","            this.colorBuffer.needsUpdate = true;","            this.uvTileBuffer.updateRange.count = index;","            this.uvTileBuffer.needsUpdate = true;","            if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard && this.velocityBuffer) {","                this.velocityBuffer.updateRange.count = index * 4;","                this.velocityBuffer.needsUpdate = true;","            }","            if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Mesh) {","                this.rotationBuffer.updateRange.count = index * 4;","                this.rotationBuffer.needsUpdate = true;","            }","            else if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard ||","                this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard ||","                this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard ||","                this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard) {","                this.rotationBuffer.updateRange.count = index;","                this.rotationBuffer.needsUpdate = true;","            }","        }","    }","    dispose() {","        this.geometry.dispose();","    }","}","","var trail_frag = `","","#include <common>","#include <uv_pars_fragment>","#include <map_pars_fragment>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","","uniform sampler2D alphaMap;","uniform float useAlphaMap;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec4 vColor;","    ","void main() {","    #include <clipping_planes_fragment>","    #include <logdepthbuf_fragment>","","    vec4 c = vColor;","    ","    #ifdef USE_MAP","    #ifdef USE_COLOR_AS_ALPHA","    vec4 tex = texture2D( map, vUv * repeat );","    c *= vec4(tex.rgb, tex.r);","    #else","    c *= texture2D( map, vUv * repeat );","    #endif","    #endif","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUv * repeat ).a;","    if( c.a < alphaTest ) discard;","    gl_FragColor = c;","","    #include <fog_fragment>","    #include <tonemapping_fragment>","}`;","","var trail_vert = `","#include <common>","#include <uv_pars_vertex>","#include <color_pars_vertex>","#include <clipping_planes_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <fog_pars_vertex>","","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","","uniform vec2 resolution;","uniform float lineWidth;","uniform float sizeAttenuation;","    ","vec2 fix(vec4 i, float aspect) {","    vec2 res = i.xy / i.w;","    res.x *= aspect;","    return res;","}","    ","void main() {","","    ${uv_vertex_tile}","    ","    float aspect = resolution.x / resolution.y;","","    vColor = color;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4., * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ) vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","\t","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    ","\t#include <fog_vertex>","}`;","","new THREE.Vector3(0, 0, 1);","class TrailBatch extends VFXBatch {","    constructor(settings) {","        super(settings);","        this.vector_ = new THREE.Vector3();","        this.vector2_ = new THREE.Vector3();","        this.vector3_ = new THREE.Vector3();","        this.quaternion_ = new THREE.Quaternion();","        this.maxParticles = 10000;","        this.setupBuffers();","        this.rebuildMaterial();","    }","    setupBuffers() {","        if (this.geometry)","            this.geometry.dispose();","        this.geometry = new THREE.BufferGeometry();","        this.indexBuffer = new THREE.BufferAttribute(new Uint32Array(this.maxParticles * 6), 1);","        this.indexBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setIndex(this.indexBuffer);","        this.positionBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);","        this.positionBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('position', this.positionBuffer);","        this.previousBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);","        this.previousBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('previous', this.previousBuffer);","        this.nextBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 6), 3);","        this.nextBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('next', this.nextBuffer);","        this.widthBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 2), 1);","        this.widthBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('width', this.widthBuffer);","        this.sideBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 2), 1);","        this.sideBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('side', this.sideBuffer);","        this.uvBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 4), 2);","        this.uvBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('uv', this.uvBuffer);","        this.colorBuffer = new THREE.BufferAttribute(new Float32Array(this.maxParticles * 8), 4);","        this.colorBuffer.setUsage(THREE.DynamicDrawUsage);","        this.geometry.setAttribute('color', this.colorBuffer);","    }","    expandBuffers(target) {","        while (target >= this.maxParticles) {","            this.maxParticles *= 2;","        }","        this.setupBuffers();","    }","    rebuildMaterial() {","        this.layers.mask = this.settings.layers.mask;","        const uniforms = {","            lineWidth: { value: 1 },","            map: { value: null },","            useMap: { value: 0 },","            alphaMap: { value: null },","            useAlphaMap: { value: 0 },","            resolution: { value: new THREE.Vector2(1, 1) },","            sizeAttenuation: { value: 1 },","            visibility: { value: 1 },","            alphaTest: { value: 0 },","            repeat: { value: new THREE.Vector2(1, 1) },","        };","        const defines = {};","        defines['USE_UV'] = '';","        defines['USE_COLOR_ALPHA'] = '';","        if (this.settings.material.map) {","            defines['USE_MAP'] = '';","            defines['MAP_UV'] = getMaterialUVChannelName(this.settings.material.map.channel);","            uniforms['map'] = new THREE.Uniform(this.settings.material.map);","            uniforms['mapTransform'] = new THREE.Uniform(new THREE.Matrix3().copy(this.settings.material.map.matrix));","        }","        if (this.settings.material.defines &&","            this.settings.material.defines['USE_COLOR_AS_ALPHA'] !== undefined) {","            defines['USE_COLOR_AS_ALPHA'] = '';","        }","        if (this.settings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {","            this.material = new THREE.ShaderMaterial({","                uniforms: uniforms,","                defines: defines,","                vertexShader: trail_vert,","                fragmentShader: trail_frag,","                transparent: this.settings.material.transparent,","                depthWrite: !this.settings.material.transparent,","                side: this.settings.material.side,","                blending: this.settings.material.blending || THREE.AdditiveBlending,","            });","        }","        else {","            throw new Error('render mode unavailable');","        }","    }","    update() {","        let index = 0;","        let triangles = 0;","        let particleCount = 0;","        this.systems.forEach((system) => {","            for (let j = 0; j < system.particleNum; j++) {","                particleCount += system.particles[j].previous.length * 2;","            }","        });","        if (particleCount > this.maxParticles) {","            this.expandBuffers(particleCount);","        }","        this.systems.forEach((system) => {","            const rotation = this.quaternion_;","            const translation = this.vector2_;","            const scale = this.vector3_;","            system.emitter.matrixWorld.decompose(translation, rotation, scale);","            const particles = system.particles;","            const particleNum = system.particleNum;","            const uTileCount = this.settings.uTileCount;","            const vTileCount = this.settings.vTileCount;","            const tileWidth = 1 / uTileCount;","            const tileHeight = 1 / vTileCount;","            for (let j = 0; j < particleNum; j++) {","                const particle = particles[j];","                const col = particle.uvTile % vTileCount;","                const row = Math.floor(particle.uvTile / vTileCount + 0.001);","                const iter = particle.previous.values();","                let curIter = iter.next();","                let previous = curIter.value;","                let current = previous;","                if (!curIter.done)","                    curIter = iter.next();","                let next;","                if (curIter.value !== undefined) {","                    next = curIter.value;","                }","                else {","                    next = current;","                }","                for (let i = 0; i < particle.previous.length; i++ , index += 2) {","                    this.positionBuffer.setXYZ(index, current.position.x, current.position.y, current.position.z);","                    this.positionBuffer.setXYZ(index + 1, current.position.x, current.position.y, current.position.z);","                    if (system.worldSpace) {","                        this.positionBuffer.setXYZ(index, current.position.x, current.position.y, current.position.z);","                        this.positionBuffer.setXYZ(index + 1, current.position.x, current.position.y, current.position.z);","                    }","                    else {","                        if (particle.parentMatrix) {","                            this.vector_.copy(current.position).applyMatrix4(particle.parentMatrix);","                        }","                        else {","                            this.vector_.copy(current.position).applyMatrix4(system.emitter.matrixWorld);","                        }","                        this.positionBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);","                        this.positionBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);","                    }","                    if (system.worldSpace) {","                        this.previousBuffer.setXYZ(index, previous.position.x, previous.position.y, previous.position.z);","                        this.previousBuffer.setXYZ(index + 1, previous.position.x, previous.position.y, previous.position.z);","                    }","                    else {","                        if (particle.parentMatrix) {","                            this.vector_.copy(previous.position).applyMatrix4(particle.parentMatrix);","                        }","                        else {","                            this.vector_.copy(previous.position).applyMatrix4(system.emitter.matrixWorld);","                        }","                        this.previousBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);","                        this.previousBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);","                    }","                    if (system.worldSpace) {","                        this.nextBuffer.setXYZ(index, next.position.x, next.position.y, next.position.z);","                        this.nextBuffer.setXYZ(index + 1, next.position.x, next.position.y, next.position.z);","                    }","                    else {","                        if (particle.parentMatrix) {","                            this.vector_.copy(next.position).applyMatrix4(particle.parentMatrix);","                        }","                        else {","                            this.vector_.copy(next.position).applyMatrix4(system.emitter.matrixWorld);","                        }","                        this.nextBuffer.setXYZ(index, this.vector_.x, this.vector_.y, this.vector_.z);","                        this.nextBuffer.setXYZ(index + 1, this.vector_.x, this.vector_.y, this.vector_.z);","                    }","                    this.sideBuffer.setX(index, -1);","                    this.sideBuffer.setX(index + 1, 1);","                    if (system.worldSpace) {","                        this.widthBuffer.setX(index, current.size);","                        this.widthBuffer.setX(index + 1, current.size);","                    }","                    else {","                        if (particle.parentMatrix) {","                            this.widthBuffer.setX(index, current.size);","                            this.widthBuffer.setX(index + 1, current.size);","                        }","                        else {","                            const objectScale = (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z)) / 3;","                            this.widthBuffer.setX(index, current.size * objectScale);","                            this.widthBuffer.setX(index + 1, current.size * objectScale);","                        }","                    }","                    this.uvBuffer.setXY(index, (i / particle.previous.length + col) * tileWidth, (vTileCount - row - 1) * tileHeight);","                    this.uvBuffer.setXY(index + 1, (i / particle.previous.length + col) * tileWidth, (vTileCount - row) * tileHeight);","                    this.colorBuffer.setXYZW(index, current.color.x, current.color.y, current.color.z, current.color.w);","                    this.colorBuffer.setXYZW(index + 1, current.color.x, current.color.y, current.color.z, current.color.w);","                    if (i + 1 < particle.previous.length) {","                        this.indexBuffer.setX(triangles * 3, index);","                        this.indexBuffer.setX(triangles * 3 + 1, index + 1);","                        this.indexBuffer.setX(triangles * 3 + 2, index + 2);","                        triangles++;","                        this.indexBuffer.setX(triangles * 3, index + 2);","                        this.indexBuffer.setX(triangles * 3 + 1, index + 1);","                        this.indexBuffer.setX(triangles * 3 + 2, index + 3);","                        triangles++;","                    }","                    previous = current;","                    current = next;","                    if (!curIter.done) {","                        curIter = iter.next();","                        if (curIter.value !== undefined) {","                            next = curIter.value;","                        }","                    }","                }","            }","        });","        this.positionBuffer.updateRange.count = index * 3;","        this.positionBuffer.needsUpdate = true;","        this.previousBuffer.updateRange.count = index * 3;","        this.previousBuffer.needsUpdate = true;","        this.nextBuffer.updateRange.count = index * 3;","        this.nextBuffer.needsUpdate = true;","        this.sideBuffer.updateRange.count = index;","        this.sideBuffer.needsUpdate = true;","        this.widthBuffer.updateRange.count = index;","        this.widthBuffer.needsUpdate = true;","        this.uvBuffer.updateRange.count = index * 2;","        this.uvBuffer.needsUpdate = true;","        this.colorBuffer.updateRange.count = index * 4;","        this.colorBuffer.needsUpdate = true;","        this.indexBuffer.updateRange.count = triangles * 3;","        this.indexBuffer.needsUpdate = true;","        this.geometry.setDrawRange(0, triangles * 3);","    }","    dispose() {","        this.geometry.dispose();","    }","}","","class BatchedRenderer extends THREE.Object3D {","    constructor() {","        super();","        this.batches = [];","        this.systemToBatchIndex = new Map();","        this.type = 'BatchedRenderer';","    }","    static equals(a, b) {","        return (a.material.side === b.material.side &&","            a.material.blending === b.material.blending &&","            a.material.transparent === b.material.transparent &&","            a.material.type === b.material.type &&","            a.material.alphaTest === b.material.alphaTest &&","            a.material.map === b.material.map &&","            a.renderMode === b.renderMode &&","            a.uTileCount === b.uTileCount &&","            a.vTileCount === b.vTileCount &&","            a.instancingGeometry === b.instancingGeometry &&","            a.renderOrder === b.renderOrder &&","            a.layers.mask === b.layers.mask);","    }","    addSystem(system) {","        system._renderer = this;","        const settings = system.getRendererSettings();","        for (let i = 0; i < this.batches.length; i++) {","            if (BatchedRenderer.equals(this.batches[i].settings, settings)) {","                this.batches[i].addSystem(system);","                this.systemToBatchIndex.set(system, i);","                return;","            }","        }","        let batch;","        switch (settings.renderMode) {","            case gdjs.__particleEmmiter3DExtension.RenderMode.Trail:","                batch = new TrailBatch(settings);","                break;","            case gdjs.__particleEmmiter3DExtension.RenderMode.Mesh:","            case gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard:","            case gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard:","            case gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard:","            case gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard:","                batch = new SpriteBatch(settings);","                break;","        }","        batch.addSystem(system);","        this.batches.push(batch);","        this.systemToBatchIndex.set(system, this.batches.length - 1);","        this.add(batch);","    }","    deleteSystem(system) {","        const batchIndex = this.systemToBatchIndex.get(system);","        if (batchIndex != undefined) {","            this.batches[batchIndex].removeSystem(system);","            this.systemToBatchIndex.delete(system);","        }","    }","    updateSystem(system) {","        this.deleteSystem(system);","        this.addSystem(system);","    }","    update(delta) {","        this.systemToBatchIndex.forEach((value, ps) => {","            ps.update(delta);","        });","        for (let i = 0; i < this.batches.length; i++) {","            this.batches[i].update();","        }","    }","}","","const BatchedParticleRenderer = BatchedRenderer;","","class QuarksLoader extends THREE.ObjectLoader {","    constructor(manager) {","        super(manager);","    }","    linkReference(object) {","        const objectsMap = {};","        object.traverse(function (child) {","            objectsMap[child.uuid] = child;","        });","        object.traverse(function (child) {","            if (child.type === 'ParticleEmitter') {","                const system = child.system;","                system.emitterShape;","                for (let i = 0; i < system.behaviors.length; i++) {","                    if (system.behaviors[i] instanceof EmitSubParticleSystem) {","                        system.behaviors[i].subParticleSystem = objectsMap[system.behaviors[i].subParticleSystem];","                    }","                }","            }","        });","    }","    parse(json, onLoad) {","        const object = super.parse(json, onLoad);","        this.linkReference(object);","        return object;","    }","    parseObject(data, geometries, materials, textures, animations) {","        let object;","        function getGeometry(name) {","            if (geometries[name] === undefined) {","                console.warn('THREE.ObjectLoader: Undefined geometry', name);","            }","            return geometries[name];","        }","        function getMaterial(name) {","            if (name === undefined)","                return undefined;","            if (Array.isArray(name)) {","                const array = [];","                for (let i = 0, l = name.length; i < l; i++) {","                    const uuid = name[i];","                    if (materials[uuid] === undefined) {","                        console.warn('THREE.ObjectLoader: Undefined material', uuid);","                    }","                    array.push(materials[uuid]);","                }","                return array;","            }","            if (materials[name] === undefined) {","                console.warn('THREE.ObjectLoader: Undefined material', name);","            }","            return materials[name];","        }","        function getTexture(uuid) {","            if (textures[uuid] === undefined) {","                console.warn('THREE.ObjectLoader: Undefined texture', uuid);","            }","            return textures[uuid];","        }","        let geometry, material;","        const meta = {","            textures: textures,","            geometries: geometries,","            materials: materials,","        };","        const dependencies = {};","        switch (data.type) {","            case 'ParticleEmitter':","                object = ParticleSystem.fromJSON(data.ps, meta, dependencies).emitter;","                break;","            case 'Scene':","                object = new THREE.Scene();","                if (data.background !== undefined) {","                    if (Number.isInteger(data.background)) {","                        object.background = new THREE.Color(data.background);","                    }","                    else {","                        object.background = getTexture(data.background);","                    }","                }","                if (data.environment !== undefined) {","                    object.environment = getTexture(data.environment);","                }","                if (data.fog !== undefined) {","                    if (data.fog.type === 'Fog') {","                        object.fog = new THREE.Fog(data.fog.color, data.fog.near, data.fog.far);","                    }","                    else if (data.fog.type === 'FogExp2') {","                        object.fog = new THREE.FogExp2(data.fog.color, data.fog.density);","                    }","                }","                if (data.backgroundBlurriness !== undefined)","                    object.backgroundBlurriness = data.backgroundBlurriness;","                break;","            case 'PerspectiveCamera':","                object = new THREE.PerspectiveCamera(data.fov, data.aspect, data.near, data.far);","                if (data.focus !== undefined)","                    object.focus = data.focus;","                if (data.zoom !== undefined)","                    object.zoom = data.zoom;","                if (data.filmGauge !== undefined)","                    object.filmGauge = data.filmGauge;","                if (data.filmOffset !== undefined)","                    object.filmOffset = data.filmOffset;","                if (data.view !== undefined)","                    object.view = Object.assign({}, data.view);","                break;","            case 'OrthographicCamera':","                object = new THREE.OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);","                if (data.zoom !== undefined)","                    object.zoom = data.zoom;","                if (data.view !== undefined)","                    object.view = Object.assign({}, data.view);","                break;","            case 'AmbientLight':","                object = new THREE.AmbientLight(data.color, data.intensity);","                break;","            case 'DirectionalLight':","                object = new THREE.DirectionalLight(data.color, data.intensity);","                break;","            case 'PointLight':","                object = new THREE.PointLight(data.color, data.intensity, data.distance, data.decay);","                break;","            case 'RectAreaLight':","                object = new THREE.RectAreaLight(data.color, data.intensity, data.width, data.height);","                break;","            case 'SpotLight':","                object = new THREE.SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);","                break;","            case 'HemisphereLight':","                object = new THREE.HemisphereLight(data.color, data.groundColor, data.intensity);","                break;","            case 'LightProbe':","                object = new THREE.LightProbe().fromJSON(data);","                break;","            case 'SkinnedMesh':","                geometry = getGeometry(data.geometry);","                material = getMaterial(data.material);","                object = new THREE.SkinnedMesh(geometry, material);","                if (data.bindMode !== undefined)","                    object.bindMode = data.bindMode;","                if (data.bindMatrix !== undefined)","                    object.bindMatrix.fromArray(data.bindMatrix);","                if (data.skeleton !== undefined)","                    object.skeleton = data.skeleton;","                break;","            case 'Mesh':","                geometry = getGeometry(data.geometry);","                material = getMaterial(data.material);","                object = new THREE.Mesh(geometry, material);","                break;","            case 'InstancedMesh': {","                geometry = getGeometry(data.geometry);","                material = getMaterial(data.material);","                const count = data.count;","                const instanceMatrix = data.instanceMatrix;","                const instanceColor = data.instanceColor;","                object = new THREE.InstancedMesh(geometry, material, count);","                object.instanceMatrix = new THREE.InstancedBufferAttribute(new Float32Array(instanceMatrix.array), 16);","                if (instanceColor !== undefined)","                    object.instanceColor = new THREE.InstancedBufferAttribute(new Float32Array(instanceColor.array), instanceColor.itemSize);","                break;","            }","            case 'LOD':","                object = new THREE.LOD();","                break;","            case 'Line':","                object = new THREE.Line(getGeometry(data.geometry), getMaterial(data.material));","                break;","            case 'LineLoop':","                object = new THREE.LineLoop(getGeometry(data.geometry), getMaterial(data.material));","                break;","            case 'LineSegments':","                object = new THREE.LineSegments(getGeometry(data.geometry), getMaterial(data.material));","                break;","            case 'PointCloud':","            case 'Points':","                object = new THREE.Points(getGeometry(data.geometry), getMaterial(data.material));","                break;","            case 'Sprite':","                object = new THREE.Sprite(getMaterial(data.material));","                break;","            case 'Group':","                object = new THREE.Group();","                break;","            case 'Bone':","                object = new THREE.Bone();","                break;","            default:","                object = new THREE.Object3D();","        }","        object.uuid = data.uuid;","        if (data.name !== undefined)","            object.name = data.name;","        if (data.matrix !== undefined) {","            object.matrix.fromArray(data.matrix);","            if (data.matrixAutoUpdate !== undefined)","                object.matrixAutoUpdate = data.matrixAutoUpdate;","            if (object.matrixAutoUpdate)","                object.matrix.decompose(object.position, object.quaternion, object.scale);","        }","        else {","            if (data.position !== undefined)","                object.position.fromArray(data.position);","            if (data.rotation !== undefined)","                object.rotation.fromArray(data.rotation);","            if (data.quaternion !== undefined)","                object.quaternion.fromArray(data.quaternion);","            if (data.scale !== undefined)","                object.scale.fromArray(data.scale);","        }","        if (data.castShadow !== undefined)","            object.castShadow = data.castShadow;","        if (data.receiveShadow !== undefined)","            object.receiveShadow = data.receiveShadow;","        if (data.shadow) {","            if (data.shadow.bias !== undefined)","                object.shadow.bias = data.shadow.bias;","            if (data.shadow.normalBias !== undefined)","                object.normalBias = data.shadow.normalBias;","            if (data.shadow.radius !== undefined)","                object.radius = data.shadow.radius;","            if (data.shadow.mapSize !== undefined)","                object.mapSize.fromArray(data.shadow.mapSize);","            if (data.shadow.camera !== undefined) {","                object.camera = this.parseObject(data.shadow.camera);","            }","        }","        if (data.visible !== undefined)","            object.visible = data.visible;","        if (data.frustumCulled !== undefined)","            object.frustumCulled = data.frustumCulled;","        if (data.renderOrder !== undefined)","            object.renderOrder = data.renderOrder;","        if (data.userData !== undefined)","            object.userData = data.userData;","        if (data.layers !== undefined)","            object.layers.mask = data.layers;","        if (data.children !== undefined) {","            const children = data.children;","            for (let i = 0; i < children.length; i++) {","                object.add(this.parseObject(children[i], geometries, materials, textures, animations));","            }","        }","        if (data.animations !== undefined) {","            const objectAnimations = data.animations;","            for (let i = 0; i < objectAnimations.length; i++) {","                const uuid = objectAnimations[i];","                object.animations.push(animations[uuid]);","            }","        }","        if (data.type === 'LOD') {","            if (data.autoUpdate !== undefined)","                object.autoUpdate = data.autoUpdate;","            const levels = data.levels;","            for (let l = 0; l < levels.length; l++) {","                const level = levels[l];","                const child = object.getObjectByProperty('uuid', level.object);","                if (child !== undefined) {","                    object.addLevel(child, level.distance);","                }","            }","        }","        return object;","    }","}","","const Plugins = [];","function loadPlugin(plugin) {","    const existing = Plugins.find((item) => item.id === plugin.id);","    if (!existing) {","        plugin.initialize();","        for (const emitterShape of plugin.emitterShapes) {","            if (!EmitterShapes[emitterShape.type]) {","                EmitterShapes[emitterShape.type] = emitterShape;","            }","        }","        for (const behavior of plugin.behaviors) {","            if (!BehaviorTypes[behavior.type]) {","                BehaviorTypes[behavior.type] = behavior;","            }","        }","    }","}","function unloadPlugin(pluginId) {","    const plugin = Plugins.find((item) => item.id === pluginId);","    if (plugin) {","        for (const emitterShape of plugin.emitterShapes) {","            if (EmitterShapes[emitterShape.type]) {","                delete EmitterShapes[emitterShape.type];","            }","        }","        for (const behavior of plugin.behaviors) {","            if (BehaviorTypes[behavior.type]) {","                delete BehaviorTypes[behavior.type];","            }","        }","    }","}","","gdjs.__particleEmmiter3DExtension.NodeValueType = void 0;","(function (NodeValueType) {","    NodeValueType[NodeValueType[\"Number\"] = 0] = \"Number\";","    NodeValueType[NodeValueType[\"Vec2\"] = 1] = \"Vec2\";","    NodeValueType[NodeValueType[\"Vec3\"] = 2] = \"Vec3\";","    NodeValueType[NodeValueType[\"Vec4\"] = 3] = \"Vec4\";","    NodeValueType[NodeValueType[\"Boolean\"] = 4] = \"Boolean\";","    NodeValueType[NodeValueType[\"AnyType\"] = 5] = \"AnyType\";","    NodeValueType[NodeValueType[\"NullableAnyType\"] = 6] = \"NullableAnyType\";","    NodeValueType[NodeValueType[\"EventStream\"] = 7] = \"EventStream\";","})(gdjs.__particleEmmiter3DExtension.NodeValueType || (gdjs.__particleEmmiter3DExtension.NodeValueType = {}));","const genDefaultForNodeValueType = (type) => {","    switch (type) {","        case gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean:","            return false;","        case gdjs.__particleEmmiter3DExtension.NodeValueType.Number:","            return 0;","        case gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2:","            return new THREE.Vector2();","        case gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3:","            return new THREE.Vector3();","        case gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4:","            return new THREE.Vector4();","        case gdjs.__particleEmmiter3DExtension.NodeValueType.AnyType:","            return 0;","        case gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType:","            return undefined;","    }","};","","class Node {","    constructor(type, signatureIndex = -1, data = {}) {","        this.inputs = [];","        this.outputs = [];","        this.signatureIndex = -1;","        this.position = new THREE.Vector2();","        this.outputValues = [];","        this.id = '' + Math.round(Math.random() * 100000);","        this.type = type;","        this.signatureIndex = signatureIndex;","        this.data = data;","        const realIndex = signatureIndex === -1 ? 0 : signatureIndex;","        for (let i = 0; i < type.nodeTypeSignatures[realIndex].inputTypes.length; i++) {","            this.inputs.push(undefined);","        }","        for (let i = 0; i < type.nodeTypeSignatures[realIndex].outputTypes.length; i++) {","            this.outputs.push([]);","            this.outputValues.push(genDefaultForNodeValueType(type.nodeTypeSignatures[realIndex].outputTypes[i]));","        }","    }","    get inputTypes() {","        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;","        return this.type.nodeTypeSignatures[signatureIndex].inputTypes;","    }","    get outputTypes() {","        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;","        return this.type.nodeTypeSignatures[signatureIndex].outputTypes;","    }","    func(context, inputs, outputs) {","        const signatureIndex = this.signatureIndex === -1 ? 0 : this.signatureIndex;","        this.type.nodeTypeSignatures[signatureIndex].func(context, this.data, inputs, outputs);","    }","}","class Wire {","    constructor(input, inputIndex, output, outputIndex) {","        this.input = input;","        this.inputIndex = inputIndex;","        this.input.outputs[inputIndex].push(this);","        this.output = output;","        this.outputIndex = outputIndex;","        this.output.inputs[outputIndex] = this;","    }","}","","class BaseCompiler {","    constructor() {","        this.visited = new Set();","        BaseCompiler.Instance = this;","    }","    buildExecutionOrder(graph, context) {","        graph.nodesInOrder.length = 0;","        this.visited.clear();","        for (let i = 0; i < graph.outputNodes.length; i++) {","            const node = graph.outputNodes[i];","            if (node.inputs[0] !== undefined) {","                this._traverse(node, graph, context);","            }","        }","        graph.compiled = true;","    }","    _traverse(node, graph, context) {","        this.visited.add(node.id);","        for (let i = 0; i < node.inputs.length; i++) {","            if (node.inputs[i] instanceof Wire) {","                const inputNode = node.inputs[i].input;","                if (!this.visited.has(inputNode.id)) {","                    this._traverse(inputNode, graph, context);","                }","            }","            else if (node.inputs[i] !== undefined);","            else;","        }","        graph.nodesInOrder.push(node);","    }","}","","class Interpreter extends BaseCompiler {","    constructor() {","        super();","    }","    executeCompiledGraph(graph, context) {","        const nodes = graph.nodesInOrder;","        for (let i = 0; i < nodes.length; i++) {","            const inputValues = [];","            const node = nodes[i];","            for (let j = 0; j < node.inputs.length; j++) {","                if (node.inputs[j] instanceof Wire) {","                    inputValues.push(node.inputs[j].input.outputValues[node.inputs[j].inputIndex]);","                }","                else if (node.inputs[j] !== undefined) {","                    inputValues.push(node.inputs[j].getValue(context));","                }","                else {","                    inputValues.push(undefined);","                }","            }","            node.func(context, inputValues, node.outputValues);","        }","    }","    run(graph, context) {","        if (!graph.compiled) {","            this.buildExecutionOrder(graph, context);","        }","        this.executeCompiledGraph(graph, context);","    }","}","","class NodeType {","    constructor(name) {","        this.nodeTypeSignatures = [];","        this.name = name;","    }","    addSignature(inputTypes, outputTypes, func) {","        this.nodeTypeSignatures.push({","            inputTypes: inputTypes,","            outputTypes: outputTypes,","            func: func,","        });","    }","}","class GraphNodeType extends NodeType {","    constructor(nodeGraph) {","        const inputTypes = [];","        for (let i = 0; i < nodeGraph.inputNodes.length; i++) {","            if (nodeGraph.inputNodes[i].type.name === 'input') {","                inputTypes.push(nodeGraph.inputNodes[i].data.type);","            }","        }","        const outputTypes = [];","        for (let i = 0; i < nodeGraph.outputNodes.length; i++) {","            if (nodeGraph.outputNodes[i].type.name === 'output') {","                outputTypes.push(nodeGraph.outputNodes[i].data.type);","            }","        }","        super(nodeGraph.name);","        this.addSignature(inputTypes, outputTypes, (context, data, inputs, outputs) => {","            context.inputs = inputs;","            context.outputs = outputs;","            Interpreter.Instance.run(nodeGraph, context);","        });","        this.nodeGraph = nodeGraph;","    }","}","","const NodeTypes = {};","const addNode = new NodeType('add');","addNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] + inputs[1];","});","addNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].addVectors(inputs[0], inputs[1]);","});","addNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].addVectors(inputs[0], inputs[1]);","});","addNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].addVectors(inputs[0], inputs[1]);","});","NodeTypes['add'] = addNode;","const subNode = new NodeType('sub');","subNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] - inputs[1];","});","subNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].subVectors(inputs[0], inputs[1]);","});","subNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].subVectors(inputs[0], inputs[1]);","});","subNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].subVectors(inputs[0], inputs[1]);","});","NodeTypes['sub'] = subNode;","const mulNode = new NodeType('mul');","mulNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] * inputs[1];","});","mulNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);","});","mulNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);","});","mulNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).multiplyScalar(inputs[1]);","});","NodeTypes['mul'] = mulNode;","const divNode = new NodeType('div');","divNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] / inputs[1];","});","divNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);","});","divNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);","});","divNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).divideScalar(inputs[1]);","});","NodeTypes['div'] = divNode;","const sinNode = new NodeType('sin');","sinNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.sin(inputs[0]);","});","NodeTypes['sin'] = sinNode;","const cosNode = new NodeType('cos');","cosNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.cos(inputs[0]);","});","NodeTypes['cos'] = cosNode;","const tanNode = new NodeType('tan');","tanNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.tan(inputs[0]);","});","NodeTypes['tan'] = tanNode;","const absNode = new NodeType('abs');","absNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.abs(inputs[0]);","});","NodeTypes['abs'] = absNode;","const minNode = new NodeType('min');","minNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.min(inputs[0], inputs[1]);","});","NodeTypes['min'] = minNode;","const maxNode = new NodeType('max');","maxNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.max(inputs[0], inputs[1]);","});","NodeTypes['max'] = maxNode;","const dot = new NodeType('dot');","dot.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].dot(inputs[1]);","});","dot.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].dot(inputs[1]);","});","dot.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].dot(inputs[1]);","});","NodeTypes['dot'] = dot;","const cross = new NodeType('cross');","cross.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].crossVectors(inputs[0], inputs[1]);","});","NodeTypes['cross'] = cross;","const length = new NodeType('length');","length.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].length();","});","length.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].length();","});","length.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].length();","});","NodeTypes['length'] = length;","const lengthSq = new NodeType('lengthSq');","lengthSq.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].lengthSq();","});","lengthSq.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].lengthSq();","});","lengthSq.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].lengthSq();","});","NodeTypes['lengthSq'] = lengthSq;","const normalize = new NodeType('normalize');","normalize.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).normalize();","});","normalize.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).normalize();","});","normalize.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].copy(inputs[0]).normalize();","});","NodeTypes['normalize'] = normalize;","const distance = new NodeType('distance');","distance.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].distanceTo(inputs[1]);","});","distance.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].distanceTo(inputs[1]);","});","NodeTypes['distance'] = distance;","const andNode = new NodeType('and');","andNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean, gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] && inputs[1];","});","NodeTypes['and'] = andNode;","const orNode = new NodeType('or');","orNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean, gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] || inputs[1];","});","NodeTypes['or'] = orNode;","const notNode = new NodeType('not');","notNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = !inputs[0];","});","NodeTypes['not'] = notNode;","const equalNode = new NodeType('equal');","equalNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] === inputs[1];","});","equalNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].equals(inputs[1]);","});","equalNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].equals(inputs[1]);","});","equalNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].equals(inputs[1]);","});","NodeTypes['equal'] = equalNode;","const lessThanNode = new NodeType('lessThan');","lessThanNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] < inputs[1];","});","NodeTypes['lessThan'] = lessThanNode;","const greaterThanNode = new NodeType('greaterThan');","greaterThanNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] > inputs[1];","});","NodeTypes['greaterThan'] = greaterThanNode;","const lessThanOrEqualNode = new NodeType('lessThanOrEqual');","lessThanOrEqualNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] <= inputs[1];","});","NodeTypes['lessThanOrEqual'] = lessThanOrEqualNode;","const greaterThanOrEqualNode = new NodeType('greaterThanOrEqual');","greaterThanOrEqualNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] >= inputs[1];","});","NodeTypes['greaterThanOrEqual'] = greaterThanOrEqualNode;","const ifNode = new NodeType('if');","ifNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean, gdjs.__particleEmmiter3DExtension.NodeValueType.AnyType, gdjs.__particleEmmiter3DExtension.NodeValueType.AnyType], [gdjs.__particleEmmiter3DExtension.NodeValueType.AnyType], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0] ? inputs[1] : inputs[2];","});","NodeTypes['if'] = ifNode;","const numberNode = new NodeType('number');","numberNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = data.value;","});","NodeTypes['number'] = numberNode;","const vec2Node = new NodeType('vec2');","vec2Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].x = inputs[0];","    outputs[0].y = inputs[1];","});","NodeTypes['vec2'] = vec2Node;","const vec3Node = new NodeType('vec3');","vec3Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].x = inputs[0];","    outputs[0].y = inputs[1];","    outputs[0].z = inputs[2];","});","NodeTypes['vec3'] = vec3Node;","const vec4Node = new NodeType('vec4');","vec4Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].x = inputs[0];","    outputs[0].y = inputs[1];","    outputs[0].z = inputs[2];","    outputs[0].w = inputs[3];","});","NodeTypes['vec4'] = vec4Node;","const splitVec2Node = new NodeType('splitVec2');","splitVec2Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].x;","    outputs[1] = inputs[0].y;","});","NodeTypes['splitVec2'] = splitVec2Node;","const splitVec3Node = new NodeType('splitVec3');","splitVec3Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].x;","    outputs[1] = inputs[0].y;","    outputs[2] = inputs[0].z;","});","NodeTypes['splitVec3'] = splitVec3Node;","const splitVec4Node = new NodeType('splitVec4');","splitVec4Node.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0].x;","    outputs[1] = inputs[0].y;","    outputs[2] = inputs[0].z;","    outputs[3] = inputs[0].w;","});","NodeTypes['splitVec4'] = splitVec4Node;","const boolNode = new NodeType('bool');","boolNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = data.value;","});","NodeTypes['bool'] = boolNode;","const particlePropertyNode = new NodeType('particleProperty');","particlePropertyNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType], [gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType], (context, data, inputs, outputs) => {","    if (inputs[0] !== undefined) {","        if (typeof inputs[0] === 'object') {","            context.particle[data.property].copy(inputs[0]);","        }","        else {","            context.particle[data.property] = inputs[0];","        }","    }","    if (context.particle[data.property] !== undefined) {","        if (typeof outputs[0] === 'object') {","            outputs[0].copy(context.particle[data.property]);","        }","        else {","            outputs[0] = context.particle[data.property];","        }","    }","});","NodeTypes['particleProperty'] = particlePropertyNode;","const emitNode = new NodeType('emit');","emitNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.EventStream], [], (context, data, inputs, outputs) => {","    const arr = inputs[0];","    for (let i = 0; i < arr.length; i++) {","        context.signal(i, arr[i]);","    }","});","NodeTypes['emit'] = emitNode;","const graphPropertyNode = new NodeType('graphProperty');","graphPropertyNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType], [gdjs.__particleEmmiter3DExtension.NodeValueType.NullableAnyType], (context, data, inputs, outputs) => {","    if (inputs[0] !== undefined) {","        if (typeof inputs[0] === 'object') {","            context.graph[data.property].copy(inputs[0]);","        }","        else {","            context.graph[data.property] = inputs[0];","        }","    }","    if (context.graph[data.property] !== undefined) {","        if (typeof outputs[0] === 'object') {","            outputs[0].copy(context.graph[data.property]);","        }","        else {","            outputs[0] = context.graph[data.property];","        }","    }","});","NodeTypes['graphProperty'] = graphPropertyNode;","const startEventNode = new NodeType('startEvent');","startEventNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.EventStream], (context, data, inputs, outputs) => {","    outputs[0] = [{ type: 'start' }];","});","NodeTypes['startEvent'] = startEventNode;","const repeaterNode = new NodeType('repeater');","repeaterNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.EventStream, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.EventStream], (context, data, inputs, outputs) => {","    const arr = inputs[0];","    const count = inputs[1];","    const result = [];","    for (let j = 0; j < arr.length; j++) {","        for (let i = 0; i < count; i++) {","            result.push(arr[j]);","        }","    }","    outputs[0] = result;","});","NodeTypes['repeater'] = repeaterNode;","const timeNode = new NodeType('time');","timeNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = context.emissionState.time;","});","NodeTypes['time'] = timeNode;","const deltaNode = new NodeType('delta');","deltaNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = context.delta;","});","NodeTypes['delta'] = deltaNode;","const outputNode = new NodeType('output');","outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","outputNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], [gdjs.__particleEmmiter3DExtension.NodeValueType.Boolean], (context, data, inputs, outputs) => {","    outputs[0] = inputs[0];","});","NodeTypes['output'] = outputNode;","const lerpNode = new NodeType('lerp');","lerpNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] =","        inputs[0] * (1 - inputs[2]) + inputs[1] * inputs[2];","});","lerpNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);","});","lerpNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);","});","lerpNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    outputs[0].lerpVectors(inputs[0], inputs[1], inputs[2]);","});","NodeTypes['lerp'] = lerpNode;","const normalD = (x) => {","    return (1 / Math.sqrt(2 * Math.PI)) * Math.exp(x * x * -0.5);","};","const normalDistributionNode = new NodeType('normDistrib');","normalDistributionNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = normalD(inputs[0]);","});","NodeTypes['normDistrib'] = normalDistributionNode;","const normcdfNode = new NodeType('normcdf');","normcdfNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    let x = inputs[0];","    const a1 = 0.254829592;","    const a2 = -0.284496736;","    const a3 = 1.421413741;","    const a4 = -1.453152027;","    const a5 = 1.061405429;","    const p = 0.3275911;","    let sign = 1;","    if (x < 0)","        sign = -1;","    x = Math.abs(x) / Math.sqrt(2.0);","    const t = 1.0 / (1.0 + p * x);","    const y = 1.0 - ((((a5 * t + a4) * t + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);","    outputs[0] = 0.5 * (1.0 + sign * y);","});","NodeTypes['normcdf'] = normcdfNode;","const normcdfInvNode = new NodeType('normcdfInv');","const rationalApproximation = (t) => {","    const c = [2.515517, 0.802853, 0.010328];","    const d = [1.432788, 0.189269, 0.001308];","    return t - ((c[2] * t + c[1]) * t + c[0]) / (((d[2] * t + d[1]) * t + d[0]) * t + 1.0);","};","const normcdfInv = (p) => {","    if (p < 0.5) {","        return -rationalApproximation(Math.sqrt(-2.0 * Math.log(p)));","    }","    else {","        return rationalApproximation(Math.sqrt(-2.0 * Math.log(1 - p)));","    }","};","normcdfInvNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = normcdfInv(inputs[0]);","});","NodeTypes['normcdfInv'] = normcdfInvNode;","const clampNode = new NodeType('clamp');","clampNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.max(Math.min(inputs[0], inputs[2]), inputs[1]);","});","NodeTypes['clamp'] = clampNode;","const smoothstepNode = new NodeType('smoothstep');","smoothstepNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    const x = Math.max(Math.min(inputs[0], inputs[2]), inputs[1]);","    outputs[0] = x * x * (3 - 2 * x);","});","NodeTypes['smoothstep'] = smoothstepNode;","const randomNode = new NodeType('random');","randomNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Number, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [gdjs.__particleEmmiter3DExtension.NodeValueType.Number], (context, data, inputs, outputs) => {","    outputs[0] = Math.random() * (inputs[1] - inputs[0]) + inputs[0];","});","randomNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    let random = Math.random();","    outputs[0].lerpVectors(inputs[0], inputs[1], random);","});","randomNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    let random = Math.random();","    outputs[0].lerpVectors(inputs[0], inputs[1], random);","});","randomNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    let random = Math.random();","    outputs[0].lerpVectors(inputs[0], inputs[1], random);","});","NodeTypes['random'] = randomNode;","const vrandNode = new NodeType('vrand');","vrandNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec2], (context, data, inputs, outputs) => {","    let x = normcdfInv(Math.random());","    let y = normcdfInv(Math.random());","    const mag = Math.sqrt(x * x + y * y);","    outputs[0].set(x / mag, y / mag);","});","vrandNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3], (context, data, inputs, outputs) => {","    let x = normcdfInv(Math.random());","    let y = normcdfInv(Math.random());","    let z = normcdfInv(Math.random());","    const mag = Math.sqrt(x * x + y * y + z * z);","    outputs[0].set(x / mag, y / mag, z / mag);","});","vrandNode.addSignature([], [gdjs.__particleEmmiter3DExtension.NodeValueType.Vec4], (context, data, inputs, outputs) => {","    let x = normcdfInv(Math.random());","    let y = normcdfInv(Math.random());","    let z = normcdfInv(Math.random());","    let w = normcdfInv(Math.random());","    const mag = Math.sqrt(x * x + y * y + z * z + w * w);","    outputs[0].set(x / mag, y / mag, z / mag, w / mag);","});","NodeTypes['vrand'] = vrandNode;","const bsdfNode = new NodeType('bsdf');","bsdfNode.addSignature([gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Vec3, gdjs.__particleEmmiter3DExtension.NodeValueType.Number], [], (context, data, inputs, outputs) => { });","NodeTypes['bsdf'] = bsdfNode;","const OutputNodeTypeNames = new Set(['output', 'particleProperty', 'graphProperty', 'emit']);","","class NodeGraph {","    constructor(name) {","        this.inputNodes = [];","        this.outputNodes = [];","        this.allNodes = new Map();","        this.wires = [];","        this.compiled = false;","        this.nodesInOrder = [];","        this.version = '1.0';","        this.uuid = THREE.MathUtils.generateUUID();","        this.name = name;","        this.revision = 0;","    }","    addWire(wire) {","        this.wires.push(wire);","        this.revision++;","    }","    addNode(node) {","        this.allNodes.set(node.id, node);","        if (node.type === NodeTypes['input']) {","            this.inputNodes.push(node);","        }","        else if (OutputNodeTypeNames.has(node.type.name)) {","            this.outputNodes.push(node);","        }","        this.revision++;","    }","    getNode(id) {","        return this.allNodes.get(id);","    }","    deleteNode(node) {","        this.allNodes.delete(node.id);","        this.revision++;","    }","    deleteWire(wire) {","        let index = wire.input.outputs[wire.inputIndex].indexOf(wire);","        if (index !== -1) {","            wire.input.outputs[wire.inputIndex].splice(index, 1);","        }","        wire.output.inputs[wire.outputIndex] = undefined;","        index = this.wires.indexOf(wire);","        if (index != -1) {","            this.wires[index] = this.wires[this.wires.length - 1];","            this.wires.pop();","        }","        this.revision++;","    }","    toJSON() {","        throw new Error('not implemented');","    }","    clone() {","        throw new Error('not implemented');","    }","}","","new THREE.Vector3(0, 0, 1);","const tempQ = new THREE.Quaternion();","const tempV = new THREE.Vector3();","const tempV2 = new THREE.Vector3();","const PREWARM_FPS = 60;","const DEFAULT_GEOMETRY = new THREE.PlaneGeometry(1, 1, 1, 1);","class NodeVFX {","    set time(time) {","        this.emissionState.time = time;","    }","    get time() {","        return this.emissionState.time;","    }","    get layers() {","        return this.rendererSettings.layers;","    }","    get texture() {","        return this.rendererSettings.material.map;","    }","    set texture(texture) {","        this.rendererSettings.material.map = texture;","        this.neededToUpdateRender = true;","    }","    get material() {","        return this.rendererSettings.material;","    }","    set material(material) {","        this.rendererSettings.material = material;","        this.neededToUpdateRender = true;","    }","    get instancingGeometry() {","        return this.rendererSettings.instancingGeometry;","    }","    set instancingGeometry(geometry) {","        this.restart();","        this.particles.length = 0;","        this.rendererSettings.instancingGeometry = geometry;","        this.neededToUpdateRender = true;","    }","    get renderMode() {","        return this.rendererSettings.renderMode;","    }","    set renderMode(renderMode) {","        if ((this.rendererSettings.renderMode != gdjs.__particleEmmiter3DExtension.RenderMode.Trail && renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) ||","            (this.rendererSettings.renderMode == gdjs.__particleEmmiter3DExtension.RenderMode.Trail && renderMode !== gdjs.__particleEmmiter3DExtension.RenderMode.Trail)) {","            this.restart();","            this.particles.length = 0;","        }","        if (this.rendererSettings.renderMode !== renderMode) {","            switch (renderMode) {","                case gdjs.__particleEmmiter3DExtension.RenderMode.Trail:","                    this.rendererEmitterSettings = {","                        startLength: 30,","                        followLocalOrigin: false,","                    };","                    break;","                case gdjs.__particleEmmiter3DExtension.RenderMode.Mesh:","                    this.rendererEmitterSettings = {","                        geometry: new THREE.PlaneGeometry(1, 1),","                    };","                    break;","                case gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard:","                case gdjs.__particleEmmiter3DExtension.RenderMode.VerticalBillBoard:","                case gdjs.__particleEmmiter3DExtension.RenderMode.HorizontalBillBoard:","                case gdjs.__particleEmmiter3DExtension.RenderMode.StretchedBillBoard:","                    this.rendererEmitterSettings = {};","                    break;","            }","        }","        this.rendererSettings.renderMode = renderMode;","        this.neededToUpdateRender = true;","    }","    get renderOrder() {","        return this.rendererSettings.renderOrder;","    }","    set renderOrder(renderOrder) {","        this.rendererSettings.renderOrder = renderOrder;","        this.neededToUpdateRender = true;","    }","    get blending() {","        return this.rendererSettings.material.blending;","    }","    set blending(blending) {","        this.rendererSettings.material.blending = blending;","        this.neededToUpdateRender = true;","    }","    constructor(parameters) {","        var _a, _b, _c, _d, _e, _f, _g;","        this.temp = new THREE.Vector3();","        this.travelDistance = 0;","        this.normalMatrix = new THREE.Matrix3();","        this.speedFactor = 0;","        this.autoDestroy = parameters.autoDestroy === undefined ? false : parameters.autoDestroy;","        this.duration = (_a = parameters.duration) !== null && _a !== void 0 ? _a : 1;","        this.looping = parameters.looping === undefined ? true : parameters.looping;","        this.prewarm = parameters.prewarm === undefined ? false : parameters.prewarm;","        this.worldSpace = (_b = parameters.worldSpace) !== null && _b !== void 0 ? _b : false;","        this.rendererEmitterSettings = (_c = parameters.rendererEmitterSettings) !== null && _c !== void 0 ? _c : {};","        this.emissionGraph = parameters.emissionGraph;","        this.updateGraph = parameters.updateGraph;","        this.interpreter = new Interpreter();","        this.rendererSettings = {","            instancingGeometry: (_d = parameters.instancingGeometry) !== null && _d !== void 0 ? _d : DEFAULT_GEOMETRY,","            renderMode: (_e = parameters.renderMode) !== null && _e !== void 0 ? _e : gdjs.__particleEmmiter3DExtension.RenderMode.BillBoard,","            renderOrder: (_f = parameters.renderOrder) !== null && _f !== void 0 ? _f : 0,","            material: parameters.material,","            layers: (_g = parameters.layers) !== null && _g !== void 0 ? _g : new THREE.Layers(),","            uTileCount: 1,","            vTileCount: 1,","        };","        this.neededToUpdateRender = true;","        this.particles = new Array();","        this.emitter = new ParticleEmitter(this);","        this.paused = false;","        this.particleNum = 0;","        this.emissionState = {","            time: 0,","        };","        this.emitEnded = false;","        this.markForDestroy = false;","        this.prewarmed = false;","    }","    pause() {","        this.paused = true;","    }","    play() {","        this.paused = false;","    }","    spawn(emissionState, matrix) {","        tempQ.setFromRotationMatrix(matrix);","        const translation = tempV;","        const quaternion = tempQ;","        const scale = tempV2;","        matrix.decompose(translation, quaternion, scale);","        this.particleNum++;","        while (this.particles.length < this.particleNum) {","            this.particles.push(new NodeParticle());","        }","        const particle = this.particles[this.particleNum - 1];","        particle.reset();","        this.interpreter.run(this.updateGraph, { particle: particle, emissionState: this.emissionState });","        if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail &&","            this.rendererEmitterSettings.followLocalOrigin) {","            const trail = particle;","            trail.localPosition = new THREE.Vector3().copy(trail.position);","        }","        if (this.worldSpace) {","            particle.position.applyMatrix4(matrix);","            particle.size *= (Math.abs(scale.x) + Math.abs(scale.y) + Math.abs(scale.z)) / 3;","            particle.velocity.multiply(scale).applyMatrix3(this.normalMatrix);","            if (particle.rotation && particle.rotation instanceof THREE.Quaternion) {","                particle.rotation.multiplyQuaternions(tempQ, particle.rotation);","            }","        }","    }","    endEmit() {","        this.emitEnded = true;","        if (this.autoDestroy) {","            this.markForDestroy = true;","        }","    }","    dispose() {","        if (this._renderer)","            this._renderer.deleteSystem(this);","        this.emitter.dispose();","        if (this.emitter.parent)","            this.emitter.parent.remove(this.emitter);","    }","    restart() {","        this.paused = false;","        this.particleNum = 0;","        this.emissionState.time = 0;","        this.emitEnded = false;","        this.markForDestroy = false;","        this.prewarmed = false;","    }","    update(delta) {","        if (this.paused)","            return;","        let currentParent = this.emitter;","        while (currentParent.parent) {","            currentParent = currentParent.parent;","        }","        if (currentParent.type !== 'Scene') {","            this.dispose();","            return;","        }","        if (this.emitEnded && this.particleNum === 0) {","            if (this.markForDestroy && this.emitter.parent)","                this.dispose();","            return;","        }","        if (this.looping && this.prewarm && !this.prewarmed) {","            this.prewarmed = true;","            for (let i = 0; i < this.duration * PREWARM_FPS; i++) {","                this.update(1.0 / PREWARM_FPS);","            }","        }","        if (delta > 0.1) {","            delta = 0.1;","        }","        if (this.neededToUpdateRender) {","            if (this._renderer)","                this._renderer.updateSystem(this);","            this.neededToUpdateRender = false;","        }","        this.emit(delta, this.emissionState, this.emitter.matrixWorld);","        const context = { particle: undefined, emissionState: this.emissionState, delta };","        for (let i = 0; i < this.particleNum; i++) {","            context.particle = this.particles[i];","            this.interpreter.run(this.updateGraph, context);","        }","        for (let i = 0; i < this.particleNum; i++) {","            if (this.rendererEmitterSettings.followLocalOrigin &&","                this.particles[i].localPosition) {","                this.particles[i].position.copy(this.particles[i].localPosition);","                if (this.particles[i].parentMatrix) {","                    this.particles[i].position.applyMatrix4(this.particles[i].parentMatrix);","                }","                else {","                    this.particles[i].position.applyMatrix4(this.emitter.matrixWorld);","                }","            }","            else {","                this.particles[i].position.addScaledVector(this.particles[i].velocity, delta);","            }","            this.particles[i].age += delta;","        }","        if (this.rendererSettings.renderMode === gdjs.__particleEmmiter3DExtension.RenderMode.Trail) {","            for (let i = 0; i < this.particleNum; i++) {","                const particle = this.particles[i];","                particle.update();","            }","        }","        for (let i = 0; i < this.particleNum; i++) {","            const particle = this.particles[i];","            if (particle.died && (!(particle instanceof TrailParticle) || particle.previous.length === 0)) {","                this.particles[i] = this.particles[this.particleNum - 1];","                this.particles[this.particleNum - 1] = particle;","                this.particleNum--;","                i--;","            }","        }","    }","    emit(delta, emissionState, emitterMatrix) {","        if (emissionState.time > this.duration) {","            if (this.looping) {","                emissionState.time -= this.duration;","            }","            else {","                if (!this.emitEnded) {","                    this.endEmit();","                }","            }","        }","        this.normalMatrix.getNormalMatrix(emitterMatrix);","        const context = {","            signal: () => {","                this.spawn(emissionState, emitterMatrix);","            },","            emissionState,","            delta,","        };","        if (!this.emitEnded) {","            this.interpreter.run(this.emissionGraph, context);","        }","        if (this.previousWorldPos === undefined)","            this.previousWorldPos = new THREE.Vector3();","        this.emitter.getWorldPosition(this.previousWorldPos);","        emissionState.time += delta;","    }","    toJSON(meta, options = {}) {","        return {};","    }","    getRendererSettings() {","        return this.rendererSettings;","    }","    clone() {","        return this;","    }","}","","gdjs.__particleEmmiter3DExtension.ApplyCollision = ApplyCollision;","gdjs.__particleEmmiter3DExtension.ApplyForce = ApplyForce;","gdjs.__particleEmmiter3DExtension.ApplySequences = ApplySequences;","gdjs.__particleEmmiter3DExtension.AxisAngleGenerator = AxisAngleGenerator;","gdjs.__particleEmmiter3DExtension.BatchedParticleRenderer = BatchedParticleRenderer;","gdjs.__particleEmmiter3DExtension.BatchedRenderer = BatchedRenderer;","gdjs.__particleEmmiter3DExtension.BehaviorFromJSON = BehaviorFromJSON;","gdjs.__particleEmmiter3DExtension.BehaviorTypes = BehaviorTypes;","gdjs.__particleEmmiter3DExtension.Bezier = Bezier;","gdjs.__particleEmmiter3DExtension.ChangeEmitDirection = ChangeEmitDirection;","gdjs.__particleEmmiter3DExtension.ColorGeneratorFromJSON = ColorGeneratorFromJSON;","gdjs.__particleEmmiter3DExtension.ColorOverLife = ColorOverLife;","gdjs.__particleEmmiter3DExtension.ColorRange = ColorRange;","gdjs.__particleEmmiter3DExtension.ConeEmitter = ConeEmitter;","gdjs.__particleEmmiter3DExtension.ConstantColor = ConstantColor;","gdjs.__particleEmmiter3DExtension.ConstantValue = ConstantValue;","gdjs.__particleEmmiter3DExtension.DonutEmitter = DonutEmitter;","gdjs.__particleEmmiter3DExtension.EmitSubParticleSystem = EmitSubParticleSystem;","gdjs.__particleEmmiter3DExtension.EmitterFromJSON = EmitterFromJSON;","gdjs.__particleEmmiter3DExtension.EmitterShapes = EmitterShapes;","gdjs.__particleEmmiter3DExtension.EulerGenerator = EulerGenerator;","gdjs.__particleEmmiter3DExtension.ForceOverLife = ForceOverLife;","gdjs.__particleEmmiter3DExtension.FrameOverLife = FrameOverLife;","gdjs.__particleEmmiter3DExtension.GeneratorFromJSON = GeneratorFromJSON;","gdjs.__particleEmmiter3DExtension.Gradient = Gradient;","gdjs.__particleEmmiter3DExtension.GraphNodeType = GraphNodeType;","gdjs.__particleEmmiter3DExtension.GravityForce = GravityForce;","gdjs.__particleEmmiter3DExtension.GridEmitter = GridEmitter;","gdjs.__particleEmmiter3DExtension.Interpreter = Interpreter;","gdjs.__particleEmmiter3DExtension.IntervalValue = IntervalValue;","gdjs.__particleEmmiter3DExtension.MeshSurfaceEmitter = MeshSurfaceEmitter;","gdjs.__particleEmmiter3DExtension.Node = Node;","gdjs.__particleEmmiter3DExtension.NodeGraph = NodeGraph;","gdjs.__particleEmmiter3DExtension.NodeType = NodeType;","gdjs.__particleEmmiter3DExtension.NodeTypes = NodeTypes;","gdjs.__particleEmmiter3DExtension.Noise = Noise;","gdjs.__particleEmmiter3DExtension.OrbitOverLife = OrbitOverLife;","gdjs.__particleEmmiter3DExtension.ParticleEmitter = ParticleEmitter;","gdjs.__particleEmmiter3DExtension.ParticleSystem = ParticleSystem;","gdjs.__particleEmmiter3DExtension.PiecewiseBezier = PiecewiseBezier;","gdjs.__particleEmmiter3DExtension.PiecewiseFunction = PiecewiseFunction;","gdjs.__particleEmmiter3DExtension.Plugins = Plugins;","gdjs.__particleEmmiter3DExtension.PointEmitter = PointEmitter;","gdjs.__particleEmmiter3DExtension.QuarksLoader = QuarksLoader;","gdjs.__particleEmmiter3DExtension.RandomColor = RandomColor;","gdjs.__particleEmmiter3DExtension.RandomColorBetweenGradient = RandomColorBetweenGradient;","gdjs.__particleEmmiter3DExtension.RandomQuatGenerator = RandomQuatGenerator;","gdjs.__particleEmmiter3DExtension.RecordState = RecordState;","gdjs.__particleEmmiter3DExtension.Rotation3DOverLife = Rotation3DOverLife;","gdjs.__particleEmmiter3DExtension.RotationGeneratorFromJSON = RotationGeneratorFromJSON;","gdjs.__particleEmmiter3DExtension.RotationOverLife = RotationOverLife;","gdjs.__particleEmmiter3DExtension.SequencerFromJSON = SequencerFromJSON;","gdjs.__particleEmmiter3DExtension.SizeOverLife = SizeOverLife;","gdjs.__particleEmmiter3DExtension.SpeedOverLife = SpeedOverLife;","gdjs.__particleEmmiter3DExtension.SphereEmitter = SphereEmitter;","gdjs.__particleEmmiter3DExtension.SpriteBatch = SpriteBatch;","gdjs.__particleEmmiter3DExtension.SpriteParticle = SpriteParticle;","gdjs.__particleEmmiter3DExtension.TextureSequencer = TextureSequencer;","gdjs.__particleEmmiter3DExtension.TrailBatch = TrailBatch;","gdjs.__particleEmmiter3DExtension.TrailParticle = TrailParticle;","gdjs.__particleEmmiter3DExtension.TurbulenceField = TurbulenceField;","gdjs.__particleEmmiter3DExtension.VFXBatch = VFXBatch;","gdjs.__particleEmmiter3DExtension.ValueGeneratorFromJSON = ValueGeneratorFromJSON;","gdjs.__particleEmmiter3DExtension.WidthOverLength = WidthOverLength;","gdjs.__particleEmmiter3DExtension.Wire = Wire;","gdjs.__particleEmmiter3DExtension.genDefaultForNodeValueType = genDefaultForNodeValueType;","gdjs.__particleEmmiter3DExtension.getPhysicsResolver = getPhysicsResolver;","gdjs.__particleEmmiter3DExtension.loadPlugin = loadPlugin;","gdjs.__particleEmmiter3DExtension.setPhysicsResolver = setPhysicsResolver;","gdjs.__particleEmmiter3DExtension.unloadPlugin = unloadPlugin;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onScenePreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","// See doStepPostEvents\r","runtimeScene.__particleEmmiter3DExtension = runtimeScene.__particleEmmiter3DExtension || {};\r","runtimeScene.__particleEmmiter3DExtension.emittersStepped = 0;"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[],"eventsBasedObjects":[{"defaultName":"ParticleEmitter","description":"Display a large number of particles to create visual effects.","fullName":"3D particle emitter","is3D":true,"name":"ParticleEmitter3D","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::DefineHelperClasses"},"parameters":["",""]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const BatchedRenderer = gdjs.__particleEmmiter3DExtension.BatchedRenderer;","const ParticleSystem = gdjs.__particleEmmiter3DExtension.ParticleSystem;","const TextureLoader = gdjs.__particleEmmiter3DExtension.TextureLoader;","const IntervalValue = gdjs.__particleEmmiter3DExtension.IntervalValue;","const ConstantValue = gdjs.__particleEmmiter3DExtension.ConstantValue;","const ConstantColor = gdjs.__particleEmmiter3DExtension.ConstantColor;","const ColorOverLife = gdjs.__particleEmmiter3DExtension.ColorOverLife;","const SizeOverLife = gdjs.__particleEmmiter3DExtension.SizeOverLife;","const ApplyForce = gdjs.__particleEmmiter3DExtension.ApplyForce;","const Gradient = gdjs.__particleEmmiter3DExtension.Gradient;","const PiecewiseBezier = gdjs.__particleEmmiter3DExtension.PiecewiseBezier;","const Bezier = gdjs.__particleEmmiter3DExtension.Bezier;","const PointEmitter = gdjs.__particleEmmiter3DExtension.PointEmitter;","const ConeEmitter = gdjs.__particleEmmiter3DExtension.ConeEmitter;","const RenderMode = gdjs.__particleEmmiter3DExtension.RenderMode;","","const { ParticleEmitterAdapter, ParticleEmitter3DRenderer } = gdjs.__particleEmmiter3DExtension;","","/** @type {gdjs.CustomRuntimeObject} */","const object = objects[0];","","// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.","const gameScene = object.getRuntimeScene();","","/** @type {SpriteObjectDataType} */","const particleSpriteData = object._instanceContainer._objects.get(\"Particle\");","const resourceName = particleSpriteData.animations[0].directions[0].sprites[0].image;","const texture = object","    .getInstanceContainer()","    .getGame()","    .getImageManager().getThreeTexture(resourceName);","","// Set the blending here because changes are not applied after the emitter creation.","const blendingString = object._getBlending();","const blending =","    blendingString === \"Additive\" ? THREE.AdditiveBlending :","        blendingString === \"Normal\" ? THREE.NormalBlending :","            blendingString === \"Subtractive\" ? THREE.SubtractiveBlending :","                blendingString === \"Multiply\" ? THREE.MultiplyBlending :","                    blendingString === \"None\" ? THREE.NoBlending :","                        THREE.AdditiveBlending;","","","// Build a configuration with the right kind of objects.","// These values are not important as they are overrided by the object properties values.","const muzzle = {","    duration: 10,","    looping: false,","    startLife: new IntervalValue(1, 2),","    startSpeed: new IntervalValue(100, 200),","    startSize: new IntervalValue(20, 50),","    startColor: new ConstantColor(new THREE.Vector4(1, 1, 1, 1)),","    worldSpace: true,","","    maxParticle: 5,","    emissionOverTime: new ConstantValue(50),","    emissionBursts: [{","        time: 0,","        count: new ConstantValue(1),","        cycle: 1,","        interval: 0.01,","        probability: 1,","    }],","","    shape: new PointEmitter(),","    material: new THREE.MeshBasicMaterial({","        map: texture,","        blending: blending,","        transparent: true,","        side: THREE.DoubleSide","    }),","    startTileIndex: 0,","    uTileCount: 1,","    vTileCount: 1,","    renderOrder: 2,","    renderMode: RenderMode.BillBoard","};","const particleSystem = new ParticleSystem(muzzle);","","const colorOverLife = new ColorOverLife(","    new Gradient(","        [","            [new THREE.Vector3(1, 0, 0), 0],","            [new THREE.Vector3(1, 0, 0), 1],","        ],","        [","            [1, 0],","            [1, 1],","        ]","    ));","particleSystem.addBehavior(colorOverLife);","const sizeOverLife = new SizeOverLife(new PiecewiseBezier([[new Bezier(1, 2 / 3, 1 / 3, 0), 0]]));","particleSystem.addBehavior(sizeOverLife);","const applyForce = new ApplyForce(new THREE.Vector3(0, 0, -1), new ConstantValue(0));","particleSystem.addBehavior(applyForce);","","particleSystem.emitter.name = object.getName() + object.getNameId();","","object.__particleEmitterAdapter = new ParticleEmitterAdapter(particleSystem, colorOverLife, sizeOverLife, applyForce);","object.__particleSystem = particleSystem;","","// This is a hack that may break in future releases.","// Replace the group that would hold children objects by the emmiter.","const layer = gameScene.getLayer(object.getLayer());","const group = object.getRenderer()._threeGroup;","layer.getRenderer().remove3DRendererObject(group);","particleSystem.emitter.position.copy(group.position);","particleSystem.emitter.rotation.order = 'ZYX';","particleSystem.emitter.rotation.copy(group.rotation);","","const particleEmitter3DRenderer = new ParticleEmitter3DRenderer(object, object._instanceContainer, object.getInstanceContainer());","object._renderer = particleEmitter3DRenderer;","particleEmitter3DRenderer._threeGroup = particleSystem.emitter;","layer.getRenderer().add3DRendererObject(particleSystem.emitter);","","particleSystem.emitter.updateMatrixWorld(true);","","","// See doStepPostEvents","gameScene.__particleEmmiter3DExtension = gameScene.__particleEmmiter3DExtension || {};","gameScene.__particleEmmiter3DExtension.emittersCount = gameScene.__particleEmmiter3DExtension.emittersCount || 0;","gameScene.__particleEmmiter3DExtension.emittersCount++;","",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::UpdateFromProperties"},"parameters":["Object",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetRotationCenter"},"parameters":["Object","0","0","0"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onDestroy","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.CustomRuntimeObject} */","const object = objects[0];","// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.","const gameScene = object.getRuntimeScene();","","object.__particleSystem.dispose();","","// See doStepPostEvents","gameScene.__particleEmmiter3DExtension.emittersCount--;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onHotReloading","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::UpdateFromProperties"},"parameters":["Object",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Update from properties.","fullName":"Update from properties","functionType":"Action","name":"UpdateFromProperties","private":true,"sentence":"Update from properties of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetZ"},"parameters":["Object","=","Object.Z()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetRotationX"},"parameters":["Object","=","Object.PropertyRotationX()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetRotationY"},"parameters":["Object","=","Object.PropertyRotationY()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartColor"},"parameters":["Object","=","Object.StartColor()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetEndColor"},"parameters":["Object","=","Object.EndColor()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartOpacity"},"parameters":["Object","=","Object.StartOpacity()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetEndOpacity"},"parameters":["Object","=","Object.EndOpacity()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetFlow"},"parameters":["Object","=","Object.Flow()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartSizeMin"},"parameters":["Object","=","Object.StartSizeMin()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartSizeMax"},"parameters":["Object","=","Object.StartSizeMax()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetEndScale"},"parameters":["Object","=","Object.EndScale()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartSpeedMin"},"parameters":["Object","=","Object.StartSpeedMin()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetStartSpeedMax"},"parameters":["Object","=","Object.StartSpeedMax()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetLifespanMin"},"parameters":["Object","=","Object.LifespanMin()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetLifespanMax"},"parameters":["Object","=","Object.LifespanMax()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetDuration"},"parameters":["Object","=","Object.Duration()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetSpayConeAngle"},"parameters":["Object","=","Object.SpayConeAngle()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetGravity"},"parameters":["Object","=","Object.Gravity()",""]},{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetGravityTop"},"parameters":["Object","=","Object.GravityTop()",""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"},"parameters":["Object"]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetAreParticlesRelative"},"parameters":["Object","no",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"},"parameters":["Object"]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetAreParticlesRelative"},"parameters":["Object","yes",""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"TODO: Blending can't be changed."},{"disabled":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetBlending"},"parameters":["Object","=","Object.Blending()",""]}]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPostEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::HasEnded"},"parameters":["Object",""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::Delete"},"parameters":["Object",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ParticleEmitter3D::ParticleEmitter3D::HasEnded"},"parameters":["Object",""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::RegisterInLayer"},"parameters":["Object",""]}],"events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.CustomRuntimeObject3D} */","const object = objects[0];","// Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.","const gameScene = object.getRuntimeScene();","","// Update batch system after having moved every emitter.","// See onScenePreEvents","gameScene.__particleEmmiter3DExtension.emittersStepped++;","if (gameScene.__particleEmmiter3DExtension.emittersStepped === gameScene.__particleEmmiter3DExtension.emittersCount) {","    gameScene.__particleEmmiter3DExtension.layerNames = gameScene.__particleEmmiter3DExtension.layerNames || [];","    const layerNames = gameScene.__particleEmmiter3DExtension.layerNames;","    gameScene.getAllLayerNames(layerNames);","    for (const layerName of layerNames) {","        const layer = gameScene.getLayer(layerName);","        if (layer.__particleEmmiter3DExtension) {","            layer.__particleEmmiter3DExtension.batchSystem.update(object.getElapsedTime() / 1000);","        }","    }","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"Register in layer","functionType":"Action","name":"RegisterInLayer","private":true,"sentence":"Register _PARAM0_ in layer","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.CustomRuntimeObject} */","const object = objects[0];","","// TODO Handle layer changes?","if (object.__emitterLayerName === undefined) {","    // Here runtimeScene is the gdjs.CustomRuntimeObjectInstanceContainer inside the custom object.","    const gameScene = object.getRuntimeScene();","","    const layer = gameScene.getLayer(object.getLayer());","    layer.__particleEmmiter3DExtension = layer.__particleEmmiter3DExtension || {};","    if (!layer.__particleEmmiter3DExtension.batchSystem) {","        const batchSystem = new gdjs.__particleEmmiter3DExtension.BatchedRenderer();","        const threeScene = layer.getRenderer().getThreeScene();","        if (threeScene) {","            threeScene.add(batchSystem);","        }","        layer.__particleEmmiter3DExtension.batchSystem = batchSystem;","    }","    layer.__particleEmmiter3DExtension.batchSystem.addSystem(object.__particleSystem);","    object.__emitterLayerName = layer.getName();","}"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Delete itself","fullName":"Delete itself","functionType":"Action","name":"Delete","private":true,"sentence":"Delete _PARAM0_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","","object.deleteFromScene(object.getParent());",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Check that emission has ended and no particle is alive anymore.","fullName":"Emission has ended","functionType":"Condition","name":"HasEnded","sentence":"Emission from _PARAM0_ has ended","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","\r","eventsFunctionContext.returnValue =\r","       object._getShouldAutodestruct()\r","    && object.__particleSystem.emitEnded\r","    && object.__particleSystem.particleNum === 0;\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Restart particule emission from the beginning.","fullName":"Restart","functionType":"Action","name":"Restart","sentence":"Restart particule emission from _PARAM0_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {gdjs.CustomRuntimeObject} */\r","const object = objects[0];\r","\r","object.__particleSystem.restart();\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the Z position of the emitter.","fullName":"Z elevaltion (deprecated)","functionType":"ExpressionAndCondition","group":"Position","name":"Z","private":true,"sentence":"the Z position","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyZ()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Z","name":"SetZ","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyZ"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the rotation on X axis of the emitter.","fullName":"Rotation on X axis (deprecated)","functionType":"ExpressionAndCondition","group":"Angle","name":"RotationX","private":true,"sentence":"the rotation on X axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyRotationX()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationX","name":"SetRotationX","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyRotationX"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","\r","object.__particleSystem.emitter.rotation.x = eventsFunctionContext.getArgument(\"Value\") * Math.PI / 180;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the rotation on Y axis of the emitter.","fullName":"Rotation on Y axis (deprecated)","functionType":"ExpressionAndCondition","group":"Angle","name":"RotationY","private":true,"sentence":"the rotation on Y axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyRotationY()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationY","name":"SetRotationY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyRotationY"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","\r","object.__particleSystem.emitter.rotation.y = (90 + eventsFunctionContext.getArgument(\"Value\")) * Math.PI / 180;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the start color of the object.","fullName":"Start color","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"StartColor","sentence":"the start color","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.PropertyStartColor()"]}]}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartColor","name":"SetStartColor","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartColor"},"parameters":["Object","=","GetArgumentAsString(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startColor = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartColor(startColor);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the end color of the object.","fullName":"End color","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"EndColor","sentence":"the end color","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.PropertyEndColor()"]}]}],"expressionType":{"type":"color"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"EndColor","name":"SetEndColor","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndColor"},"parameters":["Object","=","GetArgumentAsString(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const endColor = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setEndColor(endColor);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the start opacity of the object.","fullName":"Start opacity","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"StartOpacity","sentence":"the start opacity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartOpacity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartOpacity","name":"SetStartOpacity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartOpacity"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startOpacity = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartOpacity(startOpacity);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the end opacity of the object.","fullName":"End opacity","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"EndOpacity","sentence":"the end opacity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyEndOpacity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"EndOpacity","name":"SetEndOpacity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndOpacity"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const endOpacity = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setEndOpacity(endOpacity);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the flow of particles of the object  (particles per second).","fullName":"Flow of particles","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"Flow","sentence":"the flow of particles","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyFlow()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Flow","name":"SetFlow","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyFlow"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const flow = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setFlow(flow);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the start min size of the object.","fullName":"Start min size","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"StartSizeMin","sentence":"the start min size","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartSizeMin()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartSizeMin","name":"SetStartSizeMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSizeMin"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startMinSize = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartMinSize(startMinSize);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the start max size of the object.","fullName":"Start max size","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"StartSizeMax","sentence":"the start max size","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartSizeMax()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartSizeMax","name":"SetStartSizeMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSizeMax"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startMaxSize = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartMaxSize(startMaxSize);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the end scale of the object.","fullName":"End scale","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"EndScale","sentence":"the end scale","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyEndScale()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"EndScale","name":"SetEndScale","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyEndScale"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const endScale = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setEndScale(endScale);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the min start speed of the object.","fullName":"Min start speed","functionType":"ExpressionAndCondition","group":"3D particle emitter speed configuration","name":"StartSpeedMin","sentence":"the min start speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartSpeedMin()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartSpeedMin","name":"SetStartSpeedMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSpeedMin"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startSpeedMin = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartSpeedMin(startSpeedMin);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the max start speed of the object.","fullName":"Max start speed","functionType":"ExpressionAndCondition","group":"3D particle emitter speed configuration","name":"StartSpeedMax","sentence":"the max start speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyStartSpeedMax()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"StartSpeedMax","name":"SetStartSpeedMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyStartSpeedMax"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const startSpeedMax = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setStartSpeedMax(startSpeedMax);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the min lifespan of the object.","fullName":"Min lifespan","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"LifespanMin","sentence":"the min lifespan","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyLifespanMin()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"LifespanMin","name":"SetLifespanMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyLifespanMin"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const lifespanMin = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setLifespanMin(lifespanMin);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the max lifespan of the object.","fullName":"Max lifespan","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"LifespanMax","sentence":"the max lifespan","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyLifespanMax()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"LifespanMax","name":"SetLifespanMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyLifespanMax"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const lifespanMax = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setLifespanMax(lifespanMax);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the emission duration of the object.","fullName":"Emission duration","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"Duration","sentence":"the emission duration","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyDuration()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Duration","name":"SetDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyDuration"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const duration = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setDuration(duration);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Check if particles move with the emitter.","fullName":"Particles move with the emitter","functionType":"Condition","group":"3D particle emitter speed configuration","name":"AreParticlesRelative","sentence":"_PARAM0_ particles move with the emitter","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::PropertyAreParticlesRelative"},"parameters":["Object"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Change if particles move with the emitter.","fullName":"Particles move with the emitter","functionType":"Action","group":"3D particle emitter speed configuration","name":"SetAreParticlesRelative","sentence":"_PARAM0_ particles move with the emitter: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyAreParticlesRelative"},"parameters":["Object","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyAreParticlesRelative"},"parameters":["Object","yes"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const areParticlesRelative = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setParticlesRelative(areParticlesRelative);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"},{"defaultValue":"yes","description":"AreParticlesRelative","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"the spay cone angle of the object.","fullName":"Spay cone angle","functionType":"ExpressionAndCondition","group":"3D particle emitter configuration","name":"SpayConeAngle","sentence":"the spay cone angle","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertySpayConeAngle()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"SpayConeAngle","name":"SetSpayConeAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertySpayConeAngle"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const sprayConeAngle = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setSprayConeAngle(sprayConeAngle);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the blending of the object.","fullName":"Blending","functionType":"ExpressionAndCondition","group":"3D particle emitter color configuration","name":"Blending","sentence":"the blending","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.PropertyBlending()"]}]}],"expressionType":{"supplementaryInformation":"[\"Normal\",\"Additive\",\"Substractive\",\"Multiply\",\"None\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Blending","name":"SetBlending","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyBlending"},"parameters":["Object","=","GetArgumentAsString(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const blending = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setBlending(blending);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the gravity top of the object.","fullName":"Gravity top","functionType":"ExpressionAndCondition","group":"3D particle emitter speed configuration","name":"GravityTop","sentence":"the gravity top","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnString"},"parameters":["Object.PropertyGravityTop()"]}]}],"expressionType":{"supplementaryInformation":"[\"Y-\",\"Z+\"]","type":"stringWithSelector"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"GravityTop","name":"SetGravityTop","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyGravityTop"},"parameters":["Object","=","GetArgumentAsString(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const gravityTop = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setGravityTop(gravityTop);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"the gravity of the object.","fullName":"Gravity","functionType":"ExpressionAndCondition","group":"3D particle emitter speed configuration","name":"Gravity","sentence":"the gravity","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.PropertyGravity()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Gravity","name":"SetGravity","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyGravity"},"parameters":["Object","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];\r","const gravity = eventsFunctionContext.getArgument(\"Value\");\r","\r","object.__particleEmitterAdapter.setGravity(gravity);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Check if delete when emission ends.","fullName":"Delete when emission ends","functionType":"Condition","group":"3D particle emitter configuration","name":"ShouldAutodestruct","sentence":"_PARAM0_ delete when emission ends","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::PropertyShouldAutodestruct"},"parameters":["Object"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"}],"objectGroups":[]},{"description":"Change if delete when emission ends.","fullName":"Delete when emission ends","functionType":"Action","group":"3D particle emitter configuration","name":"SetShouldAutodestruct","sentence":"_PARAM0_ delete when emission ends: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyShouldAutodestruct"},"parameters":["Object","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"Value\""]}],"actions":[{"type":{"value":"ParticleEmitter3D::ParticleEmitter3D::SetPropertyShouldAutodestruct"},"parameters":["Object","yes"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"ParticleEmitter3D::ParticleEmitter3D","type":"object"},{"defaultValue":"yes","description":"ShouldAutodestruct","name":"Value","optional":true,"type":"yesorno"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"255;0;0","type":"Color","label":"Start color","description":"","group":"Color","extraInformation":[],"name":"StartColor"},{"value":"255;255;0","type":"Color","label":"End color","description":"","group":"Color","extraInformation":[],"name":"EndColor"},{"value":"255","type":"Number","unit":"Dimensionless","label":"Start opacity","description":"","group":"Color","extraInformation":[],"name":"StartOpacity"},{"value":"0","type":"Number","unit":"Dimensionless","label":"End opacity","description":"","group":"Color","extraInformation":[],"name":"EndOpacity"},{"value":"50","type":"Number","label":"Flow of particles (particles per second)","description":"","group":"","extraInformation":[],"name":"Flow"},{"value":"10","type":"Number","unit":"Pixel","label":"Start min size","description":"","group":"Size","extraInformation":[],"name":"StartSizeMin"},{"value":"20","type":"Number","unit":"Pixel","label":"Start max size","description":"","group":"Size","extraInformation":[],"name":"StartSizeMax"},{"value":"0","type":"Number","unit":"Dimensionless","label":"End scale","description":"","group":"Size","extraInformation":[],"name":"EndScale"},{"value":"100","type":"Number","unit":"PixelSpeed","label":"Start min speed","description":"","group":"Speed","extraInformation":[],"name":"StartSpeedMin"},{"value":"100","type":"Number","unit":"PixelSpeed","label":"Start max speed","description":"","group":"Speed","extraInformation":[],"name":"StartSpeedMax"},{"value":"1","type":"Number","unit":"Second","label":"Min lifespan","description":"","group":"","extraInformation":[],"name":"LifespanMin"},{"value":"2","type":"Number","unit":"Second","label":"Max lifespan","description":"","group":"","extraInformation":[],"name":"LifespanMax"},{"value":"5","type":"Number","unit":"Second","label":"Emission duration","description":"","group":"","extraInformation":[],"name":"Duration"},{"value":"","type":"Boolean","label":"Particles move with the emitter","description":"","group":"Speed","extraInformation":[],"name":"AreParticlesRelative"},{"value":"30","type":"Number","unit":"DegreeAngle","label":"Spay cone angle","description":"","group":"Position","extraInformation":[],"name":"SpayConeAngle"},{"value":"Additive","type":"Choice","label":"Blending","description":"","group":"Color","extraInformation":["Normal","Additive","Subtractive","Multiply","None"],"name":"Blending"},{"value":"Y-","type":"Choice","label":"Gravity top","description":"","group":"Speed","extraInformation":["Y-","Z+"],"name":"GravityTop"},{"value":"0","type":"Number","unit":"PixelAcceleration","label":"Gravity","description":"","group":"Speed","extraInformation":[],"name":"Gravity"},{"value":"true","type":"Boolean","label":"Delete when emission ends","description":"","group":"","extraInformation":[],"name":"ShouldAutodestruct"},{"value":"Center-center","type":"String","label":"","description":"Only used by the scene editor.","group":"","extraInformation":[],"hidden":true,"name":"ParentOrigin"},{"value":"0","type":"Number","unit":"Pixel","label":"Z (elevation)","description":"Deprecated","group":"Position","extraInformation":[],"hidden":true,"name":"Z"},{"value":"0","type":"Number","unit":"DegreeAngle","label":"Rotation on X axis","description":"","group":"Position","extraInformation":[],"hidden":true,"name":"RotationX"},{"value":"0","type":"Number","unit":"DegreeAngle","label":"Rotation on Y axis","description":"","group":"Position","extraInformation":[],"hidden":true,"name":"RotationY"}],"objects":[{"adaptCollisionMaskAutomatically":true,"assetStoreId":"","name":"Particle","type":"Sprite","updateIfNotVisible":false,"variables":[],"effects":[],"behaviors":[],"animations":[{"name":"Image","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[]}]}]}],"objectsFolderStructure":{"folderName":"__ROOT","children":[{"objectName":"Particle"}]}}]},{"author":"@4ian","category":"Movement","extensionNamespace":"","fullName":"Linear Movement","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXJheS1zdGFydC1hcnJvdyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0yMywxMkwxOSwxNlYxM0g2LjgzQzYuNDIsMTQuMTcgNS4zMSwxNSA0LDE1QTMsMyAwIDAsMSAxLDEyQTMsMyAwIDAsMSA0LDlDNS4zMSw5IDYuNDIsOS44MyA2LjgzLDExSDE5VjhMMjMsMTJaIiAvPjwvc3ZnPg==","name":"LinearMovement","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/ray-start-arrow.svg","shortDescription":"Move the object linearly, according to the speed configured on X and Y axis. Useful for simple enemies, bullets or objects following a straight line on the screen.","version":"0.0.2","description":"Move the object linearly, according to the speed configured on X and Y axis. Useful for simple enemies, bullets or objects following a straight line on the screen.","origin":{"identifier":"LinearMovement","name":"gdevelop-extension-store"},"tags":["line","movement","linear"],"authorIds":["wWP8BSlAW0UP4NeaHa2LcmmDzmH2"],"dependencies":[],"eventsFunctions":[],"eventsBasedBehaviors":[{"description":"Move the object linearly, according to the speed configured on X and Y axis. Useful for simple enemies, bullets or objects following a straight line on the screen.","fullName":"Linear movement","name":"LinearMovement","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"AddForceXY"},"parameters":["Object","Object.Behavior::PropertySpeedX()","Object.Behavior::PropertySpeedY()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"LinearMovement::LinearMovement","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","unit":"PixelSpeed","label":"Speed on X axis","description":"","group":"","extraInformation":[],"name":"SpeedX"},{"value":"0","type":"Number","unit":"PixelSpeed","label":"Speed on Y axis","description":"","group":"","extraInformation":[],"name":"SpeedY"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Movement","extensionNamespace":"","fullName":"Curved movement","helpPath":"/extensions/curved-movement/details/","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO30NCgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTo2LDY7fQ0KCS5zdDN7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtZGFzaGFycmF5OjQsNDt9DQoJLnN0NHtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQ0KCS5zdDV7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6My4xMDgxLDMuMTA4MTt9DQoJDQoJCS5zdDZ7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2UtZGFzaGFycmF5OjQsMzt9DQo8L3N0eWxlPg0KPHJlY3QgeD0iMyIgeT0iMjUiIGNsYXNzPSJzdDAiIHdpZHRoPSI0IiBoZWlnaHQ9IjQiLz4NCjxyZWN0IHg9IjI1IiB5PSIzIiBjbGFzcz0ic3QwIiB3aWR0aD0iNCIgaGVpZ2h0PSI0Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjUsNUwyNSw1QzE0LDUsNSwxNCw1LDI1djAiLz4NCjwvc3ZnPg0K","name":"CurvedMovement","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Graphic Design/Graphic Design_bezier_curve.svg","shortDescription":"Move objects on curved paths.","version":"1.1.0","description":["This extension allows to move objects on Bézier curve paths.","- Paths can be built dynamically or from predetermined paths in SVG format.","- A behavior moves objects in a given duration a bit like the Tween extension does.","- Another behavior moves objects using a speed and an acceleration.","- Expressions give access to the path trajectory values for more complex movements.","","This extension can be used to:","- Move enemies that follow a pattern","- Animate decorations","","A collection of [small examples](https://editor.gdevelop.io/?project=example://curved-movement) shows how to use this extension.","","2 examples use it:","- a 3D racing game ([open the project online](https://editor.gdevelop.io/?project=example://3d-racing-game))","- a Zuma-like ([open the project online](https://editor.gdevelop.io/?project=example://smoothy))"],"origin":{"identifier":"CurvedMovement","name":"gdevelop-extension-store"},"tags":["bezier","curve","path","movement","animate","animation","smooth"],"authorIds":["AX15J5TSnpSLUglk4nQVamviftr2","IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"fullName":"","functionType":"Action","name":"onFirstSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::DefineHelperClasses"},"parameters":["",""]}]}],"parameters":[],"objectGroups":[]},{"description":"Define helper classes JavaScript code.","fullName":"Define helper classes","functionType":"Action","name":"DefineHelperClasses","private":true,"sentence":"Define helper classes JavaScript code","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/**"," * @param {number[]} array "," * @param {number} value"," */","const findLowerIndex = function (array, value) {","  let low = 0;","  let high = array.length - 1;","  let index = 0;","  while (low < high) {","    index = low + (((high - low) / 2) | 0);","    if (array[index] < value) {","      low = index + 1;","    } else {","      high = index;","    }","  }","  if (array[index] > value) {","    index--;","  }","  return index;","};","","const CurvedPath = /** @class */ (function () {","  /**","   * @param {number} speedScaleY Set it to 0.5 for pixel isometry.","   */","  function CurvedPath(speedScaleY = 1) {","    /**","     * @type {CubicBezierCurve[]}","     */","    this.curves = [];","    /**","     * @type {number[]}","     */","    this.curvePreviousLengths = [0];","    /**","     * Set it to 0.5 for pixel isometry.","     */","    this.speedScaleY = speedScaleY;","  };","","  CurvedPath.prototype.getCurvePreviousLengths = function () {","    if (this.curvePreviousLengths.length === 0) {","      let lengthSum = 0;","      this.curvePreviousLengths.push(0);","      for (const curve of this.curves) {","        lengthSum += curve.getLength();","        this.curvePreviousLengths.push(lengthSum);","      }","    }","    return this.curvePreviousLengths;","  }","","  CurvedPath.prototype.clone = function () {","    const clone = new CurvedPath();","    clone.curves = this.curves.map(curve => curve.clone());","    clone.curvePreviousLengths = [...this.curvePreviousLengths];","    return clone;","  };","","  CurvedPath.prototype.getSpeedScaleY = function () {","    return this.speedScaleY;","  };","","  /**","   * @param {number} speedScaleY Set it to 0.5 for pixel isometry.","   */","  CurvedPath.prototype.setSpeedScaleY = function (speedScaleY) {","    if (this.speedScaleY === speedScaleY) {","      return;","    }","    this.scale(1, this.speedScaleY / speedScaleY);","    this.speedScaleY = speedScaleY;","  };","","  /**","   * @param {CubicBezierCurve} curve","   */","  CurvedPath.prototype._add = function (curve) {","    this.curves.push(curve);","    if (this.curvePreviousLengths.length > 0) {","      this.curvePreviousLengths.push(this.getLength() + curve.getLength());","    }","  };","","  /**","   * @param {number} firstControlX","   * @param {number} firstControlY","   * @param {number} secondControlX","   * @param {number} secondControlY","   * @param {number} destinationX","   * @param {number} destinationY","   * @param {boolean} isRelative","   */","  CurvedPath.prototype.addCurve = function (","    firstControlX,","    firstControlY,","    secondControlX,","    secondControlY,","    destinationX,","    destinationY,","    isRelative) {","    const endX = this.getEndX();","    const endY = this.getEndY();","    if (isRelative) {","      firstControlX += endX;","      firstControlY += endY;","      secondControlX += endX;","      secondControlY += endY;","      destinationX += endX;","      destinationY += endY;","    }","    this._add(new CubicBezierCurve(","      endX,","      endY / this.speedScaleY,","      firstControlX,","      firstControlY / this.speedScaleY,","      secondControlX,","      secondControlY / this.speedScaleY,","      destinationX,","      destinationY / this.speedScaleY","    ));","  }","","  /**","   * @param {number} secondControlX","   * @param {number} secondControlY","   * @param {number} destinationX","   * @param {number} destinationY","   * @param {boolean} isRelative","   */","  CurvedPath.prototype.addSmoothCurve = function (","    secondControlX,","    secondControlY,","    destinationX,","    destinationY,","    isRelative) {","    const endX = this.getEndX();","    const endY = this.getEndY();","    if (isRelative) {","      secondControlX += endX;","      secondControlY += endY;","      destinationX += endX;","      destinationY += endY;","    }","    const lastControlX = this.getLastControlX();","    const lastControlY = this.getLastControlY();","    let firstControlX = 2 * endX - lastControlX;","    let firstControlY = 2 * endY - lastControlY;","","    this._add(new CubicBezierCurve(","      endX,","      endY / this.speedScaleY,","      firstControlX,","      firstControlY / this.speedScaleY,","      secondControlX,","      secondControlY / this.speedScaleY,","      destinationX,","      destinationY / this.speedScaleY","    ));","  }","","","  /**","   * @param {number} destinationX","   * @param {number} destinationY","   * @param {boolean} isRelative","   */","  CurvedPath.prototype.addLine = function (","    destinationX,","    destinationY,","    isRelative) {","    const endX = this.getEndX();","    const endY = this.getEndY();","    if (isRelative) {","      destinationX += endX;","      destinationY += endY;","    }","    const lengthX = destinationX - endX;","    const lengthY = destinationY - endY;","","    // TODO Optimize it with an object dedicated to lines.","    this._add(new CubicBezierCurve(","      endX,","      endY / this.speedScaleY,","      endX + lengthX / 3,","      (endY + lengthY / 3) / this.speedScaleY,","      endX + lengthX * 2 / 3,","      (endY + lengthY * 2 / 3) / this.speedScaleY,","      destinationX,","      destinationY / this.speedScaleY","    ));","  }","","  CurvedPath.prototype.close = function () {","    if (this.curves.length === 0) {","      return;","    }","    const firstCurve = this.curves[0];","    this.addLine(firstCurve.getOriginX(), firstCurve.getOriginY(), false);","  }","","  /**","   * @param {CurvedPath} path","   */","  CurvedPath.prototype.append = function (path) {","    const endX = this.getEndX();","    const endY = this.getEndY();","    for (const curve of path.curves) {","      const clone = curve.clone();","      for (const point of clone.points) {","        point[0] += endX;","        point[1] *= path.speedScaleY / this.speedScaleY;","        point[1] += endY;","      }","      this._add(clone);","    }","  };","","  /**","   * @param {CurvedPath} path","   * @param {boolean} shouldFlip","   */","  CurvedPath.prototype.appendRotatedPath = function (path, shouldFlip) {","    const startAngle = Math.atan2(path.curves[0].getFirstControlY(), path.curves[0].getFirstControlX());","    const rotatedPath = path.clone();","    rotatedPath.rotate(this.getEndAngle() - startAngle);","    if (shouldFlip) {","      rotatedPath.flip();","    }","    this.append(rotatedPath, false);","  };","","  CurvedPath.prototype.clear = function () {","    this.curves.length = 0;","    this.curvePreviousLengths.length = 1;","    this.curvePreviousLengths[0] = 0;","  };","","  CurvedPath.prototype.getLength = function () {","    const curvePreviousLengths = this.getCurvePreviousLengths();","    return curvePreviousLengths[curvePreviousLengths.length - 1];","  };","","  CurvedPath.prototype.isClosed = function () {","    if (this.curves.length === 0) {","      return true;","    }","    const firstCurve = this.curves[0];","    const lastCurve = this.curves[this.curves.length - 1];","    return firstCurve.getOriginX() === lastCurve.getTargetX() &&","      firstCurve.getOriginY() === lastCurve.getTargetY();","  };","","  /**","   * @param {number} length","   */","  CurvedPath.prototype.getCurveIndex = function (length) {","    const curvePreviousLengths = this.getCurvePreviousLengths();","    return Math.min(this.curves.length - 1, findLowerIndex(curvePreviousLengths, length));","  };","","  /**","   * @param {number} length","   */","  CurvedPath.prototype.getX = function (length) {","    const curvePreviousLengths = this.getCurvePreviousLengths();","    if (length >= this.getLength()) {","      return this.getEndX();","    }","    const curveIndex = this.getCurveIndex(length);","    const curve = this.curves[curveIndex];","    const curveStartLength = curvePreviousLengths[curveIndex];","    const u = (length - curveStartLength) / curve.getLength();","    return curve.getX(u);","  };","","  /**","   * @param {number} length","   */","  CurvedPath.prototype.getY = function (length) {","    const curvePreviousLengths = this.getCurvePreviousLengths();","    if (length >= this.getLength()) {","      return this.getEndY();","    }","    const curveIndex = this.getCurveIndex(length);","    const curve = this.curves[curveIndex];","    const curveStartLength = curvePreviousLengths[curveIndex];","    const u = (length - curveStartLength) / curve.getLength();","    return curve.getY(u) * this.speedScaleY;","  };","","  const workingPoint = [0, 0];","  /**","   * @param {number} length","   * @param {gdjs.AffineTransformation} transformation","   * @param {[number, number]} transformation","   */","  CurvedPath.prototype.getTransformedPosition = function (length, transformation, result) {","    if (!result) {","      result = workingPoint;","    }","    const curvePreviousLengths = this.getCurvePreviousLengths();","    if (length >= this.getLength()) {","      result[0] = this.getEndX();","      result[1] = this.getEndY();","    }","    else {","      const curveIndex = this.getCurveIndex(length);","      const curve = this.curves[curveIndex];","      const curveStartLength = curvePreviousLengths[curveIndex];","      const u = (length - curveStartLength) / curve.getLength();","      result[0] = curve.getX(u);","      result[1] = curve.getY(u);","    }","    transformation.transform(result, result);","    result[1] *= this.speedScaleY;","    return result;","  };","","  /**","   * @param {number} x","   * @param {number} y","   * @param {gdjs.AffineTransformation} transformation","   * @param {[number, number]} transformation","   */","  CurvedPath.prototype.transformPosition = function (x, y, transformation, result) {","    if (!result) {","      result = workingPoint;","    }","    result[0] = x;","    result[1] = y / this.speedScaleY;","    transformation.transform(result, result);","    result[1] *= this.speedScaleY;","    return result;","  };","","  /**","   * @param {number} length","   */","  CurvedPath.prototype.getAngle = function (length) {","    const curvePreviousLengths = this.getCurvePreviousLengths();","    if (this.curves.length === 0) {","      return 0;","    }","    const curveIndex = this.getCurveIndex(length);","    const curve = this.curves[curveIndex];","    const curveStartLength = curvePreviousLengths[curveIndex];","    const u = (length - curveStartLength) / curve.getLength();","    return curve.getAngle(u);","  };","","  CurvedPath.prototype.getOriginX = function (curveIndex) {","    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getOriginX();","  };","","  CurvedPath.prototype.getOriginY = function (curveIndex) {","    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getOriginY() * this.speedScaleY;","  };","","  CurvedPath.prototype.getFirstControlX = function (curveIndex) {","    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getFirstControlX();","  };","","  CurvedPath.prototype.getFirstControlY = function (curveIndex) {","    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getFirstControlY() * this.speedScaleY;","  };","","  CurvedPath.prototype.getSecondControlX = function (curveIndex) {","    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getSecondControlX();","  };","","  CurvedPath.prototype.getSecondControlY = function (curveIndex) {","    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getSecondControlY() * this.speedScaleY;","  };","","  CurvedPath.prototype.getTargetX = function (curveIndex) {","    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getTargetX();","  };","","  CurvedPath.prototype.getTargetY = function (curveIndex) {","    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getTargetY() * this.speedScaleY;","  };","","  CurvedPath.prototype.getLastControlX = function () {","    return this.getSecondControlX(this.curves.length - 1);","  };","","  CurvedPath.prototype.getLastControlY = function () {","    return this.getSecondControlY(this.curves.length - 1);","  };","","  CurvedPath.prototype.getEndX = function () {","    return this.getTargetX(this.curves.length - 1);","  };","","  CurvedPath.prototype.getEndY = function () {","    return this.getTargetY(this.curves.length - 1);","  };","","  CurvedPath.prototype.getEndAngle = function () {","    if (this.curves.length === 0) {","      return 0;","    }","    const lastCurve = this.curves[this.curves.length - 1];","    return Math.atan2(","      lastCurve.getTargetY() - lastCurve.getSecondControlY(),","      lastCurve.getTargetX() - lastCurve.getSecondControlX());","  };","","  /**","   * @param {number} translationX","   * @param {number} translationY","   */","  CurvedPath.prototype.translate = function (translationX, translationY) {","    for (const curve of this.curves) {","      for (const point of curve.points) {","        point[0] += translationX;","        point[1] += translationY / this.speedScaleY;","      }","    }","  };","","  /**","   * @param {number} scaleX","   * @param {number} scaleY","   */","  CurvedPath.prototype.scale = function (scaleX, scaleY) {","    for (const curve of this.curves) {","      for (const point of curve.points) {","        point[0] *= scaleX;","        point[1] *= scaleY;","      }","      curve.arcLengths.length = 0;","    }","    this.curvePreviousLengths.length = 0;","  };","","  /**","   * @param {number} angle","   */","  CurvedPath.prototype.rotate = function (angle) {","    let cos = Math.cos(angle);","    let sin = Math.sin(angle);","","    // Avoid rounding errors around 0.","    if (cos === -1 || cos === 1) {","      sin = 0;","    }","    if (sin === -1 || sin === 1) {","      cos = 0;","    }","    ","    for (const curve of this.curves) {","      for (const point of curve.points) {","        const x = point[0];","        const y = point[1];","        point[0] = x * cos - y * sin;","        point[1] = x * sin + y * cos;","      }","      curve.arcLengths.length = 0;","    }","    this.curvePreviousLengths.length = 0;","  };","","  CurvedPath.prototype.invert = function () {","    const endX = this.getEndX();","    const endY = this.getEndY();","    for (const curve of this.curves) {","      for (const point of curve.points) {","        point[0] = point[0] - endX;","        point[1] = point[1] - endY;","      }","      curve.points.reverse();","      curve.arcLengths.length = 0;","    }","    this.curves.reverse();","    this.curvePreviousLengths.length = 0;","  };","","  /**","   * Do a symetry around the first control vector.","   */","  CurvedPath.prototype.flip = function () {","    const axisX = this.curves[0].getFirstControlX();","    const axisY = this.curves[0].getFirstControlY();","    const axisLength = Math.hypot(axisX, axisY);","    const ux = axisX / axisLength;","    const uy = axisY / axisLength;","","    const sx = 2 * ux * ux - 1;","    const sy = 2 * uy * uy - 1;","    const rx = 2 * uy * ux;","    const ry = rx;","","    for (const curve of this.curves) {","      for (const point of curve.points) {","        const x = point[0];","        const y = point[1];","        point[0] = x * sx + y * rx;","        point[1] = x * ry + y * sy;","      }","      curve.arcLengths.length = 0;","    }","    this.curvePreviousLengths.length = 0;","  };","","  return CurvedPath;","})();","","/**"," * @param {number} t"," * @param {number} a"," * @param {number} b"," * @param {number} c"," * @param {number} d"," */","const interpolateCubicCurve = function (t, a, b, c, d) {","  return (","    (1 - t) ** 3 * a +","    3 * (1 - t) ** 2 * t * b +","    3 * (1 - t) * t ** 2 * c +","    t ** 3 * d","  );","};","/**"," * @param {number} t"," * @param {number} a"," * @param {number} b"," * @param {number} c"," * @param {number} d"," */","const interpolateCubicCurveDirection = function (t, a, b, c, d) {","  return (","    3 * (1 - t) ** 2 * (b - a) +","    6 * (1 - t) * t * (c - b) +","    3 * t ** 2 * (d - c)","  );","};","","","const CubicBezierCurve = /** @class */ (function () {","  /**","   * @param {number} aX","   * @param {number} aY","   * @param {number} bX","   * @param {number} bY","   * @param {number} cX","   * @param {number} cY","   * @param {number} dX","   * @param {number} dY","   */","  function CubicBezierCurve(aX, aY, bX, bY, cX, cY, dX, dY) {","    /** @type {[FloatPoint, FloatPoint, FloatPoint, FloatPoint]} */","    this.points = [[aX, aY], [bX, bY], [cX, cY], [dX, dY]];","","    /** @type {number[]} */","    this.arcLengths = [];","  };","","  CubicBezierCurve.prototype.clone = function () {","    const clone = new CubicBezierCurve();","    clone.points = this.points.map(point => [...point]);","    clone.arcLengths = [...this.arcLengths];","    clone.speedScaleY = this.speedScaleY;","    return clone;","  }","","  CubicBezierCurve.prototype.getArcLengths = function () {","    if (this.arcLengths.length === 0) {","      const segmentsCount = 100;","      this.arcLengths.length = segmentsCount + 1;","      this.arcLengths[0] = 0;","","      const aX = this.points[0][0];","      const aY = this.points[0][1];","      const bX = this.points[1][0];","      const bY = this.points[1][1];","      const cX = this.points[2][0];","      const cY = this.points[2][1];","      const dX = this.points[3][0];","      const dY = this.points[3][1];","","      let oldX = aX;","      let oldY = aY;","      let currentLength = 0;","      for (let i = 1; i <= segmentsCount; i += 1) {","        const x = interpolateCubicCurve(i * 0.01, aX, bX, cX, dX);","        const y = interpolateCubicCurve(i * 0.01, aY, bY, cY, dY);","        currentLength += Math.hypot(x - oldX, y - oldY);","        this.arcLengths[i] = currentLength;","        oldX = x;","        oldY = y;","      }","    }","    return this.arcLengths;","  };","","  /**","   * @param {number} u","   */","  CubicBezierCurve.prototype.reparametrizeByArcLength = function (u) {","    const arcLengths = this.getArcLengths();","    const segmentsCount = arcLengths.length - 1;","    const targetLength = u * arcLengths[segmentsCount];","    const index = findLowerIndex(arcLengths, targetLength);","","    const lengthBefore = arcLengths[index];","    if (lengthBefore === targetLength) {","      return index / segmentsCount;","    } else {","      return (","        (index +","          (targetLength - lengthBefore) /","          (arcLengths[index + 1] - lengthBefore)) /","        segmentsCount","      );","    }","  };","","  /**","   * @param {number} u","   */","  CubicBezierCurve.prototype.getX = function (u) {","    return interpolateCubicCurve(","      this.reparametrizeByArcLength(u),","      this.points[0][0],","      this.points[1][0],","      this.points[2][0],","      this.points[3][0]","    );","  };","","  /**","   * @param {number} u","   */","  CubicBezierCurve.prototype.getY = function (u) {","    return interpolateCubicCurve(","      this.reparametrizeByArcLength(u),","      this.points[0][1],","      this.points[1][1],","      this.points[2][1],","      this.points[3][1]","    );","  };","","  /**","   * @param {number} u","   */","  CubicBezierCurve.prototype.getAngle = function (u) {","    const t = this.reparametrizeByArcLength(u);","    const directionX = interpolateCubicCurveDirection(","      t,","      this.points[0][0],","      this.points[1][0],","      this.points[2][0],","      this.points[3][0]","    );","    const directionY = interpolateCubicCurveDirection(","      t,","      this.points[0][1],","      this.points[1][1],","      this.points[2][1],","      this.points[3][1]","    );","    return Math.atan2(directionY, directionX);","  };","","  CubicBezierCurve.prototype.getLength = function () {","    const arcLengths = this.getArcLengths();","    return arcLengths[arcLengths.length - 1];","  };","","  CubicBezierCurve.prototype.getOriginX = function () {","    return this.points[0][0];","  };","","  CubicBezierCurve.prototype.getOriginY = function () {","    return this.points[0][1];","  };","","  CubicBezierCurve.prototype.getFirstControlX = function () {","    return this.points[1][0];","  };","","  CubicBezierCurve.prototype.getFirstControlY = function () {","    return this.points[1][1];","  };","","  CubicBezierCurve.prototype.getSecondControlX = function () {","    return this.points[2][0];","  };","","  CubicBezierCurve.prototype.getSecondControlY = function () {","    return this.points[2][1];","  };","","  CubicBezierCurve.prototype.getTargetX = function () {","    return this.points[3][0];","  };","","  CubicBezierCurve.prototype.getTargetY = function () {","    return this.points[3][1];","  };","","  return CubicBezierCurve;","})();","","const pathRegex = /[CcSsLlMmHhVvZz]|(?:-?\\d+(?:\\.\\d+)?(?:e-?\\d+)?)/g;","const svgActions = [\"c\", \"s\", \"l\", \"m\", \"v\", \"h\", \"z\"];","","/**"," * @param {string} svgComandsString"," */","CurvedPath.parsePath = function (svgComandsString) {","  const regExpResults = svgComandsString.match(pathRegex);","  if (!regExpResults) {","    return null;","  }","  const path = new CurvedPath();","  let currentAction = \"\";","  let isRelative = false;","  let originX = 0;","  let originY = 0;","  for (let index = 0; index < regExpResults.length; index++) {","    const regExpResult = regExpResults[index];","    if (regExpResult.length === 1) {","      const lowerCaseRegExpResult = regExpResult.toLowerCase();","      if (svgActions.indexOf(lowerCaseRegExpResult) >= 0) {","        currentAction = lowerCaseRegExpResult;","        isRelative = lowerCaseRegExpResult === regExpResult;","        index++;","      }","    }","    switch (currentAction) {","      case \"c\":","        {","          if (regExpResults.length < index + 5) {","            break;","          }","          const firstControlX = Number.parseFloat(regExpResults[index + 0]);","          const firstControlY = Number.parseFloat(regExpResults[index + 1]);","          const secondControlX = Number.parseFloat(regExpResults[index + 2]);","          const secondControlY = Number.parseFloat(regExpResults[index + 3]);","          const destinationX = Number.parseFloat(regExpResults[index + 4]);","          const destinationY = Number.parseFloat(regExpResults[index + 5]);","          index += 5;","          if (isRelative) {","            path.addCurve(","              firstControlX,","              firstControlY,","              secondControlX,","              secondControlY,","              destinationX,","              destinationY,","              isRelative);","          }","          else {","            // Movement paths always start at (0;0).","            path.addCurve(","              -originX + firstControlX,","              -originY + firstControlY,","              -originX + secondControlX,","              -originY + secondControlY,","              -originX + destinationX,","              -originY + destinationY,","              isRelative);","          }","          break;","        }","      case \"s\":","        {","          if (regExpResults.length < index + 3) {","            break;","          }","          const secondControlX = Number.parseFloat(regExpResults[index + 0]);","          const secondControlY = Number.parseFloat(regExpResults[index + 1]);","          const destinationX = Number.parseFloat(regExpResults[index + 2]);","          const destinationY = Number.parseFloat(regExpResults[index + 3]);","          index += 3;","          if (isRelative) {","            path.addSmoothCurve(","              secondControlX,","              secondControlY,","              destinationX,","              destinationY,","              isRelative);","          }","          else {","            // Movement paths always start at (0;0).","            path.addSmoothCurve(","              -originX + secondControlX,","              -originY + secondControlY,","              -originX + destinationX,","              -originY + destinationY,","              isRelative);","          }","          break;","        }","      case \"l\":","        {","          if (regExpResults.length < index + 1) {","            break;","          }","          const destinationX = Number.parseFloat(regExpResults[index + 0]);","          const destinationY = Number.parseFloat(regExpResults[index + 1]);","          index++;","          if (isRelative) {","            path.addLine(","              destinationX,","              destinationY,","              isRelative);","          }","          else {","            // Movement paths always start at (0;0).","            path.addLine(","              -originX + destinationX,","              -originY + destinationY,","              isRelative);","          }","          break;","        }","      case \"m\":","        {","          if (regExpResults.length < index + 1) {","            break;","          }","          if (index === 1) {","            originX = Number.parseFloat(regExpResults[index + 0]) || 0;","            originY = Number.parseFloat(regExpResults[index + 1]) || 0;","          }","          index++;","          currentAction = \"l\";","          break;","        }","      case \"h\":","        {","          if (regExpResults.length < index) {","            break;","          }","          const destinationX = Number.parseFloat(regExpResults[index + 0]);","          const destinationY = 0;","          if (isRelative) {","            path.addLine(","              destinationX,","              destinationY,","              isRelative);","          }","          else {","            // Movement paths always start at (0;0).","            path.addLine(","              -originX + destinationX,","              -originY + destinationY,","              isRelative);","          }","          break;","        }","      case \"v\":","        {","          if (regExpResults.length < index) {","            break;","          }","          const destinationX = 0;","          const destinationY = Number.parseFloat(regExpResults[index + 0]);","          if (isRelative) {","            path.addLine(","              destinationX,","              destinationY,","              isRelative);","          }","          else {","            // Movement paths always start at (0;0).","            path.addLine(","              -originX + destinationX,","              -originY + destinationY,","              isRelative);","          }","          break;","        }","      case \"z\":","        {","          path.close();","          break;","        }","      default:","        break;","    }","  }","//  if (originX !== 0 && originY !== 0) {","//    path.translate(-originX, -originY);","//    path.curves[0].getOriginX = 0;","//  }","  return path;","}","","/**"," * @param {CurvedPath} path"," */","CurvedPath.toSvg = function (path) {","  let svgString = '';","  for (const curve of path.curves) {","    svgString += 'C'","    for (const point of curve.points) {","      svgString += `${point[0]},${point[1]} `;","    }","  }","  return svgString;","}","","gdjs.__curvedMovementExtension = gdjs.__curvedMovementExtension || {};","gdjs.__curvedMovementExtension.CurvedPath = CurvedPath;","",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"onSceneLoaded","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","runtimeScene.__curvedMovementExtension = { curvedPaths: new Map() };"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"Append a cubic Bezier curve at the end of the path.","fullName":"Append a curve","functionType":"Action","name":"AddCubicCurve","sentence":"Append a curve to the path _PARAM1_ relatively to the end: _PARAM8_, first control point: _PARAM2_ ; _PARAM3_, second control point: _PARAM4_ ; _PARAM5_,  destination: _PARAM6_ ; _PARAM7_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (!curvedPath) {","    curvedPath = new gdjs.__curvedMovementExtension.CurvedPath();","    curvedPaths.set(pathName, curvedPath);","}","","let firstControlX = eventsFunctionContext.getArgument(\"FirstControlX\");","let firstControlY = eventsFunctionContext.getArgument(\"FirstControlY\");","let secondControlX = eventsFunctionContext.getArgument(\"SecondControlX\");","let secondControlY = eventsFunctionContext.getArgument(\"SecondControlY\");","let destinationX = eventsFunctionContext.getArgument(\"DestinationX\");","let destinationY = eventsFunctionContext.getArgument(\"DestinationY\");","let isRelative = eventsFunctionContext.getArgument(\"IsRelative\");","","curvedPath.addCurve(","    firstControlX,","    firstControlY,","    secondControlX,","    secondControlY,","    destinationX,","    destinationY,","    isRelative",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"First control point X","name":"FirstControlX","type":"expression"},{"description":"First control point Y","name":"FirstControlY","type":"expression"},{"description":"Second Control point X","name":"SecondControlX","type":"expression"},{"description":"Second Control point Y","name":"SecondControlY","type":"expression"},{"description":"Destination point X","name":"DestinationX","type":"expression"},{"description":"Destination point Y","name":"DestinationY","type":"expression"},{"defaultValue":"yes","description":"Relative","name":"IsRelative","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Append a cubic Bezier curve to the end of an object's path. The first control point is symmetrical to the last control point of the path.","fullName":"Append a smooth curve","functionType":"Action","name":"AddSmoothCubicCurve","sentence":"Append a smooth curve to the path _PARAM1_ relatively to the end: _PARAM6_, second control point: _PARAM2_ ; _PARAM3_,  destination: _PARAM4_ ; _PARAM5_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (!curvedPath) {","    curvedPath = new gdjs.__curvedMovementExtension.CurvedPath();","    curvedPaths.set(pathName, curvedPath);","}","","let secondControlX = eventsFunctionContext.getArgument(\"SecondControlX\");","let secondControlY = eventsFunctionContext.getArgument(\"SecondControlY\");","let destinationX = eventsFunctionContext.getArgument(\"DestinationX\");","let destinationY = eventsFunctionContext.getArgument(\"DestinationY\");","let isRelative = eventsFunctionContext.getArgument(\"IsRelative\");","","curvedPath.addSmoothCurve(","    secondControlX,","    secondControlY,","    destinationX,","    destinationY,","    isRelative",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Second Control point X","name":"SecondControlX","type":"expression"},{"description":"Second Control point Y","name":"SecondControlY","type":"expression"},{"description":"Destination point X","name":"DestinationX","type":"expression"},{"description":"Destination point Y","name":"DestinationY","type":"expression"},{"defaultValue":"yes","description":"Relative","name":"IsRelative","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Append a line at the end of the path.","fullName":"Append a line","functionType":"Action","name":"AddLine","sentence":"Append a line to the path _PARAM1_ relatively to the end: _PARAM4_,  destination: _PARAM2_ ; _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (!curvedPath) {","    curvedPath = new gdjs.__curvedMovementExtension.CurvedPath();","    curvedPaths.set(pathName, curvedPath);","}","","let destinationX = eventsFunctionContext.getArgument(\"DestinationX\");","let destinationY = eventsFunctionContext.getArgument(\"DestinationY\");","let isRelative = eventsFunctionContext.getArgument(\"IsRelative\");","","curvedPath.addLine(","    destinationX,","    destinationY,","    isRelative",");",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Destination point X","name":"DestinationX","type":"expression"},{"description":"Destination point Y","name":"DestinationY","type":"expression"},{"defaultValue":"yes","description":"Relative","name":"IsRelative","optional":true,"type":"yesorno"}],"objectGroups":[]},{"description":"Append a line to close the path.","fullName":"Close a path","functionType":"Action","name":"ClosePath","sentence":"Close the path _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (!curvedPath) {","    curvedPath = new gdjs.__curvedMovementExtension.CurvedPath();","    curvedPaths.set(pathName, curvedPath);","}","","curvedPath.close();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Create a path from SVG commands, for instance \"M 0,0 C 55,0 100,45 100,100\". Commands are: M = Move, C = Curve, S = Smooth, L = Line. Lower case is for relative positions. The preferred way to build the commands is to use an external SVG editor like Inkscape.","fullName":"Create a path from SVG","functionType":"Action","name":"CreatePathFromSvg","sentence":"Create the path _PARAM1_ from the SVG path commands _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","\r","const svgCommandsString = eventsFunctionContext.getArgument(\"SvgCommandsString\");\r","\r","curvedPaths.set(pathName, gdjs.__curvedMovementExtension.CurvedPath.parsePath(svgCommandsString));\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"SVG commands","name":"SvgCommandsString","supplementaryInformation":"scene","type":"string"}],"objectGroups":[]},{"description":"Return the SVG commands of a path.","fullName":"SVG path commands","functionType":"StringExpression","name":"ToSvg","sentence":"Create the path _PARAM1_ from the SVG path commands _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","\r","let curvedPath = curvedPaths.get(pathName);\r","eventsFunctionContext.returnValue = curvedPath ? gdjs.__curvedMovementExtension.CurvedPath.toSvg(curvedPath) : '';\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"string"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Delete a path from the memory.","fullName":"Delete a path","functionType":"Action","name":"DeletePath","sentence":"Delete the path: _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","curvedPaths.delete(pathName);",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Append a path to another path.","fullName":"Append a path","functionType":"Action","name":"AppendPath","sentence":"Append the path _PARAM2_ to the path _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const modifiedPathName = eventsFunctionContext.getArgument(\"ModifiedPathName\");","const addedPathName = eventsFunctionContext.getArgument(\"AddedPathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let addedPath = curvedPaths.get(addedPathName);","if (addedPath) {","    let modifiedPath = curvedPaths.get(modifiedPathName);","    if (!modifiedPath) {","        modifiedPath = new gdjs.__curvedMovementExtension.CurvedPath();","        curvedPaths.set(modifiedPathName, modifiedPath);","    }","    modifiedPath.append(addedPath);","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Name of the path to modify","name":"ModifiedPathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Name of the path to add to the first one","name":"AddedPathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Duplicate a path.","fullName":"Duplicate a path","functionType":"Action","name":"DuplicatedPath","sentence":"Create path _PARAM1_ as a duplicate of path _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const createdPathName = eventsFunctionContext.getArgument(\"CreatedPathName\");","const sourcePathName = eventsFunctionContext.getArgument(\"SourcePathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let sourcePath = curvedPaths.get(sourcePathName);","if (sourcePath) {","    const createdPath = sourcePath.clone();","    curvedPaths.set(createdPathName, createdPath);","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Name of the path to create","name":"CreatedPathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Name of the source path","name":"SourcePathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Append a path to another path. The appended path is rotated to have a smooth junction.","fullName":"Append a rotated path","functionType":"Action","name":"AppendRotatedPath","sentence":"Append the path _PARAM2_ rotated to connect to the path _PARAM1_ flip: _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const modifiedPathName = eventsFunctionContext.getArgument(\"ModifiedPathName\");","const addedPathName = eventsFunctionContext.getArgument(\"AddedPathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let addedPath = curvedPaths.get(addedPathName);","if (addedPath) {","    let modifiedPath = curvedPaths.get(modifiedPathName);","    if (!modifiedPath) {","        modifiedPath = new gdjs.__curvedMovementExtension.CurvedPath();","        curvedPaths.set(modifiedPathName, modifiedPath);","    }","    const shouldFlip = eventsFunctionContext.getArgument(\"ShouldFlip\");","    modifiedPath.appendRotatedPath(addedPath, shouldFlip);","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Name of the path to modify","name":"ModifiedPathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Name of the path to add to the first one","name":"AddedPathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Flip the appended path","name":"ShouldFlip","type":"yesorno"}],"objectGroups":[]},{"description":"Return the speed scale on Y axis. This is used to change the view point of a path (top-dwon or isometry).","fullName":"Speed scale Y","functionType":"Expression","group":"Path transformation","name":"SpeedScaleY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","const curvedPath = curvedPaths.get(pathName);","eventsFunctionContext.returnValue = curvedPath ? curvedPath.getSpeedScaleY() : 0;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Change the speed scale on Y axis. This allows to change the view point of a path (top-dwon or isometry).","fullName":"Speed scale Y","functionType":"Action","group":"Path transformation","name":"SetSpeedScaleY","sentence":"Change the speed scale Y of the path _PARAM1_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (curvedPath) {","    const scaleY = eventsFunctionContext.getArgument(\"ScaleY\");","    curvedPath.setSpeedScaleY(scaleY);","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Speed scale on Y axis (0.5 for pixel isometry)","name":"ScaleY","type":"expression"}],"objectGroups":[]},{"description":"Invert a path, the end becomes the beginning.","fullName":"Invert a path","functionType":"Action","group":"Path transformation","name":"InvertPath","sentence":"Invert the path _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (curvedPath) {","    curvedPath.invert();","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Flip a path.","fullName":"Flip a path","functionType":"Action","group":"Path transformation","name":"FlipPath","private":true,"sentence":"Flip the path _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (curvedPath) {","    curvedPath.flip();","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","type":"string"}],"objectGroups":[]},{"description":"Flip a path horizontally.","fullName":"Flip a path horizontally","functionType":"Action","group":"Path transformation","name":"FlipPathX","private":true,"sentence":"Flip the path _PARAM1_ horizontally","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::ScalePath"},"parameters":["","\"\"","-1","1",""]}]}],"parameters":[{"description":"Path name","name":"PathName","type":"string"}],"objectGroups":[]},{"description":"Flip a path vertically.","fullName":"Flip a path vertically","functionType":"Action","group":"Path transformation","name":"FlipPathY","private":true,"sentence":"Flip the path _PARAM1_ vertically","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::ScalePath"},"parameters":["","\"\"","1","-1",""]}]}],"parameters":[{"description":"Path name","name":"PathName","type":"string"}],"objectGroups":[]},{"description":"Scale a path.","fullName":"Scale a path","functionType":"Action","group":"Path transformation","name":"ScalePath","sentence":"Scale the path _PARAM1_ by _PARAM2_ ; _PARAM3_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (curvedPath) {","    const scaleX = eventsFunctionContext.getArgument(\"ScaleX\");","    const scaleY = eventsFunctionContext.getArgument(\"ScaleY\");","    curvedPath.scale(scaleX, scaleY);","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Scale on X axis","name":"ScaleX","type":"expression"},{"description":"Scale on Y axis","name":"ScaleY","type":"expression"}],"objectGroups":[]},{"description":"Rotate a path.","fullName":"Rotate a path","functionType":"Action","group":"Path transformation","name":"RotatePath","sentence":"Rotate _PARAM2_° the path _PARAM1_","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","let curvedPath = curvedPaths.get(pathName);","if (curvedPath) {","    const angle = eventsFunctionContext.getArgument(\"Angle\") * Math.PI / 180;","    curvedPath.rotate(angle);","}"],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Rotation angle","name":"Angle","type":"expression"}],"objectGroups":[]},{"description":"Check if a path is closed.","fullName":"Is  closed","functionType":"Condition","name":"IsClosed","sentence":"The path _PARAM1_ is closed","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","","const curvedPath = curvedPaths.get(pathName);","eventsFunctionContext.returnValue = curvedPath && curvedPath.isClosed();",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Return the position on X axis of the path for a given length.","fullName":"Path X","functionType":"Expression","name":"PathX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","const curvedPath = curvedPaths.get(pathName);","","const length = eventsFunctionContext.getArgument(\"Length\");","","eventsFunctionContext.returnValue = curvedPath ? curvedPath.getX(length) : 0;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Length on the path","name":"Length","type":"expression"}],"objectGroups":[]},{"description":"Return the position on Y axis of the path for a given length.","fullName":"Path Y","functionType":"Expression","name":"PathY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","const curvedPath = curvedPaths.get(pathName);","","const length = eventsFunctionContext.getArgument(\"Length\");","","eventsFunctionContext.returnValue = curvedPath ? curvedPath.getY(length) : 0;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Length on the path","name":"Length","type":"expression"}],"objectGroups":[]},{"description":"Return the direction angle of the path for a given length (in degree).","fullName":"Path angle","functionType":"Expression","name":"PathAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","const curvedPath = curvedPaths.get(pathName);","","const length = eventsFunctionContext.getArgument(\"Length\");","","eventsFunctionContext.returnValue = curvedPath ? curvedPath.getAngle(length) * 180 / Math.PI : 0;",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Length on the path","name":"Length","type":"expression"}],"objectGroups":[]},{"description":"Return the length of the path.","fullName":"Path length","functionType":"Expression","name":"PathLength","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const pathName = eventsFunctionContext.getArgument(\"PathName\");","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","const curvedPath = curvedPaths.get(pathName);","","eventsFunctionContext.returnValue = curvedPath ? curvedPath.getLength() : 0;",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Return the displacement on X axis of the path end.","fullName":"Path end X","functionType":"Expression","name":"PathEndX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","eventsFunctionContext.returnValue = curvedPath ? curvedPath.getEndX() : 0;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Return the displacement on Y axis of the path end.","fullName":"Path end Y","functionType":"Expression","name":"PathEndY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","eventsFunctionContext.returnValue = curvedPath ? curvedPath.getEndY() : 0;\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Return the number of lines or curves that make the path.","fullName":"Path element count","functionType":"Expression","group":"Path element","name":"ElementCount","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","eventsFunctionContext.returnValue = curvedPath ? curvedPath.curves.length : 0;\r",""],"parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]},{"description":"Return the origin position on X axis of a curve.","fullName":"Origin X","functionType":"Expression","group":"Path element","name":"OriginX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","/** @type {number} */\r","const index = eventsFunctionContext.getArgument(\"Index\");\r","\r","eventsFunctionContext.returnValue = (\r","  (curvedPath && curvedPath && index >= 0 && index < curvedPath.curves.length)\r","  ? curvedPath.getOriginX(index) : 0);\r",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Curve index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Return the origin position on Y axis of a curve.","fullName":"Origin Y","functionType":"Expression","group":"Path element","name":"OriginY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","/** @type {number} */\r","const index = eventsFunctionContext.getArgument(\"Index\");\r","\r","eventsFunctionContext.returnValue = (\r","  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r","  ? curvedPath.getOriginY(index) : 0);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Curve index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Return the first control point position on X axis of a curve.","fullName":"First control X","functionType":"Expression","group":"Path element","name":"FirstControlX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","/** @type {number} */\r","const index = eventsFunctionContext.getArgument(\"Index\");\r","\r","eventsFunctionContext.returnValue = (\r","  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r","  ? curvedPath.getFirstControlX(index) : 0);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Curve index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Return the first control point position on Y axis of a curve.","fullName":"First control Y","functionType":"Expression","group":"Path element","name":"FirstControlY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","/** @type {number} */\r","const index = eventsFunctionContext.getArgument(\"Index\");\r","\r","eventsFunctionContext.returnValue = (\r","  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r","  ? curvedPath.getFirstControlY(index) : 0);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Curve index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Return the second control point position on X axis of a curve.","fullName":"Second control X","functionType":"Expression","group":"Path element","name":"SecondControlX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","/** @type {number} */\r","const index = eventsFunctionContext.getArgument(\"Index\");\r","\r","eventsFunctionContext.returnValue = (\r","  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r","  ? curvedPath.getSecondControlX(index) : 0);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Curve index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Return the second control point position on Y axis of a curve.","fullName":"Second control Y","functionType":"Expression","group":"Path element","name":"SecondControlY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","/** @type {number} */\r","const index = eventsFunctionContext.getArgument(\"Index\");\r","\r","eventsFunctionContext.returnValue = (\r","  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r","  ? curvedPath.getSecondControlY(index) : 0);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Curve index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Return the target position on X axis of a curve.","fullName":"Target X","functionType":"Expression","group":"Path element","name":"TargetX","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","/** @type {number} */\r","const index = eventsFunctionContext.getArgument(\"Index\");\r","\r","eventsFunctionContext.returnValue = (\r","  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r","  ? curvedPath.getTargetX(index) : 0);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Curve index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Return the target position on Y axis of a curve.","fullName":"Target Y","functionType":"Expression","group":"Path element","name":"TargetY","sentence":"","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","/** @type {number} */\r","const index = eventsFunctionContext.getArgument(\"Index\");\r","\r","eventsFunctionContext.returnValue = (\r","  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r","  ? curvedPath.getTargetY(index) : 0);"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"expressionType":{"type":"expression"},"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Curve index","name":"Index","type":"expression"}],"objectGroups":[]},{"description":"Path exists.","fullName":"Path exists","functionType":"Condition","name":"PathExists","sentence":"Path _PARAM1_ exists","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["\r","const pathName = eventsFunctionContext.getArgument(\"PathName\");\r","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r","const curvedPath = curvedPaths.get(pathName);\r","\r","eventsFunctionContext.returnValue = !!curvedPath;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Path name","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Move objects on curved paths in a given duration and tween easing function.","fullName":"Movement on a curve (duration-based)","name":"TweenPathMovement","objectType":"Sprite","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Back and forth states","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::HasReachedAnEnd"},"parameters":["Object","Behavior",""]},{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyShouldGoBack"},"parameters":["Object","Behavior"]}],"actions":[],"events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Wait","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyPauseDurationBeforeGoingBack"},"parameters":["Object","Behavior",">","0"]},{"type":{"inverted":true,"value":"CompareObjectTimer"},"parameters":["Object","\"__CurvedMovement.Wait\"",">=","0"]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__CurvedMovement.Wait\""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CompareObjectTimer"},"parameters":["Object","\"__CurvedMovement.Wait\"",">=","Object.Behavior::PropertyPauseDurationBeforeGoingBack()"]}],"actions":[{"type":{"value":"RemoveObjectTimer"},"parameters":["Object","\"__CurvedMovement.Wait\""]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Change of direction","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CompareObjectTimer"},"parameters":["Object","\"__CurvedMovement.Wait\"",">=","0"]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"CurvedMovement::TweenPathMovement::PropertyIsGoingBack"},"parameters":["Object","Behavior"]},{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyShouldLoop"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__CurvedMovement.Time\""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CurvedMovement::TweenPathMovement::PropertyIsGoingBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyOrigin"},"parameters":["Object","Behavior","=","1"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyTarget"},"parameters":["Object","Behavior","=","0"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyIsGoingBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyOrigin"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyTarget"},"parameters":["Object","Behavior","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyTarget"},"parameters":["Object","Behavior","=","1"]}],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyIsGoingBack"},"parameters":["Object","Behavior",""]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyFlipXToGoBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyFlipYToGoBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Object","no"]}]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyTarget"},"parameters":["Object","Behavior","=","0"]}],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyIsGoingBack"},"parameters":["Object","Behavior","yes"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyFlipXToGoBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyFlipYToGoBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Object","yes"]}]}]}]}],"parameters":[]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Move on the path","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CurvedMovement::TweenPathMovement::HasReachedAnEnd"},"parameters":["Object","Behavior",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::UpdatePosition"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyRotation"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","=","Object.Behavior::PropertyPathAngle() + CurvedMovement::PathAngle(Object.Behavior::PropertyPathName(), Object.Behavior::RepeatedPathPosition()) + Object.Behavior::PropertyRotationOffset() + Object.Behavior::BackOrForthAngle()"]}]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Set the the object on the path according to the current length.","fullName":"Update position","functionType":"Action","name":"UpdatePosition","private":true,"sentence":"Update the position of _PARAM0_ on the path","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = object.getBehavior(behaviorName);","","/** @type {string} */","const pathName = behavior._getPathName();","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","const curvedPath = curvedPaths.get(pathName);","if (!curvedPath) {","    return;","}","","behavior.workingTransformation = behavior.workingTransformation || new gdjs.AffineTransformation();","/** @type {gdjs.AffineTransformation} */","const transformation = behavior.workingTransformation;","","const repetitionDone = behavior.RepetitionDone();","transformation.setToTranslation(","    repetitionDone * behavior.PathEndX(),","    repetitionDone * behavior.PathEndY() / behavior.PathSpeedScaleY()",");","transformation.preConcatenate(behavior.curvedMovementTransformation);","","/** @type {number} */","const length = behavior.RepeatedPathPosition();","/** @type {[number, number]} */","const point = curvedPath.getTransformedPosition(length, transformation);","const x = point[0] + behavior._getPathOriginX();","const y = point[1] + behavior._getPathOriginY();","object.setPosition(x, y);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Move the object to a position by following a path.","fullName":"Move on path to a position","functionType":"Action","name":"MoveTo","sentence":"Move _PARAM0_ to _PARAM6_ ; _PARAM7_ on the path: _PARAM2_ repeated _PARAM3_ times in _PARAM4_ seconds with _PARAM5_ easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathName"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"PathName\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Duration\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyEasing"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"Easing\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyRepetitionCount"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"RepetitionCount\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldGoBack"},"parameters":["Object","Behavior","no"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathOriginX"},"parameters":["Object","Behavior","=","Object.X()"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathOriginY"},"parameters":["Object","Behavior","=","Object.Y()"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathAngle"},"parameters":["Object","Behavior","=","AngleBetweenPositions(Object.X(), Object.Y(), GetArgumentAsNumber(\"DestinationX\"), Object.Y() + (GetArgumentAsNumber(\"DestinationY\") - Object.Y()) / Object.Behavior::PathSpeedScaleY()) - AngleBetweenPositions(0, 0, Object.Behavior::PathEndX(),  Object.Behavior::PathEndY() / Object.Behavior::PathSpeedScaleY())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathScale"},"parameters":["Object","Behavior","=","DistanceBetweenPositions(Object.X(), Object.Y(), GetArgumentAsNumber(\"DestinationX\"), Object.Y() + (GetArgumentAsNumber(\"DestinationY\") - Object.Y()) / Object.Behavior::PathSpeedScaleY()) / DistanceBetweenPositions(0, 0, Object.Behavior::PathEndX(), Object.Behavior::PathEndY() / Object.Behavior::PathSpeedScaleY()) / GetArgumentAsNumber(\"RepetitionCount\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::InitializeMovement"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"},{"description":"Path name","longDescription":"The path can be define with the \"Append curve\" action.","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Number of repetitions","name":"RepetitionCount","type":"expression"},{"description":"Duration in seconds","name":"Duration","type":"expression"},{"description":"Easing","name":"Easing","supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},{"description":"Destination X","name":"DestinationX","type":"expression"},{"description":"Destination Y","name":"DestinationY","type":"expression"}],"objectGroups":[]},{"description":"Move the object to a position by following a path and go back.","fullName":"Move back and forth to a position","functionType":"Action","name":"MoveToAndGoBack","sentence":"Move back and forth _PARAM0_ to _PARAM6_ ; _PARAM7_ on the path: _PARAM2_ repeated _PARAM3_ times  in _PARAM4_ seconds with _PARAM5_ easing, wait _PARAM8_ seconds before going back and loop: _PARAM9_ ","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::MoveTo"},"parameters":["Object","Behavior","GetArgumentAsString(\"PathName\")","GetArgumentAsNumber(\"RepetitionCount\")","GetArgumentAsNumber(\"Duration\")","GetArgumentAsString(\"Easing\")","GetArgumentAsNumber(\"DestinationX\")","GetArgumentAsNumber(\"DestinationY\")",""]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldGoBack"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPauseDurationBeforeGoingBack"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"WaitBeforeGoingBackDuration\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldLoop\""]}],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","="]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldLoop\""]}],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"},{"description":"Path name","longDescription":"The path can be define with the \"Append curve\" action.","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Number of repetitions","name":"RepetitionCount","type":"expression"},{"description":"Duration in seconds","name":"Duration","type":"expression"},{"description":"Easing","name":"Easing","supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},{"description":"Destination X","name":"DestinationX","type":"expression"},{"description":"Destination Y","name":"DestinationY","type":"expression"},{"description":"Duration to wait before going back","name":"WaitBeforeGoingBackDuration","type":"expression"},{"description":"Loop","name":"ShouldLoop","type":"yesorno"}],"objectGroups":[]},{"description":"Move the object by following a path.","fullName":"Move on path","functionType":"Action","name":"Move","sentence":"Move _PARAM0_ on the path: _PARAM2_ repeated _PARAM3_ times in _PARAM4_ seconds with _PARAM5_ easing","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathName"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"PathName\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyDuration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Duration\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyEasing"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"Easing\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyRepetitionCount"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"RepetitionCount\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldGoBack"},"parameters":["Object","Behavior","no"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathOriginX"},"parameters":["Object","Behavior","=","Object.X()"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathOriginY"},"parameters":["Object","Behavior","=","Object.Y()"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathAngle"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPathScale"},"parameters":["Object","Behavior","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::InitializeMovement"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"},{"description":"Path name","longDescription":"The path can be define with the \"Append curve\" action.","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Number of repetitions","name":"RepetitionCount","type":"expression"},{"description":"Duration in seconds","name":"Duration","type":"expression"},{"description":"Easing","name":"Easing","supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Move the object by following a path and go back.","fullName":"Move back and forth","functionType":"Action","name":"MoveAndGoBack","sentence":"Move back and forth _PARAM0_ on the path: _PARAM2_ repeated _PARAM3_ times  in _PARAM4_ seconds with _PARAM5_ easing, wait _PARAM6_ seconds before going back and loop: _PARAM7_ ","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::Move"},"parameters":["Object","Behavior","GetArgumentAsString(\"PathName\")","GetArgumentAsNumber(\"RepetitionCount\")","GetArgumentAsNumber(\"Duration\")","GetArgumentAsString(\"Easing\")","GetArgumentAsNumber(\"DestinationX\")"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldGoBack"},"parameters":["Object","Behavior","yes"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyPauseDurationBeforeGoingBack"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"WaitBeforeGoingBackDuration\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldLoop\""]}],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","="]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldLoop\""]}],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","yes"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"},{"description":"Path name","longDescription":"The path can be define with the \"Append curve\" action.","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Number of repetitions","name":"RepetitionCount","type":"expression"},{"description":"Duration in seconds","name":"Duration","type":"expression"},{"description":"Easing","name":"Easing","supplementaryInformation":"[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]","type":"stringWithSelector"},{"description":"Duration to wait before going back","name":"WaitBeforeGoingBackDuration","type":"expression"},{"description":"Loop","name":"ShouldLoop","type":"yesorno"}],"objectGroups":[]},{"description":"Check if the object has reached one of the 2 ends of the path.","fullName":"Reached an end","functionType":"Condition","name":"HasReachedAnEnd","sentence":"_PARAM0_ reached an end of the path","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Behavior::Progress()","=","Object.Behavior::PropertyTarget()"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object has finished to move on the path.","fullName":"Finished to move","functionType":"Condition","name":"HasFinishedToMove","sentence":"_PARAM0_ has finished to move","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyShouldLoop"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::And"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::TweenPathMovement::HasReachedAnEnd"},"parameters":["Object","Behavior",""]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"CurvedMovement::TweenPathMovement::PropertyShouldGoBack"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::And"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyShouldGoBack"},"parameters":["Object","Behavior"]},{"type":{"inverted":true,"value":"CurvedMovement::TweenPathMovement::PropertyIsGoingBack"},"parameters":["Object","Behavior"]}]}]}]}]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the angle of movement on its path.","fullName":"Movement angle","functionType":"Expression","name":"MovementAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyPathAngle() + CurvedMovement::PathAngle(Object.Behavior::PropertyPathName(), Object.Behavior::RepeatedPathPosition()) + Object.Behavior::PropertyRotationOffset() + Object.Behavior::BackOrForthAngle()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Draw the object trajectory.","fullName":"Draw the trajectory","functionType":"Action","group":"Debug","name":"DrawDebug","sentence":"Draw trajectory of _PARAM0_ on _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::UseRelativeCoordinates"},"parameters":["ShapePainter","no"]},{"type":{"value":"PrimitiveDrawing::FillOpacity"},"parameters":["ShapePainter","=","0"]},{"type":{"value":"PrimitiveDrawing::OutlineSize"},"parameters":["ShapePainter","=","1"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = objects[0].getBehavior(behaviorName);","","/** @type {gdjs.ShapePainterRuntimeObject} */","const shapePainter = eventsFunctionContext.getObjects(\"ShapePainter\")[0];","if (!shapePainter) {","    return ;","}","","/** @type {string} */","const pathName = behavior._getPathName();","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","const curvedPath = curvedPaths.get(pathName);","if (!curvedPath) {","    return ;","}","","/** @type {gdjs.AffineTransformation} */","const transformation = behavior.curvedMovementTransformation;","let point = behavior.curvedMovementWorkingPoint || [0, 0];","","let originX = behavior._getPathOriginX();","let originY = behavior._getPathOriginY();","shapePainter.drawPathMoveTo(originX, originY);","const repetitionCount = behavior._getRepetitionCount();","let previousLastTargetX = 0;","let previousLastTargetY = 0;","const endX = curvedPath.getEndX();","const endY = curvedPath.getEndY();","for (let repetitionIndex = 0; repetitionIndex < repetitionCount; repetitionIndex++) {","  for (let curveIndex = 0; curveIndex < curvedPath.curves.length; curveIndex++) {","    point[0] = curvedPath.getFirstControlX(curveIndex) + previousLastTargetX;","    point[1] = curvedPath.getFirstControlY(curveIndex) + previousLastTargetY;","    if (transformation) {","      point = curvedPath.transformPosition(point[0], point[1], transformation, point);","    }","    const firstControlX = point[0];","    const firstControlY = point[1];","","    point[0] = curvedPath.getSecondControlX(curveIndex) + previousLastTargetX;","    point[1] = curvedPath.getSecondControlY(curveIndex) + previousLastTargetY;","    if (transformation) {","      point = curvedPath.transformPosition(point[0], point[1], transformation, point);","    }","    const secondControlX = point[0];","    const secondControlY = point[1];","","    point[0] = curvedPath.getTargetX(curveIndex) + previousLastTargetX;","    point[1] = curvedPath.getTargetY(curveIndex) + previousLastTargetY;","    if (transformation) {","      point = curvedPath.transformPosition(point[0], point[1], transformation, point);","    }","    const targetX = point[0];","    const targetY = point[1];","","    shapePainter.drawPathBezierCurveTo(","      firstControlX + originX,","      firstControlY + originY,","      secondControlX + originX,","      secondControlY + originY,","      targetX + originX,","      targetY + originY);","  }","  previousLastTargetX += endX;","  previousLastTargetY += endY;","}",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"},{"description":"Shape painter","name":"ShapePainter","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"objectList"}],"objectGroups":[]},{"description":"Change the transformation to apply to the path.","fullName":"Path transformation","functionType":"Action","name":"SetTransformation","private":true,"sentence":"Change the path trasformation of _PARAM0_ to origin _PARAM2_; _PARAM3_ scale by _PARAM4_ and a rotation of _PARAM5_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = objects[0].getBehavior(behaviorName);","","const scale = eventsFunctionContext.getArgument(\"Scale\");","const angle = eventsFunctionContext.getArgument(\"Angle\");","","/** @type {gdjs.AffineTransformation} */","const transformation = behavior.curvedMovementTransformation || new gdjs.AffineTransformation()","transformation.setToScale(scale, scale);","transformation.rotate(angle / 180 * Math.PI);","","behavior.curvedMovementTransformation = transformation;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"},{"description":"Origin X","name":"OriginX","type":"expression"},{"description":"Origin Y","name":"OriginY","type":"expression"},{"description":"Scale","name":"Scale","type":"expression"},{"description":"Angle","name":"Angle","type":"expression"}],"objectGroups":[]},{"description":"Initialize the movement state.","fullName":"Initialize the movement","functionType":"Action","name":"InitializeMovement","private":true,"sentence":"Initialize the movement of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyViewpoint"},"parameters":["Object","Behavior","=","\"Top-down\""]}],"actions":[{"type":{"value":"CurvedMovement::SetSpeedScaleY"},"parameters":["","Object.Behavior::PropertyPathName()","1","0.5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyViewpoint"},"parameters":["Object","Behavior","=","\"Isometry 2:1 (26.565°)\""]}],"actions":[{"type":{"value":"CurvedMovement::SetSpeedScaleY"},"parameters":["","Object.Behavior::PropertyPathName()","0.5","0.5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::TweenPathMovement::SetTransformation"},"parameters":["Object","Behavior","Object.X()","Object.Y()","Object.Behavior::PropertyPathScale()","Object.Behavior::PropertyPathAngle()",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ResetObjectTimer"},"parameters":["Object","\"__CurvedMovement.Time\""]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyIsGoingBack"},"parameters":["Object","Behavior",""]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyOrigin"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"CurvedMovement::TweenPathMovement::SetPropertyTarget"},"parameters":["Object","Behavior","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyFlipXToGoBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FlipX"},"parameters":["Object","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyFlipYToGoBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"FlipY"},"parameters":["Object","no"]}]}],"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the number of repetitions between the current position and the origin.","fullName":"Repetition done","functionType":"Expression","name":"RepetitionDone","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["floor(Object.Behavior::Progress() * Object.Behavior::PropertyRepetitionCount())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the position on one repeated path.","fullName":"Path position","functionType":"Expression","name":"RepeatedPathPosition","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PathLength() * mod(Object.Behavior::Progress(), 1 / Object.Behavior::PropertyRepetitionCount()) * Object.Behavior::PropertyRepetitionCount()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the progress on the full path from 0 to 1, where 0 means the origin and 1 the end.","fullName":"Progress","functionType":"Expression","name":"Progress","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Tween::Ease(Object.Behavior::PropertyEasing(), Object.Behavior::PropertyOrigin(), Object.Behavior::PropertyTarget(),  min(1, Object.ObjectTimerElapsedTime(\"__CurvedMovement.Time\") / Object.Behavior::PropertyDuration()))"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the length of the path (one repetition only).","fullName":"Path length","functionType":"Expression","name":"PathLength","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::PathLength(Object.Behavior::PropertyPathName())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the displacement on X axis of the path end.","fullName":"Path end X","functionType":"Expression","name":"PathEndX","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::PathEndX(Object.Behavior::PropertyPathName())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the displacement on Y axis of the path end.","fullName":"Path end Y","functionType":"Expression","name":"PathEndY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::PathEndY(Object.Behavior::PropertyPathName())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the speed scale on Y axis of the path.","fullName":"Path speed scale Y","functionType":"Expression","name":"PathSpeedScaleY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::SpeedScaleY(Object.Behavior::PropertyPathName())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the angle to use when the object is going back or not.","fullName":"Back or forth angle","functionType":"Expression","name":"BackOrForthAngle","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::TweenPathMovement::PropertyIsGoingBack"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["180"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","supplementaryInformation":"Sprite","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::TweenPathMovement","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"true","type":"Boolean","label":"Rotate object","description":"","group":"","extraInformation":[],"name":"Rotation"},{"value":"0","type":"Number","unit":"DegreeAngle","label":"Rotation offset","description":"","group":"","extraInformation":[],"name":"RotationOffset"},{"value":"","type":"Boolean","label":"Flip on X to go back","description":"","group":"","extraInformation":[],"name":"FlipXToGoBack"},{"value":"","type":"Boolean","label":"Flip on Y to go back","description":"","group":"","extraInformation":[],"name":"FlipYToGoBack"},{"value":"1","type":"Number","label":"Speed scale","description":"","group":"","extraInformation":[],"hidden":true,"name":"SpeedScale"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathOriginX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathOriginY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Target"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Origin"},{"value":"","type":"String","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathName"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Duration"},{"value":"","type":"String","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Easing"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DrawingElementIndex"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"X"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Y"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathAngle"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathScale"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"RepetitionCount"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ShouldGoBack"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ShouldLoop"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"RepetitionDoneCount"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsGoingBack"},{"value":"0","type":"Number","label":"Pause duration before going back","description":"","group":"","extraInformation":[],"hidden":true,"name":"PauseDurationBeforeGoingBack"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DrawingPathOriginX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DrawingPathOriginY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DebugLineStrokeWidth"},{"value":"Top-Down","type":"Choice","label":"Viewpoint","description":"","group":"","extraInformation":["Top-Down","Isometry 2:1 (26.565°)"],"name":"Viewpoint"}],"sharedPropertyDescriptors":[]},{"description":"Move objects on curved paths at a given speed.","fullName":"Movement on a curve (speed-based)","name":"SpeedPathMovement","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Move on the path","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::CanMoveFurther"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPreviousSpeed"},"parameters":["Object","Behavior","=","Object.Behavior::PropertySpeed()"]}],"events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update speed"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior","!=","Object.Behavior::PropertyTargetedSpeed()"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertySpeed"},"parameters":["Object","Behavior","+","Object.Behavior::PropertyAcceleration() * TimeDelta()"]}],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["sign(Object.Behavior::PropertyAcceleration())","!=","sign(Object.Behavior::PropertyTargetedSpeed() - Object.Behavior::PropertySpeed())"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertySpeed"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyTargetedSpeed()"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyAcceleration"},"parameters":["Object","Behavior","=","0"]}]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update the position on the path (the current length) with a Verlet integration."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPositionOnPath"},"parameters":["Object","Behavior","+","(Object.Behavior::PropertyPreviousSpeed() + Object.Behavior::PropertySpeed()) * TimeDelta() / 2",""]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"It's useful to know which way to look at when the speed reached 0."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior","<","0"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyIsLookingBack"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior",">","0"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyIsLookingBack"},"parameters":["Object","Behavior","no"]}]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Change the path followed by an object.","fullName":"Follow a path","functionType":"Action","name":"SetPath","sentence":"_PARAM0_ follow the path: _PARAM2_ repeated _PARAM3_ times and loop: _PARAM4_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathName"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"PathName\")"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyRepetitionCount"},"parameters":["Object","Behavior","=","min(1, GetArgumentAsNumber(\"RepetitionCount\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldLoop\""]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldLoop\""]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathOriginX"},"parameters":["Object","Behavior","=","Object.X()"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathOriginY"},"parameters":["Object","Behavior","=","Object.Y()"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathAngle"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathScale"},"parameters":["Object","Behavior","=","1"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::InitializeMovement"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Path name","longDescription":"The path can be define with the \"Append curve\" action.","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Number of repetitions","name":"RepetitionCount","type":"expression"},{"description":"Loop","name":"ShouldLoop","type":"yesorno"}],"objectGroups":[]},{"description":"Change the path followed by an object to reach a position.","fullName":"Follow a path to a position","functionType":"Action","name":"SetPathTo","sentence":"_PARAM0_ follow the path _PARAM2_ repeated _PARAM3_ times to reach _PARAM5_ ; _PARAM6_ and loop: _PARAM4_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"When the path is close or empty, there is no way to reach a destination"},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CurvedMovement::IsClosed"},"parameters":["","GetArgumentAsString(\"PathName\")",""]}],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathName"},"parameters":["Object","Behavior","=","GetArgumentAsString(\"PathName\")"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyRepetitionCount"},"parameters":["Object","Behavior","=","min(1, GetArgumentAsNumber(\"RepetitionCount\"))"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldLoop\""]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","no"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"GetArgumentAsBoolean"},"parameters":["\"ShouldLoop\""]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyShouldLoop"},"parameters":["Object","Behavior","yes"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathOriginX"},"parameters":["Object","Behavior","=","Object.X()"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathOriginY"},"parameters":["Object","Behavior","=","Object.Y()"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathAngle"},"parameters":["Object","Behavior","=","AngleBetweenPositions(Object.X(), Object.Y(), GetArgumentAsNumber(\"DestinationX\"), Object.Y() + (GetArgumentAsNumber(\"DestinationY\") - Object.Y()) / Object.Behavior::PathSpeedScaleY()) - AngleBetweenPositions(0, 0, Object.Behavior::PathEndX(),  Object.Behavior::PathEndY() / Object.Behavior::PathSpeedScaleY())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyPathScale"},"parameters":["Object","Behavior","=","DistanceBetweenPositions(Object.X(), Object.Y(), GetArgumentAsNumber(\"DestinationX\"), Object.Y() + (GetArgumentAsNumber(\"DestinationY\") - Object.Y()) / Object.Behavior::PathSpeedScaleY()) / DistanceBetweenPositions(0, 0, Object.Behavior::PathEndX(), Object.Behavior::PathEndY() / Object.Behavior::PathSpeedScaleY()) / GetArgumentAsNumber(\"RepetitionCount\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::InitializeMovement"},"parameters":["Object","Behavior",""]}]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Path name","longDescription":"The path can be define with the \"Append curve\" action.","name":"PathName","supplementaryInformation":"sceneBezierCurve","type":"identifier"},{"description":"Number of repetitions","name":"RepetitionCount","type":"expression"},{"description":"Loop","name":"ShouldLoop","type":"yesorno"},{"description":"Destination X","name":"DestinationX","type":"expression"},{"description":"Destination Y","name":"DestinationY","type":"expression"}],"objectGroups":[]},{"description":"the length between the trajectory origin and the current position without counting the loops.","fullName":"Position on the loop","functionType":"ExpressionAndCondition","name":"PositionOnLoop","sentence":"the length from the trajectory origin in the current loop","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["mod(Object.Behavior::PropertyCurrentLength(), Object.Behavior::TotalLength())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"the number time the object loop the trajectory.","fullName":"Current loop","functionType":"ExpressionAndCondition","name":"Loop","sentence":"the current loop","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["ceil(Object.Behavior::PropertyCurrentLength() / Object.Behavior::TotalLength())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"the length between the trajectory origin and the current position counting the loops.","fullName":"Position on the path","functionType":"ExpressionAndCondition","name":"PositionOnPath","sentence":"the length from the trajectory origin counting the loops","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyCurrentLength()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Change the position of the object on the path.","fullName":"Position on the path","functionType":"ActionWithOperator","getterName":"PositionOnPath","name":"SetPositionOnPath","sentence":"Change the position of _PARAM0_ on the path at the length _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CurvedMovement::SpeedPathMovement::PropertyShouldLoop"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyCurrentLength"},"parameters":["Object","Behavior","=","clamp(GetArgumentAsNumber(\"Value\"), 0, Object.Behavior::TotalLength())"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyShouldLoop"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyCurrentLength"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::UpdatePosition"},"parameters":["Object","Behavior",""]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyRotation"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"SetAngle"},"parameters":["Object","=","Object.Behavior::PropertyPathAngle() + CurvedMovement::PathAngle(Object.Behavior::PropertyPathName(), Object.Behavior::RepeatedPathPosition()) + Object.Behavior::PropertyRotationOffset() + Object.Behavior::BackOrForthAngle()"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Length","name":"Length","type":"expression"}],"objectGroups":[]},{"description":"Set the the object on the path according to the current length.","fullName":"Update position","functionType":"Action","name":"UpdatePosition","private":true,"sentence":"Update the position of _PARAM0_ on the path","events":[{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const object = objects[0];","const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = object.getBehavior(behaviorName);","","/** @type {string} */","const pathName = behavior._getPathName();","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","const curvedPath = curvedPaths.get(pathName);","if (!curvedPath) {","    return;","}","","behavior.workingTransformation = behavior.workingTransformation || new gdjs.AffineTransformation();","/** @type {gdjs.AffineTransformation} */","const transformation = behavior.workingTransformation;","","const repetitionDone = behavior.RepetitionDone();","transformation.setToTranslation(","    repetitionDone * behavior.PathEndX(),","    repetitionDone * behavior.PathEndY() / behavior.PathSpeedScaleY()",");","transformation.preConcatenate(behavior.curvedMovementTransformation);","","/** @type {number} */","const length = behavior.RepeatedPathPosition();","/** @type {[number, number]} */","const point = curvedPath.getTransformedPosition(length, transformation);","const x = point[0] + behavior._getPathOriginX();","const y = point[1] + behavior._getPathOriginY();","object.setPosition(x, y);",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Check if the length from the trajectory origin is lesser than a value.","fullName":"Current length","functionType":"Condition","name":"CheckPositionOnPath","private":true,"sentence":"_PARAM0_ is less than _PARAM2_ pixels away from the trajectory origin","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::CompareNumbers"},"parameters":["Object.Behavior::PositionOnLoop()","<","GetArgumentAsNumber(\"Length\")"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Length from the trajectory origin (in pixels)","name":"Length","type":"expression"}],"objectGroups":[]},{"description":"Check if the object has reached the origin position of the path.","fullName":"Reached path origin","functionType":"Condition","name":"HasReachedOrigin","sentence":"_PARAM0_ reached the path beginning","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyCurrentLength"},"parameters":["Object","Behavior","=","0"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior","<=","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object has reached the target position of the path.","fullName":"Reached path target","functionType":"Condition","name":"HasReachedTarget","sentence":"_PARAM0_ reached the path target","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyCurrentLength"},"parameters":["Object","Behavior","=","Object.Behavior::TotalLength()"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior",">=","0"]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object has reached one of the 2 ends of the path.","fullName":"Reach an end","functionType":"Condition","name":"HasReachedAnEnd","sentence":"_PARAM0_ reached an end of the path","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::HasReachedTarget"},"parameters":["Object","Behavior",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::HasReachedOrigin"},"parameters":["Object","Behavior",""]}]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Check if the object can still move in the current direction.","fullName":"Can move further","functionType":"Condition","name":"CanMoveFurther","sentence":"_PARAM0_ can move further on its path","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior","!=","0"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyAcceleration"},"parameters":["Object","Behavior","!=","0"]}]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyShouldLoop"},"parameters":["Object","Behavior"]},{"type":{"value":"BuiltinCommonInstructions::And"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"CurvedMovement::SpeedPathMovement::HasReachedTarget"},"parameters":["Object","Behavior",""]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior",">","0"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyAcceleration"},"parameters":["Object","Behavior",">","0"]}]}]},{"type":{"value":"BuiltinCommonInstructions::And"},"parameters":[],"subInstructions":[{"type":{"inverted":true,"value":"CurvedMovement::SpeedPathMovement::HasReachedOrigin"},"parameters":["Object","Behavior",""]},{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior","<","0"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyAcceleration"},"parameters":["Object","Behavior","<","0"]}]}]}]}],"actions":[{"type":{"value":"SetReturnBoolean"},"parameters":["True"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the angle of movement on its path.","fullName":"Movement angle","functionType":"Expression","name":"MovementAngle","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyPathAngle() + CurvedMovement::PathAngle(Object.Behavior::PropertyPathName(), Object.Behavior::RepeatedPathPosition()) + Object.Behavior::PropertyRotationOffset() + Object.Behavior::BackOrForthAngle()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"the speed of the object.","fullName":"Speed","functionType":"ExpressionAndCondition","name":"Speed","sentence":"the speed","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertySpeed()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Change the current speed of the object.","fullName":"Speed","functionType":"ActionWithOperator","getterName":"Speed","name":"SetSpeed","sentence":"Change the speed of _PARAM0_ to _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertySpeed"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyTargetedSpeed"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Value\")"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Speed (in pixels per second)","name":"Speed","type":"expression"}],"objectGroups":[]},{"description":"Make an object accelerate until it reaches a given speed.","fullName":"Accelerate","functionType":"Action","name":"AccelarateAt","sentence":"_PARAM0_ accelerate at _PARAM3_ to reach the speed of _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyTargetedSpeed"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"TargetedSpeed\")"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyAcceleration"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"Acceleration\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::HasReachedAnEnd"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertySpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Targeted speed (in pixels per second)","name":"TargetedSpeed","type":"expression"},{"description":"Acceleration (in pixels per second per second)","name":"Acceleration","type":"expression"}],"objectGroups":[]},{"description":"Make an object accelerate to reaches a speed in a given amount of time.","fullName":"Accelerate during","functionType":"Action","name":"AccelarateDuring","sentence":"_PARAM0_ accelerate during _PARAM3_ seconds to reach the speed of _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyTargetedSpeed"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"TargetedSpeed\")"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertyAcceleration"},"parameters":["Object","Behavior","=","(GetArgumentAsNumber(\"TargetedSpeed\") - Object.Behavior::PropertySpeed()) / GetArgumentAsNumber(\"Duration\")"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::HasReachedAnEnd"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPropertySpeed"},"parameters":["Object","Behavior","=","0"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Targeted speed (in pixels per second)","name":"TargetedSpeed","type":"expression"},{"description":"Duration (in seconds)","name":"Duration","type":"expression"}],"objectGroups":[]},{"description":"Draw the object trajectory.","fullName":"Draw the trajectory","functionType":"Action","group":"Debug","name":"DrawDebug","sentence":"Draw trajectory of _PARAM0_ on _PARAM2_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"PrimitiveDrawing::UseRelativeCoordinates"},"parameters":["ShapePainter","no"]},{"type":{"value":"PrimitiveDrawing::FillOpacity"},"parameters":["ShapePainter","=","0"]},{"type":{"value":"PrimitiveDrawing::OutlineSize"},"parameters":["ShapePainter","=","ShapePainter.OutlineSize()"]}]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = objects[0].getBehavior(behaviorName);","","/** @type {gdjs.ShapePainterRuntimeObject} */","const shapePainter = eventsFunctionContext.getObjects(\"ShapePainter\")[0];","if (!shapePainter) {","    return ;","}","","/** @type {string} */","const pathName = behavior._getPathName();","/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */","const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;","const curvedPath = curvedPaths.get(pathName);","if (!curvedPath) {","    return ;","}","","/** @type {gdjs.AffineTransformation} */","const transformation = behavior.curvedMovementTransformation;","let point = behavior.curvedMovementWorkingPoint || [0, 0];","","let originX = behavior._getPathOriginX();","let originY = behavior._getPathOriginY();","shapePainter.drawPathMoveTo(originX, originY);","const repetitionCount = behavior._getRepetitionCount();","let previousLastTargetX = 0;","let previousLastTargetY = 0;","const endX = curvedPath.getEndX();","const endY = curvedPath.getEndY();","for (let repetitionIndex = 0; repetitionIndex < repetitionCount; repetitionIndex++) {","  for (let curveIndex = 0; curveIndex < curvedPath.curves.length; curveIndex++) {","    point[0] = curvedPath.getFirstControlX(curveIndex) + previousLastTargetX;","    point[1] = curvedPath.getFirstControlY(curveIndex) + previousLastTargetY;","    if (transformation) {","      point = curvedPath.transformPosition(point[0], point[1], transformation, point);","    }","    const firstControlX = point[0];","    const firstControlY = point[1];","","    point[0] = curvedPath.getSecondControlX(curveIndex) + previousLastTargetX;","    point[1] = curvedPath.getSecondControlY(curveIndex) + previousLastTargetY;","    if (transformation) {","      point = curvedPath.transformPosition(point[0], point[1], transformation, point);","    }","    const secondControlX = point[0];","    const secondControlY = point[1];","","    point[0] = curvedPath.getTargetX(curveIndex) + previousLastTargetX;","    point[1] = curvedPath.getTargetY(curveIndex) + previousLastTargetY;","    if (transformation) {","      point = curvedPath.transformPosition(point[0], point[1], transformation, point);","    }","    const targetX = point[0];","    const targetY = point[1];","","    shapePainter.drawPathBezierCurveTo(","      firstControlX + originX,","      firstControlY + originY,","      secondControlX + originX,","      secondControlY + originY,","      targetX + originX,","      targetY + originY);","  }","  previousLastTargetX += endX;","  previousLastTargetY += endY;","}",""],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Shape painter","name":"ShapePainter","supplementaryInformation":"PrimitiveDrawing::Drawer","type":"objectList"}],"objectGroups":[]},{"description":"Change the transformation to apply to the path.","fullName":"Path transformation","functionType":"Action","name":"SetTransformation","private":true,"sentence":"Change the path trasformation of _PARAM0_ to origin _PARAM2_; _PARAM3_ scale by _PARAM4_ and a rotation of _PARAM5_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[]},{"type":"BuiltinCommonInstructions::JsCode","inlineCode":["const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");","const behavior = objects[0].getBehavior(behaviorName);","","const scale = eventsFunctionContext.getArgument(\"Scale\");","const angle = eventsFunctionContext.getArgument(\"Angle\");","","/** @type {gdjs.AffineTransformation} */","const transformation = behavior.curvedMovementTransformation || new gdjs.AffineTransformation()","transformation.setToScale(scale, scale);","transformation.rotate(angle / 180 * Math.PI);","","behavior.curvedMovementTransformation = transformation;"],"parameterObjects":"Object","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"},{"description":"Origin X","name":"OriginX","type":"expression"},{"description":"Origin Y","name":"OriginY","type":"expression"},{"description":"Scale","name":"Scale","type":"expression"},{"description":"Angle","name":"Angle","type":"expression"}],"objectGroups":[]},{"description":"Initialize the movement state.","fullName":"Initialize the movement","functionType":"Action","name":"InitializeMovement","private":true,"sentence":"Initialize the movement of _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyViewpoint"},"parameters":["Object","Behavior","=","\"Top-down\""]}],"actions":[{"type":{"value":"CurvedMovement::SetSpeedScaleY"},"parameters":["","Object.Behavior::PropertyPathName()","1","0.5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyViewpoint"},"parameters":["Object","Behavior","=","\"Isometry 2:1 (26.565°)\""]}],"actions":[{"type":{"value":"CurvedMovement::SetSpeedScaleY"},"parameters":["","Object.Behavior::PropertyPathName()","0.5","0.5"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::SetTransformation"},"parameters":["Object","Behavior","Object.X()","Object.Y()","Object.Behavior::PropertyPathScale()","Object.Behavior::PropertyPathAngle()",""]},{"type":{"value":"CurvedMovement::SpeedPathMovement::SetPositionOnPath"},"parameters":["Object","Behavior","=","0",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the position on one repeated path.","fullName":"Repeated path position","functionType":"Expression","name":"RepeatedPathPosition","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CurvedMovement::SpeedPathMovement::HasReachedTarget"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["mod(Object.Behavior::PositionOnLoop(), Object.Behavior::PathLength())"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"When the object reaches the target, it must stay on the last repetition end and not at the start of a new one."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::HasReachedTarget"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PathLength()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the number of repetitions between the current position and the origin.","fullName":"Repetition done","functionType":"Expression","name":"RepetitionDone","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"CurvedMovement::SpeedPathMovement::HasReachedTarget"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["floor(Object.Behavior::PositionOnLoop() / Object.Behavior::PathLength())"]}]},{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"When the object reaches the target, it must stay on the last repetition end and not at the start of a new one."},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::HasReachedTarget"},"parameters":["Object","Behavior",""]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyRepetitionCount() - 1"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the progress on the full path from 0 to 1, where 0 means the origin and 1 the end.","fullName":"Progress","functionType":"Expression","name":"Progress","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["mod(Object.Behavior::PositionOnLoop(), Object.Behavior::TotalLength())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the length of the path (one repetition only).","fullName":"Path length","functionType":"Expression","name":"PathLength","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::PathLength(Object.Behavior::PropertyPathName())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the length of the complete trajectory (without looping).","fullName":"Total length","functionType":"Expression","name":"TotalLength","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::PathLength(Object.Behavior::PropertyPathName()) * Object.Behavior::PropertyRepetitionCount()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the displacement on X axis of the path end.","fullName":"Path end X","functionType":"Expression","name":"PathEndX","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::PathEndX(Object.Behavior::PropertyPathName())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the displacement on Y axis of the path end.","fullName":"Path end Y","functionType":"Expression","name":"PathEndY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::PathEndY(Object.Behavior::PropertyPathName())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the speed scale on Y axis of the path.","fullName":"Path speed scale Y","functionType":"Expression","name":"PathSpeedScaleY","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["CurvedMovement::SpeedScaleY(Object.Behavior::PropertyPathName())"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the angle to use when the object is going back or not.","fullName":"Back or forth angle","functionType":"Expression","name":"BackOrForthAngle","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"BuiltinCommonInstructions::Or"},"parameters":[],"subInstructions":[{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertySpeed"},"parameters":["Object","Behavior","<","0"]},{"type":{"value":"CurvedMovement::SpeedPathMovement::PropertyIsLookingBack"},"parameters":["Object","Behavior"]}]}],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["180"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the path origin on X axis of the object.","fullName":"Path origin X","functionType":"Expression","group":"Movement on a curve (speed-based) configuration","name":"PathOriginX","sentence":"the path origin on X axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyPathOriginX()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]},{"description":"Return the path origin on Y axis of the object.","fullName":"Path origin Y","functionType":"Expression","group":"Movement on a curve (speed-based) configuration","name":"PathOriginY","sentence":"the path origin on Y axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Behavior::PropertyPathOriginY()"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"CurvedMovement::SpeedPathMovement","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"true","type":"Boolean","label":"Rotate object","description":"","group":"Rotation","extraInformation":[],"name":"Rotation"},{"value":"0","type":"Number","unit":"DegreeAngle","label":"Rotation offset","description":"","group":"Rotation","extraInformation":[],"name":"RotationOffset"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Speed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathOriginX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathOriginY"},{"value":"","type":"String","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathName"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TargetedSpeed"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Acceleration"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DrawingElementIndex"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"X"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"Y"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathAngle"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PathScale"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"RepetitionCount"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"ShouldLoop"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DrawingPathOriginX"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DrawingPathOriginY"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"DebugLineStrokeWidth"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"PreviousSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CurrentLength"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsLookingBack"},{"value":"Top-Down","type":"Choice","label":"Viewpoint","description":"","group":"","extraInformation":["Top-Down","Isometry 2:1 (26.565°)"],"name":"Viewpoint"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]},{"author":"","category":"Camera","extensionNamespace":"","fullName":"Third person camera","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSI3LDEwIDEsMTMgNywxNiAxMywxMyAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjEsMTMgMSwyMCA3LDIzIDEzLDIwIDEzLDEzICIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjciIHkxPSIxNiIgeDI9IjciIHkyPSIyMyIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjMxIiB5MT0iMTYiIHgyPSIyMSIgeTI9IjgiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyMSIgeTE9IjI0IiB4Mj0iMzEiIHkyPSIxNiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIyLjcsMjIuNkMyMCwyMS43LDE4LDE5LjEsMTgsMTZjMC0zLjEsMi01LjcsNC43LTYuNiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE5LjgsMTEuM2MxLjQsMS4xLDIuMiwyLjgsMi4yLDQuN2MwLDEuOS0wLjksMy42LTIuMiw0LjciLz4NCjwvc3ZnPg0K","name":"ThirdPersonCamera","previewIconUrl":"https://asset-resources.gdevelop.io/public-resources/Icons/Line Hero Pack/Master/SVG/Virtual Reality/94e95d2c318e1f3dc7151a351024e13c574e1e44669c6696aa107d60230073f6_Virtual Reality_3d_vision_eye_vr.svg","shortDescription":"Move the camera  to look at an object from a given distance.","version":"1.2.1","description":["Move the camera  to look at an object from a given distance with a rotation and an elevation angles.","","It can be useful for:","- Third person camera","- Isometric-like point of view",""],"origin":{"identifier":"ThirdPersonCamera","name":"gdevelop-extension-store"},"tags":["3d","camera"],"authorIds":["IWykYNRvhCZBN3vEgKEbBPOR3Oc2"],"dependencies":[],"eventsFunctions":[{"description":"Move the camera to look at a position from a distance.","fullName":"Look at a position from a distance (deprecated)","functionType":"Action","name":"LookFromDistanceAtPosition","private":true,"sentence":"Move the camera of _PARAM6_ to look at _PARAM1_; _PARAM2_ from _PARAM3_ pixels with a rotation of _PARAM4_° and an elevation of _PARAM5_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetCameraCenterX"},"parameters":["","=","GetArgumentAsNumber(\"PositionX\") + GetArgumentAsNumber(\"Distance\") * cos(ToRad(GetArgumentAsNumber(\"RotationAngle\") + 90)) * cos(ToRad(GetArgumentAsNumber(\"ElevationAngle\")))","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"SetCameraCenterY"},"parameters":["","=","GetArgumentAsNumber(\"PositionY\") + GetArgumentAsNumber(\"Distance\") * sin(ToRad(GetArgumentAsNumber(\"RotationAngle\") + 90)) * cos(ToRad(GetArgumentAsNumber(\"ElevationAngle\")))","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","GetArgumentAsNumber(\"Distance\") * sin(ToRad(GetArgumentAsNumber(\"ElevationAngle\")))","GetArgumentAsString(\"Layer\")",""]},{"type":{"value":"Scene3D::TurnCameraTowardPosition"},"parameters":["","GetArgumentAsNumber(\"PositionX\")","GetArgumentAsNumber(\"PositionY\")","0","GetArgumentAsString(\"Layer\")","",""]}]}],"parameters":[{"description":"Position on X axis","name":"PositionX","type":"expression"},{"description":"Position on Y axis","name":"PositionY","type":"expression"},{"description":"Distance","name":"Distance","type":"expression"},{"description":"Rotation angle (around Z axis)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (around Y axis)","name":"ElevationAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Move the camera to look at an object from a distance.","fullName":"Look at an object from a distance (deprecated)","functionType":"Action","name":"LookFromDistanceAtObject","private":true,"sentence":"Move the camera of _PARAM5_ to look at _PARAM1_ from _PARAM2_ pixels with a rotation of _PARAM3_° and an elevation of _PARAM4_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::LookFromDistanceAtPosition"},"parameters":["","Object.CenterX()","Object.CenterY()","GetArgumentAsNumber(\"Distance\")","GetArgumentAsNumber(\"RotationAngle\")","GetArgumentAsNumber(\"ElevationAngle\")","GetArgumentAsString(\"Layer\")",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"Distance","name":"Distance","type":"expression"},{"description":"Rotation angle (around Z axis)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (around Y axis)","name":"ElevationAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Move the camera to look at a position from a distance.","fullName":"Look at a position from a distance","functionType":"Action","name":"LookFromDistanceAtPosition3D","sentence":"Move the camera of _PARAM7_ to look at _PARAM1_; _PARAM2_; _PARAM3_ from _PARAM4_ pixels with a rotation of _PARAM5_° and an elevation of _PARAM6_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetCameraCenterX"},"parameters":["","=","PositionX + Distance * cos(ToRad(RotationAngle + 90)) * cos(ToRad(ElevationAngle))","Layer",""]},{"type":{"value":"SetCameraCenterY"},"parameters":["","=","PositionY + Distance * sin(ToRad(RotationAngle + 90)) * cos(ToRad(ElevationAngle))","Layer",""]},{"type":{"value":"Scene3D::SetCameraZ"},"parameters":["","=","PositionZ + Distance * sin(ToRad(ElevationAngle))","Layer",""]},{"type":{"value":"Scene3D::SetCameraRotationX"},"parameters":["","=","90 - ElevationAngle","Layer",""]},{"type":{"value":"Scene3D::SetCameraRotationY"},"parameters":["","=","0","Layer",""]},{"type":{"value":"SetCameraAngle"},"parameters":["","=","RotationAngle","Layer",""]}]}],"parameters":[{"description":"Position on X axis","name":"PositionX","type":"expression"},{"description":"Position on Y axis","name":"PositionY","type":"expression"},{"description":"Position on Z axis","name":"PositionZ","type":"expression"},{"description":"Distance","name":"Distance","type":"expression"},{"description":"Rotation angle (around Z axis)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (around Y axis)","name":"ElevationAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]},{"description":"Move the camera to look at an object from a distance.","fullName":"Look at an object from a distance","functionType":"Action","group":"Layers and cameras","name":"LookFromDistanceAtObject3D","sentence":"Move the camera of _PARAM6_ to look at _PARAM1_ from _PARAM3_ pixels with a rotation of _PARAM4_° and an elevation of _PARAM5_°","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::LookFromDistanceAtPosition3D"},"parameters":["","Object.CenterX()","Object.CenterY()","Object.Object3D::CenterZ()","Distance","RotationAngle","ElevationAngle","Layer",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"objectList"},{"description":"3D capability","name":"Object3D","supplementaryInformation":"Scene3D::Base3DBehavior","type":"behavior"},{"description":"Distance","name":"Distance","type":"expression"},{"description":"Rotation angle (around Z axis)","name":"RotationAngle","type":"expression"},{"description":"Elevation angle (around Y axis)","name":"ElevationAngle","type":"expression"},{"description":"Layer","name":"Layer","type":"layer"}],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"Smoothly follow an object at a distance.","fullName":"Third person camera","name":"ThirdPersonCamera","objectType":"","eventsFunctions":[{"fullName":"","functionType":"Action","name":"onCreated","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"Update private properties through setters to check their values and initialize state."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetRotationHalfwayDuration"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyRotationHalfwayDuration()",""]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetTranslationZHalfwayDuration"},"parameters":["Object","Behavior","=","Object.Behavior::PropertyTranslationZHalfwayDuration()",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"Action","name":"doStepPreEvents","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":true,"value":"ThirdPersonCamera::ThirdPersonCamera::PropertyIsCalledManually"},"parameters":["Object","Behavior"]}],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::DoMoveCameraCloser"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"Move the camera closer to the object. This action must be called after the object has moved for the frame.","fullName":"Move the camera closer","functionType":"Action","name":"MoveCameraCloser","sentence":"Move the camera closer to _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"The camera following is called with an action, the call from doStepPreEvents must be disabled to avoid to do it twice."},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyIsCalledManually"},"parameters":["Object","Behavior",""]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::DoMoveCameraCloser"},"parameters":["Object","Behavior",""]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"Move the camera closer to the object.","fullName":"Do move the camera closer","functionType":"Action","name":"DoMoveCameraCloser","private":true,"sentence":"Do move the camera closer _PARAM0_","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"At each frame, the camera must catchup the target by a given ratio (speed)\ncameraX(t) - targetX = (cameraX(t - 1) - targetX) * (1 - speed)\n\nThe frame rate must not impact on the catch-up speed, we don't want a speed in ratio per frame but a speed ratio per second, like this:\ncameraX(t) - targetX = (cameraX(t - 1s) - targetX) * (1 - speed)\n\nOk, but we still need to process each frame, we can use a exponent for this:\ncameraX(t) - targetX = (cameraX(t - timeDelta) - targetX) * (1 - speed)^timeDelta\ncameraX(t) = targetX + (cameraX(t - timeDelta) - targetX) * exp(timeDelta * ln((1 - speed)))\n\npow is probably more efficient than precalculated log if the speed is changed continuously but this might be rare enough."},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Z translation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[],"events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::PropertyCameraZ"},"parameters":["Object","Behavior","<","Object.Behavior::FreeAreaZMin()"]}],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyCameraZ"},"parameters":["Object","Behavior","=","Object.Behavior::FreeAreaZMin() + (CameraZ - Object.Behavior::FreeAreaZMin()) * exp(TimeDelta() * TranslationZLogSpeed)"]}]},{"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::PropertyCameraZ"},"parameters":["Object","Behavior",">","Object.Behavior::FreeAreaZMax()"]}],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyCameraZ"},"parameters":["Object","Behavior","=","Object.Behavior::FreeAreaZMax() + (CameraZ - Object.Behavior::FreeAreaZMax()) * exp(TimeDelta() * TranslationZLogSpeed)"]}]}]}],"parameters":[]},{"colorB":228,"colorG":176,"colorR":74,"creationTime":0,"name":"Z rotation","source":"","type":"BuiltinCommonInstructions::Group","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::LookFromDistanceAtPosition3D"},"parameters":["","Object.X() + OffsetX","Object.Y() + OffsetY","CameraZ + OffsetZ","Distance","Object.Angle() + 90 + (AngleDifference(CameraAngle(Object.Layer(), 0), (Object.Angle() + 90))) * exp(TimeDelta() * Object.Behavior::PropertyRotationLogSpeed()) + RotationAngleOffset","Object.Object3D::RotationY() + ElevationAngleOffset","",""]}]}],"parameters":[]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the halfway time for rotation of the object.","fullName":"Halfway time for rotation","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"RotationHalfwayDuration","sentence":"the halfway time for rotation","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationHalfwayDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationHalfwayDuration","name":"SetRotationHalfwayDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"ln((1 - speed)) = ln(1 / 2) / halfwatTime"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyRotationHalfwayDuration"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyRotationLogSpeed"},"parameters":["Object","Behavior","=","log(0.5) / Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the halfway time on Z axis of the object.","fullName":"Halfway time on Z axis","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"TranslationZHalfwayDuration","sentence":"the halfway time on Z axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["TranslationZHalfwayDuration"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"TranslationZHalfwayDuration","name":"SetTranslationZHalfwayDuration","sentence":"","events":[{"type":"BuiltinCommonInstructions::Comment","color":{"b":109,"g":230,"r":255,"textB":0,"textG":0,"textR":0},"comment":"ln((1 - speed)) = ln(1 / 2) / halfwatTime"},{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyTranslationZHalfwayDuration"},"parameters":["Object","Behavior","=","Value"]},{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyTranslationZLogSpeed"},"parameters":["Object","Behavior","=","log(0.5) / Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area bottom border Z.","fullName":"Free area Z min","functionType":"Expression","group":"Private","name":"FreeAreaZMin","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Object3D::CenterZ() + OffsetZ - FollowFreeAreaZMin"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"Return follow free area top border Z.","fullName":"Free area Z max","functionType":"Expression","group":"Private","name":"FreeAreaZMax","private":true,"sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Object.Object3D::CenterZ() + OffsetZ + FollowFreeAreaZMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the follow free area top border on Z axis of the object.","fullName":"Follow free area top border on Z axis","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"FollowFreeAreaZMax","sentence":"the follow free area top border on Z axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FollowFreeAreaZMax"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FollowFreeAreaZMax","name":"SetFollowFreeAreaZMax","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyFollowFreeAreaZMax"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the follow free area bottom border on Z axis of the object.","fullName":"Follow free area bottom border on Z axis","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"FollowFreeAreaZMin","sentence":"the follow free area bottom border on Z axis","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["FollowFreeAreaZMin"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"FollowFreeAreaZMin","name":"SetFollowFreeAreaZMin","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyFollowFreeAreaZMin"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the camera distance of the object.","fullName":"Camera distance","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"Distance","sentence":"the camera distance","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["Distance"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"Distance","name":"SetDistance","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyDistance"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the x offset of the object.","fullName":"X offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"OffsetX","sentence":"the x offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["OffsetX"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"OffsetX","name":"SetOffsetX","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyOffsetX"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the y offset of the object.","fullName":"Y offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"OffsetY","sentence":"the y offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["OffsetY"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"OffsetY","name":"SetOffsetY","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyOffsetY"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the z offset of the object.","fullName":"Z offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"OffsetZ","sentence":"the z offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["OffsetZ"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"OffsetZ","name":"SetOffsetZ","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyOffsetZ"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the rotation angle offset of the object.","fullName":"Rotation angle offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"RotationAngleOffset","sentence":"the rotation angle offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["RotationAngleOffset"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"RotationAngleOffset","name":"SetRotationAngleOffset","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyRotationAngleOffset"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"description":"the elevation angle offset of the object.","fullName":"Elevation angle offset","functionType":"ExpressionAndCondition","group":"Third person camera configuration","name":"ElevationAngleOffset","sentence":"the elevation angle offset","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"SetReturnNumber"},"parameters":["ElevationAngleOffset"]}]}],"expressionType":{"type":"expression"},"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]},{"fullName":"","functionType":"ActionWithOperator","getterName":"ElevationAngleOffset","name":"SetElevationAngleOffset","sentence":"","events":[{"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"value":"ThirdPersonCamera::ThirdPersonCamera::SetPropertyElevationAngleOffset"},"parameters":["Object","Behavior","=","Value"]}]}],"parameters":[{"description":"Object","name":"Object","type":"object"},{"description":"Behavior","name":"Behavior","supplementaryInformation":"ThirdPersonCamera::ThirdPersonCamera","type":"behavior"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"","type":"Behavior","label":"3D capability","description":"","group":"","extraInformation":["Scene3D::Base3DBehavior"],"name":"Object3D"},{"value":"0.125","type":"Number","unit":"Second","label":"Halfway  time for rotation","description":"","group":"Catch-up speed","extraInformation":[],"name":"RotationHalfwayDuration"},{"value":"0.125","type":"Number","unit":"Second","label":"Halfway time on Z axis","description":"","group":"Catch-up speed","extraInformation":[],"name":"TranslationZHalfwayDuration"},{"value":"500","type":"Number","unit":"Pixel","label":"Camera distance","description":"","group":"Position","extraInformation":[],"name":"Distance"},{"value":"0","type":"Number","unit":"Pixel","label":"X offset","description":"","group":"Position","extraInformation":[],"name":"OffsetX"},{"value":"0","type":"Number","unit":"Pixel","label":"Y offset","description":"","group":"Position","extraInformation":[],"name":"OffsetY"},{"value":"0","type":"Number","unit":"Pixel","label":"Z offset","description":"","group":"Position","extraInformation":[],"name":"OffsetZ"},{"value":"0","type":"Number","unit":"DegreeAngle","label":"Rotation angle offset","description":"","group":"Position","extraInformation":[],"name":"RotationAngleOffset"},{"value":"20","type":"Number","unit":"DegreeAngle","label":"Elevation angle offset","description":"","group":"Position","extraInformation":[],"name":"ElevationAngleOffset"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area top border on Z axis","description":"","group":"Position","extraInformation":[],"advanced":true,"name":"FollowFreeAreaZMax"},{"value":"0","type":"Number","unit":"Pixel","label":"Follow free area bottom border on Z axis","description":"","group":"Position","extraInformation":[],"advanced":true,"name":"FollowFreeAreaZMin"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"RotationLogSpeed"},{"value":"","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"TranslationZLogSpeed"},{"value":"","type":"Boolean","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"IsCalledManually"},{"value":"0","type":"Number","unit":"Pixel","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"CameraZ"}],"sharedPropertyDescriptors":[]}],"eventsBasedObjects":[]}],"externalLayouts":[],"externalSourceFiles":[]}